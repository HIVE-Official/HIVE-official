[{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\admin\\next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\admin\\src\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\admin\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\admin\\src\\components\\builder-queue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\admin\\src\\components\\flag-queue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\admin\\src\\components\\metric-cards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\admin\\src\\components\\user-lookup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\__mocks__\\api-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\admin\\grant-role\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":90,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":90,"endColumn":18,"suggestions":[{"fix":{"range":[2701,2746],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { z } from \"zod\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\nimport { getFirestore } from \"firebase-admin/firestore\";\r\n\r\n// Validation schema\r\nconst grantRoleSchema = z.object({\r\n  userId: z.string().min(1, \"User ID is required\"),\r\n  role: z.enum([\"admin\", \"moderator\", \"builder\"], {\r\n    errorMap: () => ({ message: \"Role must be admin, moderator, or builder\" }),\r\n  }),\r\n});\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    // Parse and validate request body\r\n    const body = (await request.json()) as unknown;\r\n    const validatedData = grantRoleSchema.parse(body);\r\n\r\n    const { userId, role } = validatedData;\r\n\r\n    // Verify admin authentication\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json(\r\n        { error: \"Authorization header required\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    if (!token) {\r\n      return NextResponse.json(\r\n        { error: \"Invalid authorization format\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n\r\n    // Check if current user is admin\r\n    const db = getFirestore();\r\n    const currentUserDoc = await db\r\n      .collection(\"users\")\r\n      .doc(decodedToken.uid)\r\n      .get();\r\n    const currentUserData = currentUserDoc.data() as\r\n      | { role?: string }\r\n      | undefined;\r\n\r\n    if (!currentUserData || currentUserData.role !== \"admin\") {\r\n      return NextResponse.json(\r\n        { error: \"Admin access required\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // Verify target user exists\r\n    const targetUserDoc = await db.collection(\"users\").doc(userId).get();\r\n    if (!targetUserDoc.exists) {\r\n      return NextResponse.json({ error: \"User not found\" }, { status: 404 });\r\n    }\r\n\r\n    // Update user role\r\n    await db.collection(\"users\").doc(userId).update({\r\n      role,\r\n      updatedAt: new Date(),\r\n      updatedBy: decodedToken.uid,\r\n    });\r\n\r\n    // Set custom claims for Firebase Auth\r\n    await getAuth().setCustomUserClaims(userId, { role });\r\n\r\n    // Log admin action\r\n    await db.collection(\"admin_logs\").add({\r\n      action: \"grant_role\",\r\n      performedBy: decodedToken.uid,\r\n      targetUser: userId,\r\n      newRole: role,\r\n      timestamp: new Date(),\r\n      ip: request.headers.get(\"x-forwarded-for\") || \"unknown\",\r\n    });\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: `Role ${role} granted to user ${userId}`,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error granting role:\", error);\r\n\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        { error: \"Invalid request data\", details: error.errors },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: \"Internal server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\admin\\lookup-user\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":185,"column":15,"nodeType":"MemberExpression","messageId":"unexpected","endLine":185,"endColumn":27,"suggestions":[{"fix":{"range":[5987,6086],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":199,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":199,"endColumn":22,"suggestions":[{"fix":{"range":[6363,6412],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":206,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":206,"endColumn":20,"suggestions":[{"fix":{"range":[6573,6631],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":213,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":213,"endColumn":18,"suggestions":[{"fix":{"range":[6769,6812],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\nimport { NextResponse } from \"next/server\";\nimport { z } from \"zod\";\nimport { getAuth } from \"firebase-admin/auth\";\nimport { getFirestore } from \"firebase-admin/firestore\";\n\n// Validation schema\nconst lookupUserSchema = z.object({\n  query: z.string().min(1, \"Search query is required\"),\n});\n\n// User data interface\ninterface UserData {\n  uid: string;\n  email?: string;\n  emailVerified?: boolean;\n  displayName?: string;\n  photoURL?: string;\n  disabled?: boolean;\n  metadata?: {\n    creationTime?: string;\n    lastSignInTime?: string;\n  };\n}\n\n// Firestore user document interface\ninterface FirestoreUserData {\n  fullName?: string;\n  handle?: string;\n  schoolId?: string;\n  role?: string;\n  isBuilder?: boolean;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Parse and validate request body\n    const body = (await request.json()) as unknown;\n    const { query } = lookupUserSchema.parse(body);\n\n    // Verify admin authentication\n    const authHeader = request.headers.get(\"authorization\");\n    if (!authHeader?.startsWith(\"Bearer \")) {\n      return NextResponse.json(\n        { error: \"Authorization header required\" },\n        { status: 401 }\n      );\n    }\n\n    const token = authHeader.split(\"Bearer \")[1];\n    if (!token) {\n      return NextResponse.json(\n        { error: \"Invalid authorization format\" },\n        { status: 401 }\n      );\n    }\n\n    try {\n      const decodedToken = await getAuth().verifyIdToken(token);\n\n      // Check if current user is admin\n      const db = getFirestore();\n      const currentUserDoc = await db\n        .collection(\"users\")\n        .doc(decodedToken.uid)\n        .get();\n      const currentUserData = currentUserDoc.data() as\n        | FirestoreUserData\n        | undefined;\n\n      if (!currentUserData || currentUserData.role !== \"admin\") {\n        return NextResponse.json(\n          { error: \"Admin access required\" },\n          { status: 403 }\n        );\n      }\n\n      let userData: UserData | null = null;\n      let firestoreData: FirestoreUserData | null = null;\n\n      try {\n        // Try to lookup by email first\n        if (query.includes(\"@\")) {\n          try {\n            const userRecord = await getAuth().getUserByEmail(query);\n            userData = {\n              uid: userRecord.uid,\n              email: userRecord.email,\n              emailVerified: userRecord.emailVerified,\n              displayName: userRecord.displayName,\n              photoURL: userRecord.photoURL,\n              disabled: userRecord.disabled,\n              metadata: {\n                creationTime: userRecord.metadata.creationTime,\n                lastSignInTime: userRecord.metadata.lastSignInTime,\n              },\n            };\n          } catch (authError: unknown) {\n            const error = authError as { code?: string };\n            if (error.code !== \"auth/user-not-found\") {\n              throw authError;\n            }\n          }\n        } else {\n          // Try to lookup by UID\n          try {\n            const userRecord = await getAuth().getUser(query);\n            userData = {\n              uid: userRecord.uid,\n              email: userRecord.email,\n              emailVerified: userRecord.emailVerified,\n              displayName: userRecord.displayName,\n              photoURL: userRecord.photoURL,\n              disabled: userRecord.disabled,\n              metadata: {\n                creationTime: userRecord.metadata.creationTime,\n                lastSignInTime: userRecord.metadata.lastSignInTime,\n              },\n            };\n          } catch (authError: unknown) {\n            const error = authError as { code?: string };\n            if (error.code !== \"auth/user-not-found\") {\n              throw authError;\n            }\n          }\n        }\n\n        // If we found a user in Auth, get their Firestore data\n        if (userData) {\n          const userDoc = await db.collection(\"users\").doc(userData.uid).get();\n          if (userDoc.exists) {\n            const docData = userDoc.data();\n            firestoreData = {\n              fullName: docData?.fullName,\n              handle: docData?.handle,\n              schoolId: docData?.schoolId,\n              role: docData?.role,\n              isBuilder: docData?.isBuilder,\n              createdAt: docData?.createdAt?.toDate(),\n              updatedAt: docData?.updatedAt?.toDate(),\n            };\n          }\n        } else {\n          // If not found by email/UID, try searching Firestore by handle or name\n          const usersRef = db.collection(\"users\");\n\n          // Search by handle\n          const handleQuery = await usersRef\n            .where(\"handle\", \"==\", query)\n            .limit(1)\n            .get();\n          if (!handleQuery.empty) {\n            const doc = handleQuery.docs[0];\n            const docData = doc.data();\n\n            firestoreData = {\n              fullName: docData?.fullName,\n              handle: docData?.handle,\n              schoolId: docData?.schoolId,\n              role: docData?.role,\n              isBuilder: docData?.isBuilder,\n              createdAt: docData?.createdAt?.toDate(),\n              updatedAt: docData?.updatedAt?.toDate(),\n            };\n\n            // Get Auth data for this user\n            try {\n              const userRecord = await getAuth().getUser(doc.id);\n              userData = {\n                uid: userRecord.uid,\n                email: userRecord.email,\n                emailVerified: userRecord.emailVerified,\n                displayName: userRecord.displayName,\n                photoURL: userRecord.photoURL,\n                disabled: userRecord.disabled,\n                metadata: {\n                  creationTime: userRecord.metadata.creationTime,\n                  lastSignInTime: userRecord.metadata.lastSignInTime,\n                },\n              };\n            } catch {\n              // User exists in Firestore but not in Auth (orphaned data)\n              console.warn(\n                `User ${doc.id} exists in Firestore but not in Auth`\n              );\n            }\n          }\n        }\n\n        // Return combined data\n        return NextResponse.json({\n          found: userData !== null || firestoreData !== null,\n          auth: userData,\n          profile: firestoreData,\n        });\n      } catch (searchError) {\n        console.error(\"User lookup error:\", searchError);\n        return NextResponse.json(\n          { error: \"Error searching for user\" },\n          { status: 500 }\n        );\n      }\n    } catch (authError) {\n      console.error(\"Failed to verify admin token:\", authError);\n      return NextResponse.json(\n        { error: \"Invalid admin token\" },\n        { status: 401 }\n      );\n    }\n  } catch (error) {\n    console.error(\"Lookup user error:\", error);\n\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: \"Invalid request data\", details: error.errors },\n        { status: 400 }\n      );\n    }\n\n    return NextResponse.json(\n      { error: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\analytics\\landing\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":64,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":64,"endColumn":16,"suggestions":[{"fix":{"range":[1776,1952],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":73,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":73,"endColumn":18,"suggestions":[{"fix":{"range":[2055,2116],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":144,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":144,"endColumn":20,"suggestions":[{"fix":{"range":[3946,3995],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":146,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":146,"endColumn":20,"suggestions":[{"fix":{"range":[4017,4066],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\r\nimport { z } from \"zod\";\r\n\r\n// Event schemas for landing page analytics\r\nconst pageViewEventSchema = z.object({\r\n  sessionId: z.string().uuid(),\r\n  userId: z.string().uuid().optional(),\r\n  variant: z.enum([\"default\", \"animated\", \"minimal\", \"bold\"]),\r\n  loadTime: z.number().min(0),\r\n  viewport: z.object({\r\n    width: z.number().min(0),\r\n    height: z.number().min(0),\r\n  }),\r\n  referrer: z.string().optional(),\r\n});\r\n\r\nconst ctaClickEventSchema = z.object({\r\n  sessionId: z.string().uuid(),\r\n  userId: z.string().uuid().optional(),\r\n  ctaText: z.string(),\r\n  ctaVariant: z.enum([\"primary\", \"secondary\", \"outline\", \"ghost\"]),\r\n  position: z.enum([\"hero\", \"section\", \"footer\"]),\r\n  timeFromLoad: z.number().min(0),\r\n  destination: z.string(),\r\n});\r\n\r\nconst scrollDepthEventSchema = z.object({\r\n  sessionId: z.string().uuid(),\r\n  userId: z.string().uuid().optional(),\r\n  depth: z.number().min(0).max(100),\r\n  timeToDepth: z.number().min(0),\r\n  section: z.string(),\r\n});\r\n\r\n// Rate limiting\r\nconst rateLimitStore = new Map<string, { count: number; resetTime: number }>();\r\n\r\nfunction checkRateLimit(sessionId: string): boolean {\r\n  const now = Date.now();\r\n  const windowMs = 60 * 1000; // 1 minute\r\n  const maxRequests = 50; // 50 requests per minute\r\n\r\n  const current = rateLimitStore.get(sessionId);\r\n\r\n  if (!current || now > current.resetTime) {\r\n    rateLimitStore.set(sessionId, { count: 1, resetTime: now + windowMs });\r\n    return true;\r\n  }\r\n\r\n  if (current.count >= maxRequests) {\r\n    return false;\r\n  }\r\n\r\n  current.count++;\r\n  return true;\r\n}\r\n\r\n// Process analytics event\r\nasync function processAnalyticsEvent(\r\n  eventType: string,\r\n  eventData: Record<string, unknown>\r\n): Promise<void> {\r\n  try {\r\n    console.log(\"ðŸ“Š Analytics Event:\", {\r\n      type: eventType,\r\n      sessionId: eventData.sessionId,\r\n      timestamp: new Date().toISOString(),\r\n      data: eventData,\r\n    });\r\n\r\n    // In production: send to analytics service, store in database, etc.\r\n  } catch (error) {\r\n    console.error(\"âŒ Failed to process analytics event:\", error);\r\n  }\r\n}\r\n\r\ninterface AnalyticsRequestData {\r\n  event: string;\r\n  timestamp: number;\r\n  sessionId: string;\r\n  // Add other properties as needed\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const data = await request.json() as AnalyticsRequestData;\r\n    const eventType = request.nextUrl.searchParams.get(\"type\");\r\n\r\n    if (!eventType || !data) {\r\n      return NextResponse.json(\r\n        { error: \"Missing event type or body\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const sessionId = data.sessionId;\r\n    if (!sessionId) {\r\n      return NextResponse.json(\r\n        { error: \"Session ID required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    if (!checkRateLimit(sessionId)) {\r\n      return NextResponse.json(\r\n        { error: \"Rate limit exceeded\" },\r\n        { status: 429 }\r\n      );\r\n    }\r\n\r\n    // Process different event types\r\n    switch (eventType) {\r\n      case \"page_view\": {\r\n        const validatedData = pageViewEventSchema.parse(data);\r\n        await processAnalyticsEvent(\"landing_page_view\", validatedData);\r\n        break;\r\n      }\r\n\r\n      case \"cta_click\": {\r\n        const validatedData = ctaClickEventSchema.parse(data);\r\n        await processAnalyticsEvent(\"landing_cta_click\", validatedData);\r\n        break;\r\n      }\r\n\r\n      case \"scroll_depth\": {\r\n        const validatedData = scrollDepthEventSchema.parse(data);\r\n        await processAnalyticsEvent(\"landing_scroll_depth\", validatedData);\r\n        break;\r\n      }\r\n\r\n      default:\r\n        return NextResponse.json(\r\n          { error: \"Unknown event type\" },\r\n          { status: 400 }\r\n        );\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { success: true, timestamp: new Date().toISOString() },\r\n      { status: 200 }\r\n    );\r\n  } catch (error: unknown) {\r\n    if (error instanceof Error) {\r\n      console.error(\"Analytics error:\", error.message);\r\n    } else {\r\n      console.error(\"Unknown analytics error:\", error);\r\n    }\r\n    return NextResponse.json({ error: \"Analytics error\" }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function GET() {\r\n  return NextResponse.json({\r\n    status: \"healthy\",\r\n    timestamp: new Date().toISOString(),\r\n    events: [\"page_view\", \"cta_click\", \"scroll_depth\"],\r\n  });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\health\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\posts\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":101,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":101,"endColumn":22,"suggestions":[{"fix":{"range":[2560,2617],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":124,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":124,"endColumn":18,"suggestions":[{"fix":{"range":[3195,3240],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":186,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":186,"endColumn":18,"suggestions":[{"fix":{"range":[5296,5343],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\r\nimport {\r\n  PostCreationEngine,\r\n  CreatePostSchema,\r\n  PostAnalyticsTracker,\r\n  type CreatePostRequest,\r\n} from \"@hive/core\";\r\nimport { requireAuth } from \"@/lib/auth\";\r\nimport { db } from \"@/lib/firebase\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  setDoc,\r\n  serverTimestamp,\r\n  increment,\r\n  getDocs,\r\n  where,\r\n  orderBy,\r\n  query,\r\n  limit,\r\n} from \"firebase/firestore\";\r\n\r\n/**\r\n * POST /api/posts\r\n * Create a new post\r\n */\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    // Authenticate user\r\n    const user = await requireAuth(request);\r\n\r\n    // Parse and validate request body\r\n    const body = await request.json();\r\n    const validation = CreatePostSchema.safeParse(body);\r\n\r\n    if (!validation.success) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Invalid request data\",\r\n          details: validation.error.errors.map((e) => e.message),\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const createPostRequest: CreatePostRequest = validation.data;\r\n\r\n    // Get user profile information\r\n    // TODO: Implement proper user profile fetching\r\n    const userProfile = {\r\n      handle: user.email?.split(\"@\")[0] || \"user\",\r\n      fullName: user.email?.split(\"@\")[0] || \"User\",\r\n    };\r\n\r\n    // Create post using engine\r\n    const result = await PostCreationEngine.createPost(\r\n      user.uid,\r\n      userProfile.handle,\r\n      userProfile.fullName,\r\n      createPostRequest\r\n    );\r\n\r\n    if (!result.success) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Failed to create post\",\r\n          details: result.errors,\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const post = result.post!;\r\n\r\n    // Save to Firestore\r\n    const postRef = doc(collection(db, \"posts\"), post.id);\r\n    const postData = {\r\n      ...post,\r\n      createdAt: serverTimestamp(),\r\n      updatedAt: serverTimestamp(),\r\n      publishedAt: post.publishedAt ? serverTimestamp() : null,\r\n      scheduledAt: post.scheduledAt ? post.scheduledAt : null,\r\n    };\r\n\r\n    await setDoc(postRef, postData);\r\n\r\n    // If posting to a space, update the space's post count and activity\r\n    if (post.spaceId) {\r\n      try {\r\n        const spaceRef = doc(db, \"spaces\", post.spaceId);\r\n        await setDoc(\r\n          spaceRef,\r\n          {\r\n            lastPostAt: serverTimestamp(),\r\n            postCount: increment(1),\r\n            lastActivity: serverTimestamp(),\r\n          },\r\n          { merge: true }\r\n        );\r\n      } catch (error) {\r\n        console.error(\"Failed to update space activity:\", error);\r\n        // Don't fail the request if space update fails\r\n      }\r\n    }\r\n\r\n    // Track analytics\r\n    PostAnalyticsTracker.trackPostCreated(post);\r\n\r\n    // Return created post\r\n    return NextResponse.json(\r\n      {\r\n        success: true,\r\n        post: {\r\n          ...post,\r\n          createdAt: post.createdAt.toISOString(),\r\n          updatedAt: post.updatedAt.toISOString(),\r\n          publishedAt: post.publishedAt?.toISOString(),\r\n          scheduledAt: post.scheduledAt?.toISOString(),\r\n        },\r\n      },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Post creation error:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Internal server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * GET /api/posts\r\n * Retrieve posts (feed)\r\n */\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Authenticate user (required but user object not used in this endpoint)\r\n    const _user = await requireAuth(request);\r\n\r\n    const { searchParams } = new URL(request.url);\r\n    const spaceId = searchParams.get(\"spaceId\");\r\n    const _limit = parseInt(searchParams.get(\"limit\") || \"20\");\r\n    const _offset = parseInt(searchParams.get(\"offset\") || \"0\");\r\n    const type =\r\n      (searchParams.get(\"type\") as \"public\" | \"space\" | \"personal\") || \"public\";\r\n\r\n    // Build query based on parameters\r\n    const postsCollection = collection(db, \"posts\");\r\n    const constraints = [];\r\n\r\n    // Filter by space if specified\r\n    if (spaceId) {\r\n      constraints.push(where(\"spaceId\", \"==\", spaceId));\r\n    } else if (type === \"public\") {\r\n      constraints.push(where(\"visibility\", \"==\", \"public\"));\r\n      constraints.push(where(\"status\", \"==\", \"published\"));\r\n    }\r\n\r\n    // Add ordering and pagination\r\n    constraints.push(orderBy(\"publishedAt\", \"desc\"));\r\n    constraints.push(limit(_limit));\r\n    // TODO: Implement cursor-based pagination instead of offset\r\n    // Firestore doesn't support offset efficiently for large datasets\r\n\r\n    const postsSnapshot = await getDocs(query(postsCollection, ...constraints));\r\n    const posts = postsSnapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n      createdAt: doc.data().createdAt?.toDate()?.toISOString(),\r\n      updatedAt: doc.data().updatedAt?.toDate()?.toISOString(),\r\n      publishedAt: doc.data().publishedAt?.toDate()?.toISOString(),\r\n      scheduledAt: doc.data().scheduledAt?.toDate()?.toISOString(),\r\n    }));\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      posts,\r\n      pagination: {\r\n        limit: _limit,\r\n        offset: _offset,\r\n        hasMore: posts.length === _limit,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Posts retrieval error:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Internal server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\profile\\my-spaces\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":144,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":144,"endColumn":18,"suggestions":[{"fix":{"range":[4259,4306],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\nimport type { Timestamp } from \"firebase-admin/firestore\";\r\n\r\ninterface SpaceData {\r\n  name: string;\r\n  description: string;\r\n  type: string;\r\n  subType?: string;\r\n  status: string;\r\n  memberCount?: number;\r\n  schoolId: string;\r\n  createdAt: Timestamp;\r\n  updatedAt: Timestamp;\r\n}\r\n\r\ninterface MembershipData {\r\n  role?: string;\r\n  joinedAt?: Timestamp;\r\n  joinMethod?: string;\r\n  joinReason?: string;\r\n}\r\n\r\n/**\r\n * Get user's spaces with membership details\r\n * Returns all spaces the user is a member of, sorted by recent activity\r\n */\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Verify the requesting user is authenticated\r\n    const authHeader = request.headers.get(\"Authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json(\r\n        { error: \"Authorization header required\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const token = authHeader.substring(7);\r\n    const auth = getAuth();\r\n\r\n    const decodedToken = await auth.verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    // Get all space memberships for the user\r\n    const allSpacesSnapshot = await dbAdmin\r\n      .collectionGroup(\"members\")\r\n      .where(\"userId\", \"==\", userId)\r\n      .get();\r\n\r\n    if (allSpacesSnapshot.empty) {\r\n      return NextResponse.json({\r\n        success: true,\r\n        spaces: [],\r\n        totalCount: 0,\r\n      });\r\n    }\r\n\r\n    // Collect space IDs from memberships\r\n    const spaceIds = allSpacesSnapshot.docs\r\n      .map((doc) => {\r\n        const spaceId = doc.ref.parent.parent?.id;\r\n        return spaceId;\r\n      })\r\n      .filter((id): id is string => Boolean(id));\r\n\r\n    // Batch fetch space details\r\n    const spacePromises = spaceIds.map(async (spaceId) => {\r\n      const spaceDoc = await dbAdmin.collection(\"spaces\").doc(spaceId).get();\r\n      if (!spaceDoc.exists) return null;\r\n\r\n      const spaceData = spaceDoc.data() as SpaceData;\r\n\r\n      // Get membership details for this space\r\n      const membershipDoc = allSpacesSnapshot.docs.find(\r\n        (doc) => doc.ref.parent.parent?.id === spaceId\r\n      );\r\n      const membershipData = membershipDoc?.data() as\r\n        | MembershipData\r\n        | undefined;\r\n\r\n      return {\r\n        id: spaceId,\r\n        name: spaceData.name,\r\n        description: spaceData.description,\r\n        type: spaceData.type,\r\n        subType: spaceData.subType,\r\n        status: spaceData.status,\r\n        memberCount: spaceData.memberCount || 0,\r\n        schoolId: spaceData.schoolId,\r\n        createdAt: spaceData.createdAt,\r\n        updatedAt: spaceData.updatedAt,\r\n        // Membership details\r\n        membership: {\r\n          role: membershipData?.role || \"member\",\r\n          joinedAt: membershipData?.joinedAt,\r\n          joinMethod: membershipData?.joinMethod,\r\n          joinReason: membershipData?.joinReason,\r\n        },\r\n      };\r\n    });\r\n\r\n    const spacesData = await Promise.all(spacePromises);\r\n    const validSpaces = spacesData.filter(\r\n      (space): space is NonNullable<typeof space> => space !== null\r\n    );\r\n\r\n    // Sort spaces by recent activity (most recent first)\r\n    validSpaces.sort((a, b) => {\r\n      const aTime = a.membership.joinedAt?.toMillis?.() || 0;\r\n      const bTime = b.membership.joinedAt?.toMillis?.() || 0;\r\n      return bTime - aTime;\r\n    });\r\n\r\n    // Group spaces by type for better organization\r\n    const spacesByType = validSpaces.reduce(\r\n      (acc, space) => {\r\n        const type = space.type;\r\n        if (!acc[type]) {\r\n          acc[type] = [];\r\n        }\r\n        acc[type].push(space);\r\n        return acc;\r\n      },\r\n      {} as Record<string, typeof validSpaces>\r\n    );\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      spaces: validSpaces,\r\n      spacesByType: spacesByType,\r\n      totalCount: validSpaces.length,\r\n      typeCounts: Object.keys(spacesByType).reduce(\r\n        (acc, type) => {\r\n          acc[type] = spacesByType[type].length;\r\n          return acc;\r\n        },\r\n        {} as Record<string, number>\r\n      ),\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Get user spaces error:\", error);\r\n\r\n    if (\r\n      error instanceof Error &&\r\n      \"code\" in error &&\r\n      error.code === \"auth/id-token-expired\"\r\n    ) {\r\n      return NextResponse.json({ error: \"Token expired\" }, { status: 401 });\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: \"Internal server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\schools\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":46,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":46,"endColumn":18,"suggestions":[{"fix":{"range":[1088,1157],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { dbAdmin } from \"@/lib/firebase-admin\";\nimport type { School } from \"@hive/core\";\nimport { NextResponse } from \"next/server\";\n\n// Mock schools data for development when Firebase is not configured\nconst mockSchools: School[] = [\n  {\n    id: \"ub\",\n    name: \"University at Buffalo\",\n    domain: \"buffalo.edu\",\n    status: \"active\",\n    waitlistCount: 0,\n  },\n  {\n    id: \"cornell\",\n    name: \"Cornell University\",\n    domain: \"cornell.edu\",\n    status: \"active\",\n    waitlistCount: 0,\n  },\n  {\n    id: \"columbia\",\n    name: \"Columbia University\",\n    domain: \"columbia.edu\",\n    status: \"waitlist\",\n    waitlistCount: 156,\n  },\n  {\n    id: \"nyu\",\n    name: \"New York University\",\n    domain: \"nyu.edu\",\n    status: \"waitlist\",\n    waitlistCount: 203,\n  },\n];\n\nexport async function GET() {\n  try {\n    // Try to connect to Firebase first\n    const schoolsSnapshot = await dbAdmin.collection(\"schools\").get();\n    const schools = schoolsSnapshot.docs.map(\n      (doc) => ({ id: doc.id, ...doc.data() }) as School\n    );\n    return NextResponse.json(schools);\n  } catch (error) {\n    console.error(\"Firebase connection failed, using mock data:\", error);\n\n    // Return mock data for development\n    return NextResponse.json(mockSchools);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\[spaceId]\\feed\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":41,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":41,"endColumn":18,"suggestions":[{"fix":{"range":[973,1073],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\nimport { type Post } from \"@hive/core\";\r\n\r\nexport async function GET(\r\n  request: Request,\r\n  { params }: { params: Promise<{ spaceId: string }> }\r\n) {\r\n  let spaceId: string | undefined;\r\n\r\n  try {\r\n    ({ spaceId } = await params);\r\n\r\n    if (!spaceId) {\r\n      return NextResponse.json(\r\n        { error: \"Space ID is required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const postsRef = dbAdmin\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\");\r\n    const snapshot = await postsRef\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .limit(20)\r\n      .get();\r\n\r\n    if (snapshot.empty) {\r\n      return NextResponse.json([], { status: 200 });\r\n    }\r\n\r\n    const posts = snapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n    })) as Post[];\r\n\r\n    return NextResponse.json(posts, { status: 200 });\r\n  } catch (error) {\r\n    console.error(\r\n      `Error fetching feed for space ${spaceId || \"unknown\"}:`,\r\n      error\r\n    );\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch feed\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\[spaceId]\\membership\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":140,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":140,"endColumn":22,"suggestions":[{"fix":{"range":[4219,4274],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":211,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":211,"endColumn":18,"suggestions":[{"fix":{"range":[6128,6180],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { z } from \"zod\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\n\r\nconst membershipQuerySchema = z.object({\r\n  limit: z.coerce.number().min(1).max(100).default(50),\r\n  offset: z.coerce.number().min(0).default(0),\r\n  role: z.enum([\"creator\", \"admin\", \"member\"]).optional(),\r\n});\r\n\r\n/**\r\n * Get space membership details including member list\r\n * Returns paginated member list with user details and membership info\r\n */\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ spaceId: string }> }\r\n) {\r\n  try {\r\n    const { spaceId } = await params;\r\n\r\n    // Parse query parameters\r\n    const url = new URL(request.url);\r\n    const queryParams = Object.fromEntries(url.searchParams.entries());\r\n    const { limit, offset, role } = membershipQuerySchema.parse(queryParams);\r\n\r\n    // Verify the requesting user is authenticated\r\n    const authHeader = request.headers.get(\"Authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json(\r\n        { error: \"Authorization header required\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const token = authHeader.substring(7);\r\n    const auth = getAuth();\r\n\r\n    const decodedToken = await auth.verifyIdToken(token);\r\n    const requestingUserId = decodedToken.uid;\r\n\r\n    // Check if space exists\r\n    const spaceDoc = await dbAdmin.collection(\"spaces\").doc(spaceId).get();\r\n    if (!spaceDoc.exists) {\r\n      return NextResponse.json({ error: \"Space not found\" }, { status: 404 });\r\n    }\r\n\r\n    const spaceData = spaceDoc.data();\r\n\r\n    if (!spaceData) {\r\n      return NextResponse.json(\r\n        { error: \"Space data not found\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Check if requesting user is a member of this space\r\n    const requestingUserMemberDoc = await dbAdmin\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"members\")\r\n      .doc(requestingUserId)\r\n      .get();\r\n\r\n    if (!requestingUserMemberDoc.exists) {\r\n      return NextResponse.json(\r\n        { error: \"Access denied: Not a member of this space\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const requestingUserMembership = requestingUserMemberDoc.data();\r\n\r\n    if (!requestingUserMembership) {\r\n      return NextResponse.json(\r\n        { error: \"Membership data not found\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // Build members query\r\n    let membersQuery = dbAdmin\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"members\")\r\n      .orderBy(\"joinedAt\", \"desc\");\r\n\r\n    // Add role filter if specified\r\n    if (role) {\r\n      membersQuery = membersQuery.where(\"role\", \"==\", role);\r\n    }\r\n\r\n    // Get members with pagination\r\n    const membersSnapshot = await membersQuery\r\n      .limit(limit)\r\n      .offset(offset)\r\n      .get();\r\n\r\n    // Get total count for pagination\r\n    const totalMembersSnapshot = await dbAdmin\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"members\")\r\n      .get();\r\n\r\n    const totalCount = totalMembersSnapshot.size;\r\n\r\n    // Fetch user details for each member\r\n    const memberPromises = membersSnapshot.docs.map(async (memberDoc) => {\r\n      const memberData = memberDoc.data();\r\n      const userId = memberDoc.id;\r\n\r\n      try {\r\n        // Get user profile\r\n        const userDoc = await dbAdmin.collection(\"users\").doc(userId).get();\r\n        const userData = userDoc.exists ? userDoc.data() : null;\r\n\r\n        return {\r\n          userId,\r\n          membership: {\r\n            role: memberData.role,\r\n            joinedAt: memberData.joinedAt,\r\n            joinMethod: memberData.joinMethod,\r\n            joinReason: memberData.joinReason,\r\n          },\r\n          profile: userData\r\n            ? {\r\n                handle: userData.handle,\r\n                displayName: userData.displayName,\r\n                avatar: userData.avatar,\r\n                major: userData.major,\r\n                classYear: userData.classYear,\r\n                bio: userData.bio,\r\n              }\r\n            : null,\r\n        };\r\n      } catch (error) {\r\n        console.error(`Error fetching user ${userId}:`, error);\r\n        return {\r\n          userId,\r\n          membership: {\r\n            role: memberData.role,\r\n            joinedAt: memberData.joinedAt,\r\n            joinMethod: memberData.joinMethod,\r\n            joinReason: memberData.joinReason,\r\n          },\r\n          profile: null,\r\n        };\r\n      }\r\n    });\r\n\r\n    const members = await Promise.all(memberPromises);\r\n\r\n    // Group members by role for better organization\r\n    const membersByRole = members.reduce(\r\n      (acc, member) => {\r\n        const role = member.membership.role;\r\n        if (!acc[role]) {\r\n          acc[role] = [];\r\n        }\r\n        acc[role].push(member);\r\n        return acc;\r\n      },\r\n      {} as Record<string, typeof members>\r\n    );\r\n\r\n    // Calculate role counts\r\n    const roleCounts = Object.keys(membersByRole).reduce(\r\n      (acc, role) => {\r\n        acc[role] = membersByRole[role].length;\r\n        return acc;\r\n      },\r\n      {} as Record<string, number>\r\n    );\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      space: {\r\n        id: spaceId,\r\n        name: spaceData.name,\r\n        description: spaceData.description,\r\n        type: spaceData.type,\r\n        subType: spaceData.subType,\r\n        memberCount: spaceData.memberCount || 0,\r\n      },\r\n      requestingUser: {\r\n        userId: requestingUserId,\r\n        role: requestingUserMembership.role,\r\n        joinedAt: requestingUserMembership.joinedAt,\r\n      },\r\n      members,\r\n      membersByRole,\r\n      pagination: {\r\n        limit,\r\n        offset,\r\n        totalCount,\r\n        hasMore: offset + limit < totalCount,\r\n        nextOffset: offset + limit < totalCount ? offset + limit : null,\r\n      },\r\n      roleCounts: {\r\n        ...roleCounts,\r\n        total: totalCount,\r\n      },\r\n      filters: {\r\n        role: role || null,\r\n      },\r\n    });\r\n  } catch (error: unknown) {\r\n    console.error(\"Get space membership error:\", error);\r\n\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        { error: \"Invalid query parameters\", details: error.errors },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    if (\r\n      error instanceof Error &&\r\n      \"code\" in error &&\r\n      (error as { code: string }).code === \"auth/id-token-expired\"\r\n    ) {\r\n      return NextResponse.json({ error: \"Token expired\" }, { status: 401 });\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: \"Internal server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\[spaceId]\\posts\\[postId]\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":91,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":91,"endColumn":18,"suggestions":[{"fix":{"range":[2451,2496],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":223,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":223,"endColumn":18,"suggestions":[{"fix":{"range":[5957,6001],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":318,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":318,"endColumn":18,"suggestions":[{"fix":{"range":[8461,8506],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":431,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":431,"endColumn":18,"suggestions":[{"fix":{"range":[11614,11663],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport type { NextRequest } from \"next/server\";\r\nimport { z } from \"zod\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\n\r\nconst EditPostSchema = z.object({\r\n  content: z.string().min(1).max(2000),\r\n});\r\n\r\nconst ReactionSchema = z.object({\r\n  reaction: z.enum([\"heart\", \"thumbsUp\", \"laugh\", \"wow\", \"sad\", \"angry\"]),\r\n});\r\n\r\nconst db = dbAdmin;\r\n\r\n// GET /api/spaces/[spaceId]/posts/[postId] - Get a specific post\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ spaceId: string; postId: string }> }\r\n) {\r\n  try {\r\n    const { spaceId, postId } = await params;\r\n\r\n    // Get auth header and verify token\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const auth = getAuth();\r\n    const decodedToken = await auth.verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    // Check if user is member of the space\r\n    const memberDoc = await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"members\")\r\n      .doc(userId)\r\n      .get();\r\n\r\n    if (!memberDoc.exists) {\r\n      return NextResponse.json(\r\n        { error: \"Not a member of this space\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // Get the post\r\n    const postDoc = await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\")\r\n      .doc(postId)\r\n      .get();\r\n\r\n    if (!postDoc.exists) {\r\n      return NextResponse.json({ error: \"Post not found\" }, { status: 404 });\r\n    }\r\n\r\n    const postData = postDoc.data();\r\n\r\n    if (!postData) {\r\n      return NextResponse.json(\r\n        { error: \"Post data not found\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Get author info\r\n    const authorDoc = await db.collection(\"users\").doc(postData.authorId).get();\r\n    const author = authorDoc.exists ? authorDoc.data() : null;\r\n\r\n    const post = {\r\n      id: postDoc.id,\r\n      ...postData,\r\n      author: author\r\n        ? {\r\n            id: authorDoc.id,\r\n            fullName: author.fullName,\r\n            handle: author.handle,\r\n            photoURL: author.photoURL,\r\n          }\r\n        : null,\r\n    };\r\n\r\n    return NextResponse.json({ post });\r\n  } catch (error) {\r\n    console.error(\"Error fetching post:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch post\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// PATCH /api/spaces/[spaceId]/posts/[postId] - Edit a post\r\nexport async function PATCH(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ spaceId: string; postId: string }> }\r\n) {\r\n  try {\r\n    const { spaceId, postId } = await params;\r\n\r\n    // Get auth header and verify token\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const auth = getAuth();\r\n    const decodedToken = await auth.verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const body = (await request.json()) as unknown;\r\n    const validatedData = EditPostSchema.parse(body);\r\n\r\n    // Get the post\r\n    const postDoc = await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\")\r\n      .doc(postId)\r\n      .get();\r\n\r\n    if (!postDoc.exists) {\r\n      return NextResponse.json({ error: \"Post not found\" }, { status: 404 });\r\n    }\r\n\r\n    const postData = postDoc.data();\r\n\r\n    if (!postData) {\r\n      return NextResponse.json(\r\n        { error: \"Post data not found\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Check if post is within edit window (15 minutes)\r\n    const createdAt = postData.createdAt.toDate();\r\n    const now = new Date();\r\n    const editWindowMs = 15 * 60 * 1000; // 15 minutes\r\n\r\n    if (now.getTime() - createdAt.getTime() > editWindowMs) {\r\n      return NextResponse.json(\r\n        {\r\n          error:\r\n            \"Edit window has expired. Posts can only be edited within 15 minutes of creation.\",\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Check permissions - only author can edit\r\n    if (postData.authorId !== userId) {\r\n      return NextResponse.json(\r\n        { error: \"Only the author can edit this post\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // Update the post\r\n    await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\")\r\n      .doc(postId)\r\n      .update({\r\n        ...validatedData,\r\n        isEdited: true,\r\n        updatedAt: new Date(),\r\n      });\r\n\r\n    // Get updated post with author info\r\n    const updatedPostDoc = await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\")\r\n      .doc(postId)\r\n      .get();\r\n\r\n    const updatedPostData = updatedPostDoc.data();\r\n\r\n    if (!updatedPostData) {\r\n      return NextResponse.json(\r\n        { error: \"Updated post data not found\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    const authorDoc = await db\r\n      .collection(\"users\")\r\n      .doc(updatedPostData.authorId)\r\n      .get();\r\n    const author = authorDoc.data();\r\n\r\n    const updatedPost = {\r\n      id: updatedPostDoc.id,\r\n      ...updatedPostData,\r\n      author: {\r\n        id: updatedPostData.authorId,\r\n        fullName: author?.fullName || \"Unknown User\",\r\n        handle: author?.handle || \"unknown\",\r\n        photoURL: author?.photoURL || null,\r\n      },\r\n    };\r\n\r\n    return NextResponse.json({ post: updatedPost });\r\n  } catch (error) {\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Invalid post data\",\r\n          details: error.errors,\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    console.error(\"Error editing post:\", error);\r\n    return NextResponse.json({ error: \"Failed to edit post\" }, { status: 500 });\r\n  }\r\n}\r\n\r\n// DELETE /api/spaces/[spaceId]/posts/[postId] - Delete a post\r\nexport async function DELETE(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ spaceId: string; postId: string }> }\r\n) {\r\n  try {\r\n    const { spaceId, postId } = await params;\r\n\r\n    // Get auth header and verify token\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const auth = getAuth();\r\n    const decodedToken = await auth.verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    // Get the post\r\n    const postDoc = await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\")\r\n      .doc(postId)\r\n      .get();\r\n\r\n    if (!postDoc.exists) {\r\n      return NextResponse.json({ error: \"Post not found\" }, { status: 404 });\r\n    }\r\n\r\n    const postData = postDoc.data();\r\n\r\n    if (!postData) {\r\n      return NextResponse.json(\r\n        { error: \"Post data not found\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Check permissions - author, space builders, or admins can delete\r\n    const memberDoc = await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"members\")\r\n      .doc(userId)\r\n      .get();\r\n\r\n    if (!memberDoc.exists) {\r\n      return NextResponse.json(\r\n        { error: \"Not a member of this space\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const memberData = memberDoc.data();\r\n\r\n    if (!memberData) {\r\n      return NextResponse.json(\r\n        { error: \"Member data not found\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const canDelete =\r\n      postData.authorId === userId ||\r\n      memberData.role === \"builder\" ||\r\n      memberData.role === \"admin\";\r\n\r\n    if (!canDelete) {\r\n      return NextResponse.json(\r\n        { error: \"Insufficient permissions to delete this post\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // Soft delete the post\r\n    await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\")\r\n      .doc(postId)\r\n      .update({\r\n        isDeleted: true,\r\n        deletedAt: new Date(),\r\n        deletedBy: userId,\r\n      });\r\n\r\n    return NextResponse.json({ message: \"Post deleted successfully\" });\r\n  } catch (error) {\r\n    console.error(\"Error deleting post:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to delete post\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// POST /api/spaces/[spaceId]/posts/[postId] - React to a post\r\nexport async function POST(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ spaceId: string; postId: string }> }\r\n) {\r\n  try {\r\n    const { spaceId, postId } = await params;\r\n\r\n    // Get auth header and verify token\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const auth = getAuth();\r\n    const decodedToken = await auth.verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const body = (await request.json()) as unknown;\r\n    const { reaction } = ReactionSchema.parse(body);\r\n\r\n    // Check if user is member of the space\r\n    const memberDoc = await db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"members\")\r\n      .doc(userId)\r\n      .get();\r\n\r\n    if (!memberDoc.exists) {\r\n      return NextResponse.json(\r\n        { error: \"Not a member of this space\" },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // Get the post\r\n    const postRef = db\r\n      .collection(\"spaces\")\r\n      .doc(spaceId)\r\n      .collection(\"posts\")\r\n      .doc(postId);\r\n\r\n    const postDoc = await postRef.get();\r\n    if (!postDoc.exists) {\r\n      return NextResponse.json({ error: \"Post not found\" }, { status: 404 });\r\n    }\r\n\r\n    const postData = postDoc.data();\r\n\r\n    if (!postData) {\r\n      return NextResponse.json(\r\n        { error: \"Post data not found\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Update reactions\r\n    const currentReactions = postData.reactions || {};\r\n    const currentReactedUsers = postData.reactedUsers || {};\r\n\r\n    // Initialize reaction arrays if they don't exist\r\n    if (!currentReactedUsers[reaction]) {\r\n      currentReactedUsers[reaction] = [];\r\n    }\r\n\r\n    // Toggle reaction\r\n    if (!currentReactedUsers[reaction].includes(userId)) {\r\n      currentReactedUsers[reaction].push(userId);\r\n      currentReactions[reaction] = (currentReactions[reaction] || 0) + 1;\r\n    } else {\r\n      // Remove reaction\r\n      currentReactedUsers[reaction] = currentReactedUsers[reaction].filter(\r\n        (uid: string) => uid !== userId\r\n      );\r\n      currentReactions[reaction] = Math.max(\r\n        0,\r\n        (currentReactions[reaction] || 0) - 1\r\n      );\r\n    }\r\n\r\n    // Update the post\r\n    await postRef.update({\r\n      reactions: currentReactions,\r\n      reactedUsers: currentReactedUsers,\r\n      updatedAt: new Date(),\r\n    });\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      reactions: currentReactions,\r\n      userReacted: currentReactedUsers[reaction].includes(userId),\r\n    });\r\n  } catch (error) {\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Invalid reaction data\",\r\n          details: error.errors,\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    console.error(\"Error updating reaction:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to update reaction\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\[spaceId]\\posts\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":161,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":161,"endColumn":18,"suggestions":[{"fix":{"range":[4323,4369],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":287,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":287,"endColumn":18,"suggestions":[{"fix":{"range":[7613,7658],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\nimport { z } from \"zod\";\nimport { dbAdmin } from \"@/lib/firebase-admin\";\nimport { getAuth } from \"firebase-admin/auth\";\nimport { getAuthTokenFromRequest } from \"@/lib/auth\";\nimport { postCreationRateLimit } from \"@/lib/rate-limit\";\n\nconst CreatePostSchema = z.object({\n  content: z.string().min(1).max(2000),\n  type: z.enum([\"text\", \"image\", \"link\", \"tool\"]).default(\"text\"),\n  imageUrl: z.string().url().optional(),\n  linkUrl: z.string().url().optional(),\n  toolId: z.string().optional(),\n});\n\nconst db = dbAdmin;\n\n// Simple profanity check - in production, use a proper service\nconst checkProfanity = (text: string): boolean => {\n  const profanityWords = [\"spam\", \"scam\"]; // Minimal list for demo\n  return profanityWords.some((word) => text.toLowerCase().includes(word));\n};\n\n// GET /api/spaces/[spaceId]/posts - Get posts for a space\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ spaceId: string }> }\n) {\n  try {\n    // Get and validate auth token\n    const token = getAuthTokenFromRequest(request);\n    if (!token) {\n      return NextResponse.json(\n        { error: \"Authentication required\" },\n        { status: 401 }\n      );\n    }\n\n    const auth = getAuth();\n    const decodedToken = await auth.verifyIdToken(token);\n\n    const { spaceId } = await params;\n\n    const { searchParams } = new URL(request.url);\n    const limit = Math.min(parseInt(searchParams.get(\"limit\") || \"20\"), 50);\n    const lastPostId = searchParams.get(\"lastPostId\");\n\n    // Check if user is member of the space\n    const memberDoc = await db\n      .collection(\"spaces\")\n      .doc(spaceId)\n      .collection(\"members\")\n      .doc(decodedToken.uid)\n      .get();\n\n    if (!memberDoc.exists) {\n      return NextResponse.json(\n        { error: \"Not a member of this space\" },\n        { status: 403 }\n      );\n    }\n\n    // Build query for posts\n    let query = db\n      .collection(\"spaces\")\n      .doc(spaceId)\n      .collection(\"posts\")\n      .orderBy(\"createdAt\", \"desc\")\n      .limit(limit);\n\n    if (lastPostId) {\n      const lastPostDoc = await db\n        .collection(\"spaces\")\n        .doc(spaceId)\n        .collection(\"posts\")\n        .doc(lastPostId)\n        .get();\n\n      if (lastPostDoc.exists) {\n        query = query.startAfter(lastPostDoc);\n      }\n    }\n\n    const postsSnapshot = await query.get();\n\n    // Get pinned posts separately (always show at top)\n    const pinnedQuery = await db\n      .collection(\"spaces\")\n      .doc(spaceId)\n      .collection(\"posts\")\n      .where(\"isPinned\", \"==\", true)\n      .orderBy(\"pinnedAt\", \"desc\")\n      .get();\n\n    const posts = [];\n    const pinnedPosts = [];\n\n    // Process pinned posts\n    for (const doc of pinnedQuery.docs) {\n      const postData = doc.data();\n\n      // Get author info\n      const authorDoc = await db\n        .collection(\"users\")\n        .doc(postData.authorId)\n        .get();\n      const author = authorDoc.exists ? authorDoc.data() : null;\n\n      pinnedPosts.push({\n        id: doc.id,\n        ...postData,\n        author: author\n          ? {\n              id: authorDoc.id,\n              fullName: author.fullName,\n              handle: author.handle,\n              photoURL: author.photoURL,\n            }\n          : null,\n      });\n    }\n\n    // Process regular posts\n    for (const doc of postsSnapshot.docs) {\n      const postData = doc.data();\n\n      // Skip if already in pinned posts\n      if (postData.isPinned) continue;\n\n      // Get author info\n      const authorDoc = await db\n        .collection(\"users\")\n        .doc(postData.authorId)\n        .get();\n      const author = authorDoc.exists ? authorDoc.data() : null;\n\n      posts.push({\n        id: doc.id,\n        ...postData,\n        author: author\n          ? {\n              id: authorDoc.id,\n              fullName: author.fullName,\n              handle: author.handle,\n              photoURL: author.photoURL,\n            }\n          : null,\n      });\n    }\n\n    return NextResponse.json({\n      posts: [...pinnedPosts, ...posts],\n      hasMore: postsSnapshot.docs.length === limit,\n      lastPostId:\n        postsSnapshot.docs.length > 0\n          ? postsSnapshot.docs[postsSnapshot.docs.length - 1].id\n          : null,\n    });\n  } catch (error) {\n    console.error(\"Error fetching posts:\", error);\n    return NextResponse.json(\n      { error: \"Failed to fetch posts\" },\n      { status: 500 }\n    );\n  }\n}\n\n// POST /api/spaces/[spaceId]/posts - Create a new post\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: Promise<{ spaceId: string }> }\n) {\n  try {\n    const { spaceId } = await params;\n\n    // Get auth header and verify token\n    const authHeader = request.headers.get(\"authorization\");\n    if (!authHeader?.startsWith(\"Bearer \")) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    const token = authHeader.split(\"Bearer \")[1];\n    const auth = getAuth();\n    const decodedToken = await auth.verifyIdToken(token);\n\n    // Check rate limiting\n    const rateLimitResult = postCreationRateLimit(decodedToken.uid);\n    if (!rateLimitResult.success) {\n      return NextResponse.json(\n        {\n          error: \"Rate limit exceeded. Please wait before posting again.\",\n        },\n        {\n          status: 429,\n          headers: {\n            \"X-RateLimit-Limit\": rateLimitResult.limit.toString(),\n            \"X-RateLimit-Remaining\": rateLimitResult.remaining.toString(),\n            \"X-RateLimit-Reset\": new Date(\n              rateLimitResult.resetTime\n            ).toISOString(),\n          },\n        }\n      );\n    }\n\n    // Check if user is member of the space\n    const memberDoc = await db\n      .collection(\"spaces\")\n      .doc(spaceId)\n      .collection(\"members\")\n      .doc(decodedToken.uid)\n      .get();\n\n    if (!memberDoc.exists) {\n      return NextResponse.json(\n        { error: \"Not a member of this space\" },\n        { status: 403 }\n      );\n    }\n\n    const body = (await request.json()) as unknown;\n    const validatedData = CreatePostSchema.parse(body);\n\n    // Check for profanity\n    if (checkProfanity(validatedData.content)) {\n      return NextResponse.json(\n        {\n          error:\n            \"Post contains inappropriate content. Please revise and try again.\",\n        },\n        { status: 400 }\n      );\n    }\n\n    // Create post document\n    const postData = {\n      ...validatedData,\n      authorId: decodedToken.uid,\n      spaceId: spaceId,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      reactions: {\n        heart: 0,\n      },\n      reactedUsers: {\n        heart: [],\n      },\n      isPinned: false,\n      isEdited: false,\n      isDeleted: false,\n    };\n\n    const postRef = await db\n      .collection(\"spaces\")\n      .doc(spaceId)\n      .collection(\"posts\")\n      .add(postData);\n\n    // Get the created post with author info\n    const authorDoc = await db.collection(\"users\").doc(decodedToken.uid).get();\n    const author = authorDoc.data();\n\n    const createdPost = {\n      id: postRef.id,\n      ...postData,\n      author: {\n        id: decodedToken.uid,\n        fullName: author?.fullName || \"Unknown User\",\n        handle: author?.handle || \"unknown\",\n        photoURL: author?.photoURL || null,\n      },\n    };\n\n    return NextResponse.json({ post: createdPost }, { status: 201 });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        {\n          error: \"Invalid post data\",\n          details: error.errors,\n        },\n        { status: 400 }\n      );\n    }\n\n    console.error(\"Error creating post:\", error);\n    return NextResponse.json(\n      { error: \"Failed to create post\" },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\[spaceId]\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":33,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":33,"endColumn":18,"suggestions":[{"fix":{"range":[887,957],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport type { NextRequest } from \"next/server\";\r\nimport { type Space } from \"@hive/core\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\n\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ spaceId: string }> }\r\n) {\r\n  let spaceId: string | undefined;\r\n\r\n  try {\r\n    ({ spaceId } = await params);\r\n\r\n    if (!spaceId) {\r\n      return NextResponse.json(\r\n        { error: \"Space ID is required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const spaceRef = dbAdmin.collection(\"spaces\").doc(spaceId);\r\n    const doc = await spaceRef.get();\r\n\r\n    if (!doc.exists) {\r\n      return NextResponse.json({ error: \"Space not found\" }, { status: 404 });\r\n    }\r\n\r\n    const space = { id: doc.id, ...doc.data() } as Space;\r\n\r\n    return NextResponse.json(space, { status: 200 });\r\n  } catch (error) {\r\n    console.error(`Error fetching space ${spaceId || \"unknown\"}:`, error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch space\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\auto-join\\route.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\auto-join\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":179,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":179,"endColumn":18,"suggestions":[{"fix":{"range":[5463,5504],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { type User, UB_MAJORS } from \"@hive/core\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\nimport { FieldValue } from \"firebase-admin/firestore\";\r\n\r\n/**\r\n * Auto-join a user to relevant spaces (major and residential).\r\n * Creates spaces if they don't exist.\r\n * POST /api/spaces/auto-join\r\n */\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { userId } = await request.json();\r\n\r\n    if (!userId) {\r\n      return NextResponse.json(\r\n        { error: \"User ID is required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Get user data\r\n    const userDoc = await dbAdmin.collection(\"users\").doc(userId).get();\r\n\r\n    if (!userDoc.exists) {\r\n      return NextResponse.json({ error: \"User not found\" }, { status: 404 });\r\n    }\r\n\r\n    const user = userDoc.data() as User;\r\n\r\n    if (!user.major || !user.schoolId) {\r\n      return NextResponse.json(\r\n        { error: \"User missing required fields (major, schoolId)\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Find if the user's major exists in our UB_MAJORS list\r\n    const majorData = UB_MAJORS.find((m) => m.name === user.major);\r\n\r\n    const batch = dbAdmin.batch();\r\n    const spacesJoined: string[] = [];\r\n\r\n    // 1. Handle Major Space\r\n    const majorSpacesSnapshot = await dbAdmin\r\n      .collection(\"spaces\")\r\n      .where(\"type\", \"==\", \"major\")\r\n      .where(\"tags\", \"array-contains\", { type: \"major\", sub_type: user.major })\r\n      .limit(1)\r\n      .get();\r\n\r\n    let majorSpaceId: string;\r\n    if (majorSpacesSnapshot.empty) {\r\n      // Create the major space if it doesn't exist\r\n      const spaceName = majorData\r\n        ? `${majorData.name} Majors`\r\n        : `${user.major} Majors`;\r\n      const majorSpaceRef = dbAdmin.collection(\"spaces\").doc();\r\n      majorSpaceId = majorSpaceRef.id;\r\n\r\n      const newMajorSpace = {\r\n        name: spaceName,\r\n        name_lowercase: spaceName.toLowerCase(),\r\n        description: `Connect with fellow ${user.major} students, share resources, and collaborate on projects.`,\r\n        memberCount: 0,\r\n        schoolId: user.schoolId,\r\n        type: \"major\",\r\n        tags: [\r\n          {\r\n            type: \"major\",\r\n            sub_type: user.major,\r\n          },\r\n        ],\r\n        status: \"activated\",\r\n        createdAt: FieldValue.serverTimestamp(),\r\n        updatedAt: FieldValue.serverTimestamp(),\r\n      };\r\n\r\n      batch.set(majorSpaceRef, newMajorSpace);\r\n    } else {\r\n      majorSpaceId = majorSpacesSnapshot.docs[0].id;\r\n    }\r\n\r\n    // Add user to major space\r\n    const majorMemberRef = dbAdmin\r\n      .collection(\"spaces\")\r\n      .doc(majorSpaceId)\r\n      .collection(\"members\")\r\n      .doc(userId);\r\n    batch.set(majorMemberRef, {\r\n      uid: userId,\r\n      role: \"member\",\r\n      joinedAt: FieldValue.serverTimestamp(),\r\n    });\r\n\r\n    // Update major space member count\r\n    const majorSpaceRef = dbAdmin.collection(\"spaces\").doc(majorSpaceId);\r\n    batch.update(majorSpaceRef, {\r\n      memberCount: FieldValue.increment(1),\r\n      updatedAt: FieldValue.serverTimestamp(),\r\n    });\r\n\r\n    spacesJoined.push(majorSpaceId);\r\n\r\n    // 2. Handle General Residential Space\r\n    const residentialSpacesSnapshot = await dbAdmin\r\n      .collection(\"spaces\")\r\n      .where(\"type\", \"==\", \"residential\")\r\n      .where(\"tags\", \"array-contains\", {\r\n        type: \"residential\",\r\n        sub_type: \"general\",\r\n      })\r\n      .limit(1)\r\n      .get();\r\n\r\n    let residentialSpaceId: string;\r\n    if (residentialSpacesSnapshot.empty) {\r\n      // Create a general residential space if it doesn't exist\r\n      const residentialSpaceRef = dbAdmin.collection(\"spaces\").doc();\r\n      residentialSpaceId = residentialSpaceRef.id;\r\n\r\n      const newResidentialSpace = {\r\n        name: \"UB Community\",\r\n        name_lowercase: \"ub community\",\r\n        description:\r\n          \"A general community space for all UB students to connect, share experiences, and build friendships.\",\r\n        memberCount: 0,\r\n        schoolId: user.schoolId,\r\n        type: \"residential\",\r\n        tags: [\r\n          {\r\n            type: \"residential\",\r\n            sub_type: \"general\",\r\n          },\r\n        ],\r\n        status: \"activated\",\r\n        createdAt: FieldValue.serverTimestamp(),\r\n        updatedAt: FieldValue.serverTimestamp(),\r\n      };\r\n\r\n      batch.set(residentialSpaceRef, newResidentialSpace);\r\n    } else {\r\n      residentialSpaceId = residentialSpacesSnapshot.docs[0].id;\r\n    }\r\n\r\n    // Add user to residential space\r\n    const residentialMemberRef = dbAdmin\r\n      .collection(\"spaces\")\r\n      .doc(residentialSpaceId)\r\n      .collection(\"members\")\r\n      .doc(userId);\r\n    batch.set(residentialMemberRef, {\r\n      uid: userId,\r\n      role: \"member\",\r\n      joinedAt: FieldValue.serverTimestamp(),\r\n    });\r\n\r\n    // Update residential space member count\r\n    const residentialSpaceRef = dbAdmin\r\n      .collection(\"spaces\")\r\n      .doc(residentialSpaceId);\r\n    batch.update(residentialSpaceRef, {\r\n      memberCount: FieldValue.increment(1),\r\n      updatedAt: FieldValue.serverTimestamp(),\r\n    });\r\n\r\n    spacesJoined.push(residentialSpaceId);\r\n\r\n    // Execute all operations atomically\r\n    await batch.commit();\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: `Successfully auto-joined user to ${spacesJoined.length} spaces`,\r\n      spacesJoined,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Auto-join error:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to auto-join user to spaces\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\browse\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":182,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":182,"endColumn":18,"suggestions":[{"fix":{"range":[5617,5662],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { z } from \"zod\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\nimport { type Space } from \"@hive/core/src/domain/firestore/space\";\r\n\r\nconst browseSpacesSchema = z.object({\r\n  schoolId: z.string().optional(),\r\n  type: z\r\n    .enum([\"major\", \"residential\", \"interest\", \"creative\", \"organization\"])\r\n    .optional(),\r\n  subType: z.string().optional(),\r\n  limit: z.coerce.number().min(1).max(50).default(20),\r\n  offset: z.coerce.number().min(0).default(0),\r\n  search: z.string().optional(),\r\n});\r\n\r\n/**\r\n * Browse available spaces at a user's school\r\n * Returns paginated list of spaces with membership status\r\n */\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Parse query parameters\r\n    const url = new URL(request.url);\r\n    const queryParams = Object.fromEntries(url.searchParams.entries());\r\n    const { schoolId, type, subType, limit, offset, search } =\r\n      browseSpacesSchema.parse(queryParams);\r\n\r\n    // Verify the requesting user is authenticated\r\n    const authHeader = request.headers.get(\"Authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json(\r\n        { error: \"Authorization header required\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const token = authHeader.substring(7);\r\n    const auth = getAuth();\r\n\r\n    const decodedToken = await auth.verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    // Get user's school if not provided\r\n    let userSchoolId = schoolId;\r\n    if (!userSchoolId) {\r\n      const userDoc = await dbAdmin.collection(\"users\").doc(userId).get();\r\n      if (!userDoc.exists) {\r\n        return NextResponse.json({ error: \"User not found\" }, { status: 404 });\r\n      }\r\n      userSchoolId = userDoc.data()?.schoolId;\r\n      if (!userSchoolId) {\r\n        return NextResponse.json(\r\n          { error: \"User school not set\" },\r\n          { status: 400 }\r\n        );\r\n      }\r\n    }\r\n\r\n    // Build the query\r\n    let query = dbAdmin\r\n      .collection(\"spaces\")\r\n      .where(\"schoolId\", \"==\", userSchoolId)\r\n      .where(\"status\", \"==\", \"activated\");\r\n\r\n    // Add type filter if specified\r\n    if (type) {\r\n      query = query.where(\"type\", \"==\", type);\r\n    }\r\n\r\n    // Add subType filter if specified (using tags array)\r\n    if (subType) {\r\n      query = query.where(\"tags\", \"array-contains\", {\r\n        type: type || \"interest\",\r\n        sub_type: subType,\r\n      });\r\n    }\r\n\r\n    // Execute the query\r\n    const spacesSnapshot = await query.get();\r\n\r\n    // Convert to array and apply text search if needed\r\n    let spaces = spacesSnapshot.docs.map((doc) => ({\r\n      ...doc.data(),\r\n      id: doc.id,\r\n    })) as Space[];\r\n\r\n    // Apply text search filter (case-insensitive)\r\n    if (search) {\r\n      const searchLower = search.toLowerCase();\r\n      spaces = spaces.filter(\r\n        (space) =>\r\n          space.name.toLowerCase().includes(searchLower) ||\r\n          (space.description &&\r\n            space.description.toLowerCase().includes(searchLower))\r\n      );\r\n    }\r\n\r\n    // Sort by member count (popular first) then by name\r\n    spaces.sort((a, b) => {\r\n      const memberCountA = a.memberCount || 0;\r\n      const memberCountB = b.memberCount || 0;\r\n\r\n      if (memberCountA !== memberCountB) {\r\n        return memberCountB - memberCountA; // Higher member count first\r\n      }\r\n\r\n      return a.name.localeCompare(b.name); // Alphabetical for ties\r\n    });\r\n\r\n    // Apply pagination\r\n    const totalCount = spaces.length;\r\n    const paginatedSpaces = spaces.slice(offset, offset + limit);\r\n\r\n    // Get user's current memberships to mark joined spaces\r\n    const userMembershipsSnapshot = await dbAdmin\r\n      .collectionGroup(\"members\")\r\n      .where(\"userId\", \"==\", userId)\r\n      .get();\r\n\r\n    const userSpaceIds = new Set(\r\n      userMembershipsSnapshot.docs\r\n        .map((doc) => doc.ref.parent.parent?.id)\r\n        .filter(Boolean)\r\n    );\r\n\r\n    // Add membership status to each space\r\n    const spacesWithMembership = paginatedSpaces.map((space) => ({\r\n      id: space.id,\r\n      name: space.name,\r\n      description: space.description,\r\n      type: space.type,\r\n      tags: space.tags,\r\n      status: space.status,\r\n      memberCount: space.memberCount || 0,\r\n      createdAt: space.createdAt,\r\n      updatedAt: space.updatedAt,\r\n      isMember: userSpaceIds.has(space.id),\r\n    }));\r\n\r\n    // Group spaces by type for better organization\r\n    const spacesByType = spacesWithMembership.reduce(\r\n      (acc, space) => {\r\n        const spaceType = space.type;\r\n        if (!acc[spaceType]) {\r\n          acc[spaceType] = [];\r\n        }\r\n        acc[spaceType].push(space);\r\n        return acc;\r\n      },\r\n      {} as Record<string, typeof spacesWithMembership>\r\n    );\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      spaces: spacesWithMembership,\r\n      spacesByType: spacesByType,\r\n      pagination: {\r\n        limit,\r\n        offset,\r\n        totalCount,\r\n        hasMore: offset + limit < totalCount,\r\n        nextOffset: offset + limit < totalCount ? offset + limit : null,\r\n      },\r\n      filters: {\r\n        schoolId: userSchoolId,\r\n        type: type || null,\r\n        subType: subType || null,\r\n        search: search || null,\r\n      },\r\n      typeCounts: Object.keys(spacesByType).reduce(\r\n        (acc, type) => {\r\n          acc[type] = spacesByType[type].length;\r\n          return acc;\r\n        },\r\n        {} as Record<string, number>\r\n      ),\r\n    });\r\n  } catch (error: unknown) {\r\n    console.error(\"Browse spaces error:\", error);\r\n\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        { error: \"Invalid query parameters\", details: error.errors },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    if (\r\n      error instanceof Error &&\r\n      \"code\" in error &&\r\n      (error as { code: string }).code === \"auth/id-token-expired\"\r\n    ) {\r\n      return NextResponse.json({ error: \"Token expired\" }, { status: 401 });\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: \"Internal server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\discovery\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":157,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":157,"endColumn":18,"suggestions":[{"fix":{"range":[4958,5005],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\nimport {\n  SpaceDiscoveryEngine,\n  SpaceSection,\n  SpaceStatus,\n  type SpaceDiscoveryData,\n  type UserDiscoveryContext,\n  type DiscoveryFilters,\n} from \"@hive/core\";\nimport { requireAuth } from \"@/lib/auth\";\nimport { db } from \"@/lib/firebase\";\nimport {\n  collection,\n  getDocs,\n  query,\n  where,\n  orderBy,\n  limit as firestoreLimit,\n} from \"firebase/firestore\";\n\n/**\n * GET /api/spaces/discovery\n * Discover spaces with personalization, filtering, and search\n */\nexport async function GET(request: NextRequest) {\n  try {\n    // Authenticate user\n    const user = await requireAuth(request);\n\n    // Get user profile for personalization\n    // TODO: Implement proper user profile fetching\n    const userProfile = {\n      major: \"Computer Science\",\n      dorm: \"North Campus\",\n      graduationYear: 2025,\n      interests: [],\n      isBuilder: false,\n      isGreekMember: false,\n    };\n\n    // Parse query parameters\n    const { searchParams } = new URL(request.url);\n\n    const section = searchParams.get(\"section\") as SpaceSection | null;\n    const search = searchParams.get(\"search\") || undefined;\n    const status = searchParams.getAll(\"status\") as SpaceStatus[];\n    const memberCountMin = searchParams.get(\"memberCountMin\")\n      ? parseInt(searchParams.get(\"memberCountMin\")!)\n      : undefined;\n    const memberCountMax = searchParams.get(\"memberCountMax\")\n      ? parseInt(searchParams.get(\"memberCountMax\")!)\n      : undefined;\n    const hasActivity = searchParams.get(\"hasActivity\") === \"true\";\n    const isJoinable = searchParams.get(\"isJoinable\") === \"true\";\n    const sortBy =\n      (searchParams.get(\"sortBy\") as DiscoveryFilters[\"sortBy\"]) || \"relevance\";\n    const limit = parseInt(searchParams.get(\"limit\") || \"20\");\n    const offset = parseInt(searchParams.get(\"offset\") || \"0\");\n\n    // Build discovery filters\n    const filters: DiscoveryFilters = {\n      section: section || undefined,\n      status: status.length > 0 ? status : undefined,\n      search,\n      memberCountMin,\n      memberCountMax,\n      hasActivity: hasActivity || undefined,\n      isJoinable: isJoinable || undefined,\n      sortBy,\n      limit,\n      offset,\n    };\n\n    // Get user's joined spaces for personalization\n    const userSpacesQuery = query(\n      collection(db, \"space_members\"),\n      where(\"userId\", \"==\", user.uid)\n    );\n    const userSpacesSnapshot = await getDocs(userSpacesQuery);\n    const joinedSpaces = userSpacesSnapshot.docs.map(\n      (doc) => doc.data().spaceId\n    );\n\n    // Build user context for personalization\n    const userContext: UserDiscoveryContext = {\n      userId: user.uid,\n      major: userProfile.major,\n      dorm: userProfile.dorm,\n      graduationYear: userProfile.graduationYear,\n      joinedSpaces,\n      interests: userProfile.interests || [],\n      isBuilder: userProfile.isBuilder || false,\n      isGreekMember: userProfile.isGreekMember || false,\n    };\n\n    // Fetch spaces from Firestore\n    const spacesQuery = collection(db, \"spaces\");\n    const constraints = [];\n\n    // Add visibility filter\n    constraints.push(where(\"isVisible\", \"==\", true));\n\n    // Add section filter if specified\n    if (section) {\n      constraints.push(where(\"section\", \"==\", section));\n    }\n\n    // Add basic ordering\n    constraints.push(orderBy(\"lastActivity\", \"desc\"));\n    constraints.push(firestoreLimit(200)); // Reasonable upper limit\n\n    const spacesSnapshot = await getDocs(query(spacesQuery, ...constraints));\n\n    // Convert Firestore data to SpaceDiscoveryData\n    const spaces: SpaceDiscoveryData[] = spacesSnapshot.docs.map((doc) => {\n      const data = doc.data();\n      return {\n        id: doc.id,\n        name: data.name,\n        description: data.description,\n        section: data.section,\n        status: data.status,\n        ownerType: data.ownerType,\n        ownerId: data.ownerId,\n        isVisible: data.isVisible,\n        isJoinable: data.isJoinable,\n        requiresApproval: data.requiresApproval,\n        isAutoJoin: data.isAutoJoin,\n        memberCount: data.memberCount || 0,\n        postCount: data.postCount || 0,\n        lastActivity: data.lastActivity?.toDate(),\n        createdAt: data.createdAt?.toDate() || new Date(),\n        openedAt: data.openedAt?.toDate(),\n        crestUrl: data.crestUrl,\n        organizationType: data.organizationType,\n        contactEmail: data.contactEmail,\n        discoveryScore: 0, // Will be calculated by engine\n        trendingScore: data.trendingScore || 0,\n        activityScore: data.activityScore || 0,\n        unlockConditions: data.unlockConditions,\n      };\n    });\n\n    // Use discovery engine for filtering, scoring, and ranking\n    const discoveryResult = await SpaceDiscoveryEngine.discoverSpaces(\n      spaces,\n      userContext,\n      filters\n    );\n\n    // Return formatted result\n    return NextResponse.json({\n      success: true,\n      ...discoveryResult,\n    });\n  } catch (error) {\n    console.error(\"Space discovery error:\", error);\n    return NextResponse.json(\n      { error: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\join\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":20,"suggestions":[{"fix":{"range":[1237,1292],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":149,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":149,"endColumn":18,"suggestions":[{"fix":{"range":[4120,4165],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\nimport { NextResponse } from \"next/server\";\nimport { z } from \"zod\";\nimport { getAuth } from \"firebase-admin/auth\";\nimport { getFirestore, FieldValue } from \"firebase-admin/firestore\";\nimport type { Space } from \"@hive/core/src/domain/firestore/space\";\nimport type { MemberRole } from \"@hive/core/src/domain/firestore/member\";\n\n// Server-side member type that allows FieldValue for timestamps\ninterface ServerMember {\n  uid: string;\n  role: MemberRole;\n  joinedAt: FieldValue;\n}\n\nconst joinSpaceSchema = z.object({\n  spaceId: z.string().min(1, \"Space ID is required\"),\n});\n\n/**\n * Join a space manually\n * POST /api/spaces/join\n */\nexport async function POST(request: NextRequest) {\n  try {\n    // Get the authorization header and verify the user\n    const authHeader = request.headers.get(\"authorization\");\n    if (!authHeader?.startsWith(\"Bearer \")) {\n      return NextResponse.json(\n        { error: \"Missing or invalid authorization header\" },\n        { status: 401 }\n      );\n    }\n\n    const idToken = authHeader.split(\"Bearer \")[1];\n    const auth = getAuth();\n\n    let decodedToken;\n    try {\n      decodedToken = await auth.verifyIdToken(idToken);\n    } catch (authError) {\n      console.error(\"Token verification failed:\", authError);\n      return NextResponse.json(\n        { error: \"Invalid or expired token\" },\n        { status: 401 }\n      );\n    }\n\n    const userId = decodedToken.uid;\n\n    // Parse and validate request body\n    const body = (await request.json()) as unknown;\n    const { spaceId } = joinSpaceSchema.parse(body);\n\n    // Get Firestore instance\n    const db = getFirestore();\n\n    // Check if space exists and is joinable\n    const spaceDocRef = db.collection(\"spaces\").doc(spaceId);\n    const spaceDoc = await spaceDocRef.get();\n\n    if (!spaceDoc.exists) {\n      return NextResponse.json({ error: \"Space not found\" }, { status: 404 });\n    }\n\n    const space = spaceDoc.data() as Space;\n\n    // Check if space is in a joinable status\n    if (space.status === \"frozen\") {\n      return NextResponse.json(\n        {\n          error: \"This space is currently frozen and not accepting new members\",\n        },\n        { status: 403 }\n      );\n    }\n\n    if (space.status === \"dormant\") {\n      return NextResponse.json(\n        { error: \"This space is not yet active\" },\n        { status: 403 }\n      );\n    }\n\n    // Check if user is already a member\n    const memberDocRef = db\n      .collection(\"spaces\")\n      .doc(spaceId)\n      .collection(\"members\")\n      .doc(userId);\n    const memberDoc = await memberDocRef.get();\n\n    if (memberDoc.exists) {\n      return NextResponse.json(\n        { error: \"You are already a member of this space\" },\n        { status: 409 }\n      );\n    }\n\n    // Get user data to verify they're from the same school\n    const userDocRef = db.collection(\"users\").doc(userId);\n    const userDoc = await userDocRef.get();\n\n    if (!userDoc.exists) {\n      return NextResponse.json({ error: \"User not found\" }, { status: 404 });\n    }\n\n    const userData = userDoc.data() as { schoolId: string } | undefined;\n\n    // Verify user is from the same school as the space\n    if (!userData || userData.schoolId !== space.schoolId) {\n      return NextResponse.json(\n        { error: \"You can only join spaces from your school\" },\n        { status: 403 }\n      );\n    }\n\n    // Perform the join operation atomically\n    const batch = db.batch();\n\n    // Add user to members sub-collection\n    const newMember: ServerMember = {\n      uid: userId,\n      role: \"member\",\n      joinedAt: FieldValue.serverTimestamp(),\n    };\n\n    batch.set(memberDocRef, newMember);\n\n    // Increment the space's member count\n    batch.update(spaceDocRef, {\n      memberCount: FieldValue.increment(1),\n      updatedAt: FieldValue.serverTimestamp(),\n    });\n\n    // Execute the transaction\n    await batch.commit();\n\n    return NextResponse.json({\n      success: true,\n      message: \"Successfully joined the space\",\n      space: {\n        id: spaceId,\n        name: space.name,\n        type: space.type,\n      },\n    });\n  } catch (error) {\n    console.error(\"Error joining space:\", error);\n    return NextResponse.json(\n      { error: \"Failed to join space. Please try again.\" },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\leave\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":41,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":41,"endColumn":20,"suggestions":[{"fix":{"range":[1083,1138],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":81,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":81,"endColumn":19,"suggestions":[{"fix":{"range":[2408,2467],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":109,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":109,"endColumn":18,"suggestions":[{"fix":{"range":[3094,3139],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\nimport { NextResponse } from \"next/server\";\nimport { z } from \"zod\";\nimport {\n  doc,\n  getDoc,\n  writeBatch,\n  serverTimestamp,\n  increment,\n} from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { getAuth } from \"firebase-admin/auth\";\nimport type { Space } from \"@hive/core/src/domain/firestore/space\";\n\nconst leaveSpaceSchema = z.object({\n  spaceId: z.string().min(1, \"Space ID is required\"),\n});\n\n/**\n * Leave a space manually\n * POST /api/spaces/leave\n */\nexport async function POST(request: NextRequest) {\n  try {\n    // Get the authorization header and verify the user\n    const authHeader = request.headers.get(\"authorization\");\n    if (!authHeader?.startsWith(\"Bearer \")) {\n      return NextResponse.json(\n        { error: \"Missing or invalid authorization header\" },\n        { status: 401 }\n      );\n    }\n\n    const idToken = authHeader.split(\"Bearer \")[1];\n    const auth = getAuth();\n\n    let decodedToken;\n    try {\n      decodedToken = await auth.verifyIdToken(idToken);\n    } catch (authError) {\n      console.error(\"Token verification failed:\", authError);\n      return NextResponse.json(\n        { error: \"Invalid or expired token\" },\n        { status: 401 }\n      );\n    }\n\n    const userId = decodedToken.uid;\n\n    // Parse and validate request body\n    const body = (await request.json()) as unknown;\n    const { spaceId } = leaveSpaceSchema.parse(body);\n\n    // Check if space exists\n    const spaceDocRef = doc(db, \"spaces\", spaceId);\n    const spaceDoc = await getDoc(spaceDocRef);\n\n    if (!spaceDoc.exists()) {\n      return NextResponse.json({ error: \"Space not found\" }, { status: 404 });\n    }\n\n    const space = spaceDoc.data() as Space;\n\n    // Check if user is actually a member\n    const memberDocRef = doc(db, \"spaces\", spaceId, \"members\", userId);\n    const memberDoc = await getDoc(memberDocRef);\n\n    if (!memberDoc.exists()) {\n      return NextResponse.json(\n        { error: \"You are not a member of this space\" },\n        { status: 404 }\n      );\n    }\n\n    const memberData = memberDoc.data() as { role: string } | undefined;\n\n    // Prevent builders from leaving if they're the only builder\n    if (memberData?.role === \"builder\") {\n      // TODO: In future, we could add logic to check if there are other builders\n      // For now, we'll allow builders to leave but could add restrictions later\n      console.warn(`Builder ${userId} leaving space ${spaceId}`);\n    }\n\n    // Perform the leave operation atomically\n    const batch = writeBatch(db);\n\n    // Remove user from members sub-collection\n    batch.delete(memberDocRef);\n\n    // Decrement the space's member count (with minimum of 0)\n    batch.update(spaceDocRef, {\n      memberCount: increment(-1),\n      updatedAt: serverTimestamp(),\n    });\n\n    // Execute the transaction\n    await batch.commit();\n\n    return NextResponse.json({\n      success: true,\n      message: \"Successfully left the space\",\n      space: {\n        id: spaceId,\n        name: space.name,\n        type: space.type,\n      },\n    });\n  } catch (error) {\n    console.error(\"Error leaving space:\", error);\n    return NextResponse.json(\n      { error: \"Failed to leave space. Please try again.\" },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":18,"suggestions":[{"fix":{"range":[1428,1475],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport type * as admin from \"firebase-admin\";\r\nimport type { Space, SpaceType } from \"@hive/core\";\r\nimport { dbAdmin } from \"@/lib/firebase-admin\";\r\n\r\nexport async function GET(request: Request) {\r\n  try {\r\n    const { searchParams } = new URL(request.url);\r\n    const filterType = searchParams.get(\"type\") as SpaceType | \"all\" | null;\r\n    const searchTerm = searchParams.get(\"q\")?.toLowerCase() || null;\r\n\r\n    let query: admin.firestore.Query = dbAdmin.collection(\"spaces\");\r\n\r\n    if (filterType && filterType !== \"all\") {\r\n      query = query.where(\"type\", \"==\", filterType);\r\n    }\r\n\r\n    // Note: Firestore doesn't support full-text search on its own.\r\n    // This search implementation is a basic \"starts-with\" search on the name.\r\n    // For a real-world application, a dedicated search service like Algolia or Typesense would be required.\r\n    if (searchTerm) {\r\n      query = query\r\n        .where(\"name_lowercase\", \">=\", searchTerm)\r\n        .where(\"name_lowercase\", \"<=\", searchTerm + \"\\uf8ff\");\r\n    }\r\n\r\n    const snapshot = await query.orderBy(\"name_lowercase\").limit(50).get();\r\n\r\n    if (snapshot.empty) {\r\n      return NextResponse.json([], { status: 200 });\r\n    }\r\n\r\n    const spaces = snapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n    })) as Space[];\r\n\r\n    return NextResponse.json(spaces, { status: 200 });\r\n  } catch (error) {\r\n    console.error(\"Error fetching spaces:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch spaces\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\spaces\\update-memberships\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":62,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":62,"endColumn":20,"suggestions":[{"fix":{"range":[1840,1895],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":242,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":242,"endColumn":18,"suggestions":[{"fix":{"range":[7456,7508],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\nimport { NextResponse } from \"next/server\";\nimport { z } from \"zod\";\nimport { getAuth } from \"firebase-admin/auth\";\nimport { getFirestore, FieldValue } from \"firebase-admin/firestore\";\nimport { type User, UB_MAJORS } from \"@hive/core\";\n\n// Server-side space type that allows FieldValue for timestamps\ninterface ServerSpace {\n  name: string;\n  name_lowercase: string;\n  description: string;\n  memberCount: number;\n  schoolId: string;\n  type: \"major\" | \"residential\" | \"interest\" | \"creative\" | \"organization\";\n  tags: Array<{\n    type: string;\n    sub_type: string;\n  }>;\n  status: \"dormant\" | \"activated\" | \"frozen\";\n  createdAt: FieldValue;\n  updatedAt: FieldValue;\n}\n\n// Server-side member type that allows FieldValue for timestamps\ninterface ServerMember {\n  uid: string;\n  role: \"member\" | \"builder\" | \"requested_builder\";\n  joinedAt: FieldValue;\n}\n\nconst updateMembershipsSchema = z.object({\n  userId: z.string().min(1, \"User ID is required\"),\n  previousMajor: z.string().optional(),\n  newMajor: z.string().optional(),\n  previousResidential: z.string().optional(),\n  newResidential: z.string().optional(),\n});\n\n/**\n * Update space memberships when user changes major or residential info\n * POST /api/spaces/update-memberships\n */\nexport async function POST(request: NextRequest) {\n  try {\n    // Get the authorization header and verify the user\n    const authHeader = request.headers.get(\"authorization\");\n    if (!authHeader?.startsWith(\"Bearer \")) {\n      return NextResponse.json(\n        { error: \"Missing or invalid authorization header\" },\n        { status: 401 }\n      );\n    }\n\n    const idToken = authHeader.split(\"Bearer \")[1];\n    const auth = getAuth();\n\n    let decodedToken;\n    try {\n      decodedToken = await auth.verifyIdToken(idToken);\n    } catch (authError) {\n      console.error(\"Token verification failed:\", authError);\n      return NextResponse.json(\n        { error: \"Invalid or expired token\" },\n        { status: 401 }\n      );\n    }\n\n    const requestingUserId = decodedToken.uid;\n\n    // Parse and validate request body\n    const body = await request.json();\n    const {\n      userId,\n      previousMajor,\n      newMajor,\n      previousResidential,\n      newResidential,\n    } = updateMembershipsSchema.parse(body);\n\n    // Verify the requesting user is updating their own profile or is an admin\n    if (requestingUserId !== userId) {\n      // TODO: Add admin check when admin system is implemented\n      return NextResponse.json(\n        { error: \"You can only update your own memberships\" },\n        { status: 403 }\n      );\n    }\n\n    // Get Firestore instance\n    const db = getFirestore();\n\n    // Get user data\n    const userDocRef = db.collection(\"users\").doc(userId);\n    const userDoc = await userDocRef.get();\n\n    if (!userDoc.exists) {\n      return NextResponse.json({ error: \"User not found\" }, { status: 404 });\n    }\n\n    const user = userDoc.data() as User;\n\n    if (!user.schoolId) {\n      return NextResponse.json(\n        { error: \"User missing school ID\" },\n        { status: 400 }\n      );\n    }\n\n    const batch = db.batch();\n    const changes: string[] = [];\n\n    // Handle major change\n    if (previousMajor && newMajor && previousMajor !== newMajor) {\n      // Leave old major space\n      const oldMajorSpacesQuery = db\n        .collection(\"spaces\")\n        .where(\"type\", \"==\", \"major\")\n        .where(\"tags\", \"array-contains\", {\n          type: \"major\",\n          sub_type: previousMajor,\n        })\n        .limit(1);\n      const oldMajorSpacesSnapshot = await oldMajorSpacesQuery.get();\n\n      if (!oldMajorSpacesSnapshot.empty) {\n        const oldSpaceId = oldMajorSpacesSnapshot.docs[0].id;\n        const oldMemberRef = db\n          .collection(\"spaces\")\n          .doc(oldSpaceId)\n          .collection(\"members\")\n          .doc(userId);\n        const oldSpaceRef = db.collection(\"spaces\").doc(oldSpaceId);\n\n        // Check if user is actually a member before removing\n        const oldMemberDoc = await oldMemberRef.get();\n        if (oldMemberDoc.exists) {\n          batch.delete(oldMemberRef);\n          batch.update(oldSpaceRef, {\n            memberCount: FieldValue.increment(-1),\n            updatedAt: FieldValue.serverTimestamp(),\n          });\n          changes.push(`Left ${previousMajor} space`);\n        }\n      }\n\n      // Join new major space (create if needed)\n      const majorData = UB_MAJORS.find((m) => m.name === newMajor);\n\n      const newMajorSpacesQuery = db\n        .collection(\"spaces\")\n        .where(\"type\", \"==\", \"major\")\n        .where(\"tags\", \"array-contains\", { type: \"major\", sub_type: newMajor })\n        .limit(1);\n      const newMajorSpacesSnapshot = await newMajorSpacesQuery.get();\n\n      let newMajorSpaceId: string;\n      if (newMajorSpacesSnapshot.empty) {\n        // Create the major space if it doesn't exist\n        const spaceName = majorData\n          ? `${majorData.name} Majors`\n          : `${newMajor} Majors`;\n        newMajorSpaceId = db.collection(\"spaces\").doc().id;\n\n        const newMajorSpace: ServerSpace = {\n          name: spaceName,\n          name_lowercase: spaceName.toLowerCase(),\n          description: `Connect with fellow ${newMajor} students, share resources, and collaborate on projects.`,\n          memberCount: 0,\n          schoolId: user.schoolId,\n          type: \"major\",\n          tags: [\n            {\n              type: \"major\",\n              sub_type: newMajor,\n            },\n          ],\n          status: \"activated\",\n          createdAt: FieldValue.serverTimestamp(),\n          updatedAt: FieldValue.serverTimestamp(),\n        };\n\n        const newMajorSpaceRef = db.collection(\"spaces\").doc(newMajorSpaceId);\n        batch.set(newMajorSpaceRef, newMajorSpace);\n        changes.push(`Created and joined ${newMajor} space`);\n      } else {\n        newMajorSpaceId = newMajorSpacesSnapshot.docs[0].id;\n        changes.push(`Joined ${newMajor} space`);\n      }\n\n      // Add user to new major space\n      const newMajorMemberRef = db\n        .collection(\"spaces\")\n        .doc(newMajorSpaceId)\n        .collection(\"members\")\n        .doc(userId);\n      const newMember: ServerMember = {\n        uid: userId,\n        role: \"member\",\n        joinedAt: FieldValue.serverTimestamp(),\n      };\n      batch.set(newMajorMemberRef, newMember);\n\n      // Update new major space member count\n      const newMajorSpaceRef = db.collection(\"spaces\").doc(newMajorSpaceId);\n      batch.update(newMajorSpaceRef, {\n        memberCount: FieldValue.increment(1),\n        updatedAt: FieldValue.serverTimestamp(),\n      });\n    }\n\n    // Handle residential change (if implemented in the future)\n    if (\n      previousResidential &&\n      newResidential &&\n      previousResidential !== newResidential\n    ) {\n      // TODO: Implement residential space changes when residential spaces are more specific\n      // For now, all users stay in the general \"UB Community\" space\n      changes.push(\n        `Residential change noted (${previousResidential} â†’ ${newResidential})`\n      );\n    }\n\n    if (changes.length === 0) {\n      return NextResponse.json({\n        success: true,\n        message: \"No membership changes needed\",\n        changes: [],\n      });\n    }\n\n    // Execute all changes atomically\n    await batch.commit();\n\n    return NextResponse.json({\n      success: true,\n      message: \"Space memberships updated successfully\",\n      changes,\n    });\n  } catch (error) {\n    console.error(\"Error updating memberships:\", error);\n    return NextResponse.json(\n      { error: \"Failed to update memberships. Please try again.\" },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\tools\\[toolId]\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":88,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":88,"endColumn":18,"suggestions":[{"fix":{"range":[2459,2504],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":231,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":231,"endColumn":18,"suggestions":[{"fix":{"range":[7000,7045],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":333,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":333,"endColumn":18,"suggestions":[{"fix":{"range":[9838,9883],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\nimport { getFirestore, Timestamp } from \"firebase-admin/firestore\";\r\nimport { z } from \"zod\";\r\nimport {\r\n  UpdateToolSchema,\r\n  ToolSchema,\r\n  canUserEditTool,\r\n  canUserViewTool,\r\n  getNextVersion,\r\n  determineChangeType,\r\n  validateToolStructure,\r\n  validateElementConfig,\r\n} from \"@hive/core\";\r\n\r\nconst db = getFirestore();\r\n\r\ninterface ToolVersion {\r\n  version: string;\r\n  changelog: string;\r\n  createdAt: Timestamp;\r\n  createdBy: string;\r\n  isStable: boolean;\r\n}\r\n\r\n// GET /api/tools/[toolId] - Get tool details\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ toolId: string }> }\r\n) {\r\n  try {\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const { toolId } = await params;\r\n    const toolDoc = await db.collection(\"tools\").doc(toolId).get();\r\n\r\n    if (!toolDoc.exists) {\r\n      return NextResponse.json({ error: \"Tool not found\" }, { status: 404 });\r\n    }\r\n\r\n    const toolData = { id: toolDoc.id, ...toolDoc.data() };\r\n    const tool = ToolSchema.parse(toolData);\r\n\r\n    // Check if user can view this tool\r\n    if (!canUserViewTool(tool, userId)) {\r\n      return NextResponse.json({ error: \"Access denied\" }, { status: 403 });\r\n    }\r\n\r\n    // Increment view count if not the owner\r\n    if (tool.ownerId !== userId) {\r\n      await toolDoc.ref.update({\r\n        viewCount: (tool.viewCount || 0) + 1,\r\n        lastUsedAt: new Date(),\r\n      });\r\n    }\r\n\r\n    // Get versions if user can edit\r\n    let versions: ToolVersion[] = [];\r\n    if (canUserEditTool(tool, userId)) {\r\n      const versionsSnapshot = await toolDoc.ref\r\n        .collection(\"versions\")\r\n        .orderBy(\"createdAt\", \"desc\")\r\n        .limit(10)\r\n        .get();\r\n\r\n      versions = versionsSnapshot.docs.map(\r\n        (doc) =>\r\n          ({\r\n            version: doc.id,\r\n            ...doc.data(),\r\n          }) as ToolVersion\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({\r\n      ...tool,\r\n      versions: versions.length > 0 ? versions : undefined,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching tool:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch tool\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// PUT /api/tools/[toolId] - Update tool\r\nexport async function PUT(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ toolId: string }> }\r\n) {\r\n  try {\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const { toolId } = await params;\r\n    const toolDoc = await db.collection(\"tools\").doc(toolId).get();\r\n\r\n    if (!toolDoc.exists) {\r\n      return NextResponse.json({ error: \"Tool not found\" }, { status: 404 });\r\n    }\r\n\r\n    const currentTool = ToolSchema.parse({ id: toolDoc.id, ...toolDoc.data() });\r\n\r\n    // Check if user can edit this tool\r\n    if (!canUserEditTool(currentTool, userId)) {\r\n      return NextResponse.json({ error: \"Access denied\" }, { status: 403 });\r\n    }\r\n\r\n    const body = await request.json();\r\n    const updateData = UpdateToolSchema.parse(body);\r\n\r\n    // Validate tool structure if elements are being updated\r\n    if (updateData.elements) {\r\n      const structureValidation = validateToolStructure(updateData.elements);\r\n      if (!structureValidation.isValid) {\r\n        return NextResponse.json(\r\n          {\r\n            error: \"Invalid tool structure\",\r\n            details: structureValidation.errors,\r\n          },\r\n          { status: 400 }\r\n        );\r\n      }\r\n\r\n      // Validate each element configuration\r\n      const elementsSnapshot = await db.collection(\"elements\").get();\r\n      const elementsMap = new Map();\r\n      elementsSnapshot.docs.forEach((doc) => {\r\n        elementsMap.set(doc.id, doc.data());\r\n      });\r\n\r\n      for (const elementInstance of updateData.elements) {\r\n        const elementDef = elementsMap.get(elementInstance.elementId);\r\n        if (!elementDef) {\r\n          return NextResponse.json(\r\n            {\r\n              error: `Element definition not found: ${elementInstance.elementId}`,\r\n            },\r\n            { status: 400 }\r\n          );\r\n        }\r\n\r\n        if (!validateElementConfig(elementDef, elementInstance.config)) {\r\n          return NextResponse.json(\r\n            {\r\n              error: `Invalid configuration for element: ${elementInstance.id}`,\r\n            },\r\n            { status: 400 }\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    // Determine version change type if elements changed\r\n    let newVersion = currentTool.currentVersion;\r\n    if (\r\n      updateData.elements &&\r\n      updateData.elements.length !== currentTool.elements.length\r\n    ) {\r\n      const changeType = determineChangeType(\r\n        currentTool.elements,\r\n        updateData.elements\r\n      );\r\n      newVersion = getNextVersion(currentTool.currentVersion, changeType);\r\n    }\r\n\r\n    // Prepare update data\r\n    const now = new Date();\r\n    const updatedTool = {\r\n      ...updateData,\r\n      currentVersion: newVersion,\r\n      updatedAt: now,\r\n    };\r\n\r\n    // Update tool document\r\n    await toolDoc.ref.update(updatedTool);\r\n\r\n    // Create new version if version changed\r\n    if (newVersion !== currentTool.currentVersion) {\r\n      const versionData = {\r\n        version: newVersion,\r\n        changelog: updateData.changelog || \"Updated tool configuration\",\r\n        createdAt: Timestamp.fromDate(now),\r\n        createdBy: userId,\r\n        isStable: false,\r\n      };\r\n\r\n      await toolDoc.ref.collection(\"versions\").doc(newVersion).set(versionData);\r\n    }\r\n\r\n    // Track analytics event\r\n    await db.collection(\"analytics_events\").add({\r\n      eventType: \"tool_updated\",\r\n      userId: userId,\r\n      toolId: toolId,\r\n      spaceId: currentTool.spaceId || null,\r\n      timestamp: now,\r\n      metadata: {\r\n        versionChanged: newVersion !== currentTool.currentVersion,\r\n        newVersion: newVersion,\r\n        elementsCount:\r\n          updateData.elements?.length || currentTool.elements.length,\r\n        changeType: updateData.elements\r\n          ? determineChangeType(currentTool.elements, updateData.elements)\r\n          : \"config\",\r\n      },\r\n    });\r\n\r\n    // Fetch and return updated tool\r\n    const updatedDoc = await toolDoc.ref.get();\r\n    const result = { id: updatedDoc.id, ...updatedDoc.data() };\r\n\r\n    return NextResponse.json(result);\r\n  } catch (error) {\r\n    console.error(\"Error updating tool:\", error);\r\n\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Invalid update data\",\r\n          details: error.errors,\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: \"Failed to update tool\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// DELETE /api/tools/[toolId] - Delete tool\r\nexport async function DELETE(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ toolId: string }> }\r\n) {\r\n  try {\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const { toolId } = await params;\r\n    const toolDoc = await db.collection(\"tools\").doc(toolId).get();\r\n\r\n    if (!toolDoc.exists) {\r\n      return NextResponse.json({ error: \"Tool not found\" }, { status: 404 });\r\n    }\r\n\r\n    const tool = ToolSchema.parse({ id: toolDoc.id, ...toolDoc.data() });\r\n\r\n    // Only owner can delete\r\n    if (tool.ownerId !== userId) {\r\n      return NextResponse.json({ error: \"Access denied\" }, { status: 403 });\r\n    }\r\n\r\n    // Check if tool is being used in any posts\r\n    const postsSnapshot = await db\r\n      .collectionGroup(\"posts\")\r\n      .where(\"type\", \"==\", \"tool\")\r\n      .where(\"toolId\", \"==\", toolId)\r\n      .limit(1)\r\n      .get();\r\n\r\n    if (!postsSnapshot.empty) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Cannot delete tool that is being used in posts\",\r\n        },\r\n        { status: 409 }\r\n      );\r\n    }\r\n\r\n    // Delete tool and all subcollections\r\n    const batch = db.batch();\r\n\r\n    // Delete versions\r\n    const versionsSnapshot = await toolDoc.ref.collection(\"versions\").get();\r\n    versionsSnapshot.docs.forEach((doc) => {\r\n      batch.delete(doc.ref);\r\n    });\r\n\r\n    // Delete data records\r\n    const recordsSnapshot = await toolDoc.ref.collection(\"records\").get();\r\n    recordsSnapshot.docs.forEach((doc) => {\r\n      batch.delete(doc.ref);\r\n    });\r\n\r\n    // Delete the tool itself\r\n    batch.delete(toolDoc.ref);\r\n\r\n    await batch.commit();\r\n\r\n    // Track analytics event\r\n    await db.collection(\"analytics_events\").add({\r\n      eventType: \"tool_deleted\",\r\n      userId: userId,\r\n      toolId: toolId,\r\n      spaceId: tool.spaceId || null,\r\n      timestamp: new Date(),\r\n      metadata: {\r\n        toolName: tool.name,\r\n        wasPublished: tool.status === \"published\",\r\n        elementsCount: tool.elements.length,\r\n        usageCount: tool.useCount,\r\n      },\r\n    });\r\n\r\n    return NextResponse.json({ success: true });\r\n  } catch (error) {\r\n    console.error(\"Error deleting tool:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to delete tool\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\tools\\[toolId]\\share\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":197,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":197,"endColumn":18,"suggestions":[{"fix":{"range":[6135,6179],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":273,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":273,"endColumn":18,"suggestions":[{"fix":{"range":[8342,8395],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\nimport { getFirestore } from \"firebase-admin/firestore\";\r\nimport { z } from \"zod\";\r\nimport {\r\n  ToolSchema,\r\n  canUserViewTool,\r\n  ShareToolSchema,\r\n  generateShareToken,\r\n  createToolDefaults,\r\n} from \"@hive/core\";\r\n\r\nconst db = getFirestore();\r\n\r\n// POST /api/tools/[toolId]/share - Create share link or fork tool\r\nexport async function POST(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ toolId: string }> }\r\n) {\r\n  try {\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const { toolId } = await params;\r\n    const toolDoc = await db.collection(\"tools\").doc(toolId).get();\r\n\r\n    if (!toolDoc.exists) {\r\n      return NextResponse.json({ error: \"Tool not found\" }, { status: 404 });\r\n    }\r\n\r\n    const originalTool = ToolSchema.parse({\r\n      id: toolDoc.id,\r\n      ...toolDoc.data(),\r\n    });\r\n\r\n    // Check if user can view this tool\r\n    if (!canUserViewTool(originalTool, userId)) {\r\n      return NextResponse.json({ error: \"Access denied\" }, { status: 403 });\r\n    }\r\n\r\n    const body = await request.json();\r\n    const { action, ...shareData } = body;\r\n\r\n    if (action === \"create_share_link\") {\r\n      // Create or update share token\r\n      const shareToken = originalTool.shareToken || generateShareToken();\r\n      const validatedShareData = ShareToolSchema.parse(shareData);\r\n\r\n      await toolDoc.ref.update({\r\n        shareToken,\r\n        isPublic: validatedShareData.permission === \"view\",\r\n        updatedAt: new Date(),\r\n      });\r\n\r\n      // Track analytics event\r\n      await db.collection(\"analytics_events\").add({\r\n        eventType: \"tool_shared\",\r\n        userId: userId,\r\n        toolId: toolId,\r\n        spaceId: originalTool.spaceId || null,\r\n        timestamp: new Date(),\r\n        metadata: {\r\n          shareType: \"link\",\r\n          permission: validatedShareData.permission,\r\n          hasExpiration: !!validatedShareData.expiresAt,\r\n        },\r\n      });\r\n\r\n      return NextResponse.json({\r\n        shareUrl: `${process.env.NEXT_PUBLIC_APP_URL}/tools/shared/${shareToken}`,\r\n        shareToken,\r\n        permission: validatedShareData.permission,\r\n        expiresAt: validatedShareData.expiresAt,\r\n      });\r\n    } else if (action === \"fork\") {\r\n      // Fork the tool - create a copy owned by the current user\r\n      const { spaceId, name } = shareData;\r\n\r\n      // Validate space access if forking to a space\r\n      if (spaceId) {\r\n        const spaceDoc = await db.collection(\"spaces\").doc(spaceId).get();\r\n        if (!spaceDoc.exists) {\r\n          return NextResponse.json(\r\n            { error: \"Space not found\" },\r\n            { status: 404 }\r\n          );\r\n        }\r\n\r\n        const spaceData = spaceDoc.data();\r\n        const userRole = spaceData?.members?.[userId]?.role;\r\n\r\n        if (![\"builder\", \"admin\"].includes(userRole)) {\r\n          return NextResponse.json(\r\n            { error: \"Insufficient permissions to create tools in this space\" },\r\n            { status: 403 }\r\n          );\r\n        }\r\n      }\r\n\r\n      // Create fork data\r\n      const forkData = {\r\n        name: name || `${originalTool.name} (Copy)`,\r\n        description: `Forked from ${originalTool.name}`,\r\n        spaceId: spaceId || undefined,\r\n        isSpaceTool: !!spaceId,\r\n        config: originalTool.config,\r\n        metadata: {\r\n          ...originalTool.metadata,\r\n          tags: [...(originalTool.metadata.tags || []), \"forked\"],\r\n        },\r\n      };\r\n\r\n      const toolDefaults = createToolDefaults(userId, forkData);\r\n      const now = new Date();\r\n\r\n      const forkedTool = {\r\n        ...toolDefaults,\r\n        elements: originalTool.elements.map((element) => ({\r\n          ...element,\r\n          id: `${element.id}_${Date.now()}`, // Ensure unique IDs in the fork\r\n        })),\r\n        originalToolId: toolId,\r\n        createdAt: now,\r\n        updatedAt: now,\r\n      };\r\n\r\n      // Save forked tool\r\n      const forkedToolRef = await db.collection(\"tools\").add(forkedTool);\r\n\r\n      // Create initial version for fork\r\n      const initialVersion = {\r\n        version: \"1.0.0\",\r\n        changelog: `Forked from ${originalTool.name}`,\r\n        createdAt: now,\r\n        createdBy: userId,\r\n        isStable: false,\r\n      };\r\n\r\n      await forkedToolRef\r\n        .collection(\"versions\")\r\n        .doc(\"1.0.0\")\r\n        .set(initialVersion);\r\n\r\n      // Update original tool's fork count\r\n      await toolDoc.ref.update({\r\n        forkCount: (originalTool.forkCount || 0) + 1,\r\n      });\r\n\r\n      // Track analytics events\r\n      await Promise.all([\r\n        db.collection(\"analytics_events\").add({\r\n          eventType: \"tool_forked\",\r\n          userId: userId,\r\n          toolId: forkedToolRef.id,\r\n          spaceId: spaceId || null,\r\n          timestamp: now,\r\n          metadata: {\r\n            originalToolId: toolId,\r\n            originalToolName: originalTool.name,\r\n            elementsCount: originalTool.elements.length,\r\n          },\r\n        }),\r\n        db.collection(\"analytics_events\").add({\r\n          eventType: \"tool_fork_source\",\r\n          userId: originalTool.ownerId,\r\n          toolId: toolId,\r\n          spaceId: originalTool.spaceId || null,\r\n          timestamp: now,\r\n          metadata: {\r\n            forkedBy: userId,\r\n            forkedToolId: forkedToolRef.id,\r\n            newForkCount: (originalTool.forkCount || 0) + 1,\r\n          },\r\n        }),\r\n      ]);\r\n\r\n      const result = {\r\n        id: forkedToolRef.id,\r\n        ...forkedTool,\r\n      };\r\n\r\n      return NextResponse.json(result, { status: 201 });\r\n    } else {\r\n      return NextResponse.json(\r\n        { error: 'Invalid action. Must be \"create_share_link\" or \"fork\"' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error sharing tool:\", error);\r\n\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Invalid share data\",\r\n          details: error.errors,\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: \"Failed to share tool\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// GET /api/tools/[toolId]/share - Get sharing information\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: Promise<{ toolId: string }> }\r\n) {\r\n  try {\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const { toolId } = await params;\r\n    const toolDoc = await db.collection(\"tools\").doc(toolId).get();\r\n\r\n    if (!toolDoc.exists) {\r\n      return NextResponse.json({ error: \"Tool not found\" }, { status: 404 });\r\n    }\r\n\r\n    const tool = ToolSchema.parse({ id: toolDoc.id, ...toolDoc.data() });\r\n\r\n    // Only owner can see sharing details\r\n    if (tool.ownerId !== userId) {\r\n      return NextResponse.json({ error: \"Access denied\" }, { status: 403 });\r\n    }\r\n\r\n    // Get fork information\r\n    const forksSnapshot = await db\r\n      .collection(\"tools\")\r\n      .where(\"originalToolId\", \"==\", toolId)\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .limit(10)\r\n      .get();\r\n\r\n    const forks = forksSnapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      name: doc.data().name,\r\n      ownerId: doc.data().ownerId,\r\n      createdAt: doc.data().createdAt,\r\n      spaceId: doc.data().spaceId,\r\n    }));\r\n\r\n    return NextResponse.json({\r\n      isPublic: tool.isPublic,\r\n      shareToken: tool.shareToken,\r\n      shareUrl: tool.shareToken\r\n        ? `${process.env.NEXT_PUBLIC_APP_URL}/tools/shared/${tool.shareToken}`\r\n        : null,\r\n      forkCount: tool.forkCount || 0,\r\n      forks,\r\n      viewCount: tool.viewCount || 0,\r\n      useCount: tool.useCount || 0,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching sharing info:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch sharing information\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\tools\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":75,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":75,"endColumn":18,"suggestions":[{"fix":{"range":[2409,2455],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":179,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":179,"endColumn":18,"suggestions":[{"fix":{"range":[5416,5461],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextRequest } from \"next/server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { getAuth } from \"firebase-admin/auth\";\r\nimport { getFirestore } from \"firebase-admin/firestore\";\r\nimport { z } from \"zod\";\r\nimport { CreateToolSchema, ToolSchema, createToolDefaults } from \"@hive/core\";\r\n// // import { rateLimit } from \"@/lib/rate-limit\";\r\n\r\nconst db = getFirestore();\r\n\r\n// Rate limiting: 10 tool creations per hour per user\r\n// // const createToolLimiter = rateLimit({\r\n//   windowMs: 60 * 60 * 1000, // 1 hour\r\n//   max: 10, // 10 requests per hour\r\n// });\r\n\r\n// GET /api/tools - List user's tools\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    const { searchParams } = new URL(request.url);\r\n    const spaceId = searchParams.get(\"spaceId\");\r\n    const status = searchParams.get(\"status\");\r\n    const limit = Math.min(parseInt(searchParams.get(\"limit\") || \"20\"), 50);\r\n    const offset = parseInt(searchParams.get(\"offset\") || \"0\");\r\n\r\n    // Build query\r\n    let query = db\r\n      .collection(\"tools\")\r\n      .where(\"ownerId\", \"==\", userId)\r\n      .orderBy(\"updatedAt\", \"desc\");\r\n\r\n    // Filter by space if provided\r\n    if (spaceId) {\r\n      query = query.where(\"spaceId\", \"==\", spaceId);\r\n    }\r\n\r\n    // Filter by status if provided\r\n    if (status && [\"draft\", \"preview\", \"published\"].includes(status)) {\r\n      query = query.where(\"status\", \"==\", status);\r\n    }\r\n\r\n    // Apply pagination\r\n    query = query.limit(limit).offset(offset);\r\n\r\n    const snapshot = await query.get();\r\n    const tools = snapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n    }));\r\n\r\n    // Get total count for pagination\r\n    const countQuery = db.collection(\"tools\").where(\"ownerId\", \"==\", userId);\r\n    const countSnapshot = await countQuery.count().get();\r\n    const total = countSnapshot.data().count;\r\n\r\n    return NextResponse.json({\r\n      tools,\r\n      pagination: {\r\n        total,\r\n        limit,\r\n        offset,\r\n        hasMore: offset + limit < total,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching tools:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch tools\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// POST /api/tools - Create new tool\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const authHeader = request.headers.get(\"authorization\");\r\n    if (!authHeader?.startsWith(\"Bearer \")) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    const token = authHeader.split(\"Bearer \")[1];\r\n    const decodedToken = await getAuth().verifyIdToken(token);\r\n    const userId = decodedToken.uid;\r\n\r\n    // Rate limiting\r\n    try {\r\n      // await createToolLimiter.check(); // Check rate limit for this user\r\n    } catch {\r\n      return NextResponse.json(\r\n        { error: \"Too many tool creations. Please try again later.\" },\r\n        { status: 429 }\r\n      );\r\n    }\r\n\r\n    const body = await request.json();\r\n\r\n    // Validate request body\r\n    const validatedData = CreateToolSchema.parse(body);\r\n\r\n    // If creating a space tool, verify user has builder permissions\r\n    if (validatedData.isSpaceTool && validatedData.spaceId) {\r\n      const spaceDoc = await db\r\n        .collection(\"spaces\")\r\n        .doc(validatedData.spaceId)\r\n        .get();\r\n      if (!spaceDoc.exists) {\r\n        return NextResponse.json({ error: \"Space not found\" }, { status: 404 });\r\n      }\r\n\r\n      const spaceData = spaceDoc.data();\r\n      const userRole = spaceData?.members?.[userId]?.role;\r\n\r\n      if (![\"builder\", \"admin\"].includes(userRole)) {\r\n        return NextResponse.json(\r\n          { error: \"Insufficient permissions to create tools in this space\" },\r\n          { status: 403 }\r\n        );\r\n      }\r\n    }\r\n\r\n    // Create tool document\r\n    const toolData = createToolDefaults(userId, validatedData);\r\n    const now = new Date();\r\n\r\n    const tool = {\r\n      ...toolData,\r\n      createdAt: now,\r\n      updatedAt: now,\r\n    };\r\n\r\n    // Validate the complete tool object\r\n    const validatedTool = ToolSchema.parse(tool);\r\n\r\n    // Save to Firestore\r\n    const toolRef = await db.collection(\"tools\").add(validatedTool);\r\n\r\n    // Create initial version\r\n    const initialVersion = {\r\n      version: \"1.0.0\",\r\n      changelog: \"Initial version\",\r\n      createdAt: now,\r\n      createdBy: userId,\r\n      isStable: false,\r\n    };\r\n\r\n    await toolRef.collection(\"versions\").doc(\"1.0.0\").set(initialVersion);\r\n\r\n    // Track analytics event\r\n    await db.collection(\"analytics_events\").add({\r\n      eventType: \"tool_created\",\r\n      userId: userId,\r\n      toolId: toolRef.id,\r\n      spaceId: validatedData.spaceId || null,\r\n      isSpaceTool: validatedData.isSpaceTool,\r\n      timestamp: now,\r\n      metadata: {\r\n        toolName: validatedData.name,\r\n        hasDescription: !!validatedData.description,\r\n      },\r\n    });\r\n\r\n    const createdTool = {\r\n      ...validatedTool,\r\n      id: toolRef.id,\r\n    };\r\n\r\n    return NextResponse.json(createdTool, { status: 201 });\r\n  } catch (error) {\r\n    console.error(\"Error creating tool:\", error);\r\n\r\n    if (error instanceof z.ZodError) {\r\n      return NextResponse.json(\r\n        {\r\n          error: \"Invalid tool data\",\r\n          details: error.errors,\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: \"Failed to create tool\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\api\\waitlist\\join\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":10,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":10,"endColumn":18,"suggestions":[{"fix":{"range":[321,369],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport { joinWaitlist } from \"@/lib/join-waitlist\";\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const { email, schoolId } = await req.json();\r\n    await joinWaitlist(email, schoolId);\r\n    return NextResponse.json({ success: true });\r\n  } catch (error) {\r\n    console.error(\"Error joining waitlist:\", error);\r\n    const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\r\n     if (errorMessage === \"Email and school ID are required.\") {\r\n      return NextResponse.json({ error: errorMessage }, { status: 400 });\r\n    }\r\n    if (errorMessage === \"School not found.\") {\r\n      return NextResponse.json({ error: errorMessage }, { status: 404 });\r\n    }\r\n    return NextResponse.json(\r\n      { error: \"Internal Server Error\", details: errorMessage },\r\n      { status: 500 }\r\n    );\r\n  }\r\n} ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\auth\\check-email\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\auth\\expired\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\auth\\page.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":44,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":44,"endColumn":18,"suggestions":[{"fix":{"range":[1439,1488],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { AuthForm } from \"@hive/ui/components/auth/AuthForm\";\n// We need to figure out where to get this from now\n// import { sendMagicLink } from '@hive/auth-logic';\n\nexport default function AuthPage() {\n  const router = useRouter();\n  // Hardcoding for UB for this slice\n  const schoolName = \"University at Buffalo\";\n  const schoolDomain = \"buffalo.edu\";\n\n  const [email, setEmail] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const validation = useMemo(() => {\n    if (!email) return { isValid: false, error: null };\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      return { isValid: false, error: \"Please enter a valid email address\" };\n    }\n    const domain = email.split(\"@\")[1];\n    if (domain.toLowerCase() !== schoolDomain) {\n      return {\n        isValid: false,\n        error: `Please use your ${schoolName} email address`,\n      };\n    }\n    return { isValid: true, error: null };\n  }, [email, schoolDomain, schoolName]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!validation.isValid) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      // await sendMagicLink({ email: email.toLowerCase().trim(), schoolId: 'buffalo' });\n      console.log(\"Requesting magic link for:\", email);\n      router.push(`/auth/check-email?email=${encodeURIComponent(email)}`);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Something went wrong\");\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <AuthForm\n      schoolName={schoolName}\n      schoolDomain={schoolDomain}\n      email={email}\n      onEmailChange={setEmail}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n      error={error}\n      validationError={validation.error}\n      isSubmitDisabled={!validation.isValid}\n      backLinkHref=\"/campus\"\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\auth\\verify\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\campus\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\feed\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\feed\\settings\\page.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":137,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":137,"endColumn":20,"suggestions":[{"fix":{"range":[3354,3375],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":144,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":144,"endColumn":18,"suggestions":[{"fix":{"range":[3499,3620],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":151,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":151,"endColumn":20,"suggestions":[{"fix":{"range":[3677,3726],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  Button,\n  Slider,\n  Switch,\n  Label,\n  Separator,\n  Badge,\n  Input,\n} from \"@hive/ui\";\nimport { ArrowLeft, Sliders, Eye, EyeOff, Plus, X } from \"lucide-react\";\nimport Link from \"next/link\";\n\ninterface AlgorithmPreferences {\n  contentTypeWeights: {\n    events: number;\n    posts: number;\n    tools: number;\n  };\n  sourcePreferences: {\n    joinedSpacesBoost: number;\n    campusWideWeight: number;\n  };\n  engagementWeight: number;\n  recencyWeight: number;\n  surgeContentBoost: number;\n  eventDensityCap: number;\n}\n\ninterface ContentFilters {\n  blockedTopics: string[];\n  mutedUsers: string[];\n  hiddenContentTypes: string[];\n  minimumEngagementThreshold: number;\n}\n\ninterface NotificationSettings {\n  feedUpdates: boolean;\n  newPosts: boolean;\n  reactions: boolean;\n  comments: boolean;\n  mentions: boolean;\n  spaceActivity: boolean;\n  frequency: \"instant\" | \"hourly\" | \"daily\" | \"none\";\n}\n\ninterface FeedSettingsData {\n  emailNotifications: boolean;\n  pushNotifications: boolean;\n  // Add other properties as needed\n}\n\nconst defaultAlgorithmPrefs: AlgorithmPreferences = {\n  contentTypeWeights: {\n    events: 30,\n    posts: 20,\n    tools: 10,\n  },\n  sourcePreferences: {\n    joinedSpacesBoost: 10,\n    campusWideWeight: 50,\n  },\n  engagementWeight: 75,\n  recencyWeight: 85,\n  surgeContentBoost: 25,\n  eventDensityCap: 5,\n};\n\nconst defaultContentFilters: ContentFilters = {\n  blockedTopics: [],\n  mutedUsers: [],\n  hiddenContentTypes: [],\n  minimumEngagementThreshold: 0,\n};\n\nconst defaultNotificationSettings: NotificationSettings = {\n  feedUpdates: true,\n  newPosts: true,\n  reactions: true,\n  comments: true,\n  mentions: true,\n  spaceActivity: false,\n  frequency: \"hourly\",\n};\n\nexport default function FeedSettingsPage() {\n  const [algorithmPrefs, setAlgorithmPrefs] = useState<AlgorithmPreferences>(\n    defaultAlgorithmPrefs\n  );\n  const [contentFilters, setContentFilters] = useState<ContentFilters>(\n    defaultContentFilters\n  );\n  const [notificationSettings, setNotificationSettings] =\n    useState<NotificationSettings>(defaultNotificationSettings);\n  const [activeTab, setActiveTab] = useState(\"algorithm\");\n  const [previewMode, setPreviewMode] = useState(false);\n  const [hasChanges, setHasChanges] = useState(false);\n  const [newTopicInput, setNewTopicInput] = useState(\"\");\n  const [newUserInput, setNewUserInput] = useState(\"\");\n  const [_settings, setSettings] = useState<FeedSettingsData>({\n    emailNotifications: true,\n    pushNotifications: true,\n  });\n  const [_isLoading, setIsLoading] = useState(false);\n\n  // Track changes\n  useEffect(() => {\n    setHasChanges(true);\n  }, [algorithmPrefs, contentFilters, notificationSettings]);\n\n  const _handleSettingChange = (setting: string, value: boolean) => {\n    // Handle setting change without console logging\n    setSettings((prev) => ({\n      ...prev,\n      [setting]: value,\n    }));\n  };\n\n  const _handleSave = async () => {\n    // Handle save without console logging\n    try {\n      // Save settings logic here\n      setIsLoading(true);\n      // Simulate API call\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      setIsLoading(false);\n    } catch (error) {\n      setIsLoading(false);\n      // Handle error properly\n      console.error(error);\n    }\n  };\n\n  const handleSaveSettings = async () => {\n    try {\n      // TODO: Implement API calls to save settings\n      console.log(\"Saving settings:\", {\n        algorithmPrefs,\n        contentFilters,\n        notificationSettings,\n      });\n      setHasChanges(false);\n    } catch (error) {\n      console.error(\"Failed to save settings:\", error);\n    }\n  };\n\n  const handleResetToDefaults = () => {\n    setAlgorithmPrefs(defaultAlgorithmPrefs);\n    setContentFilters(defaultContentFilters);\n    setNotificationSettings(defaultNotificationSettings);\n  };\n\n  const handleAlgorithmChange = <K extends keyof AlgorithmPreferences>(\n    key: K,\n    value: AlgorithmPreferences[K]\n  ) => {\n    setAlgorithmPrefs((prev) => ({\n      ...prev,\n      [key]: value,\n    }));\n  };\n\n  const addBlockedTopic = () => {\n    if (\n      newTopicInput.trim() &&\n      !contentFilters.blockedTopics.includes(newTopicInput.trim())\n    ) {\n      setContentFilters((prev) => ({\n        ...prev,\n        blockedTopics: [...prev.blockedTopics, newTopicInput.trim()],\n      }));\n      setNewTopicInput(\"\");\n    }\n  };\n\n  const removeBlockedTopic = (topic: string) => {\n    setContentFilters((prev) => ({\n      ...prev,\n      blockedTopics: prev.blockedTopics.filter((t) => t !== topic),\n    }));\n  };\n\n  const addMutedUser = () => {\n    if (\n      newUserInput.trim() &&\n      !contentFilters.mutedUsers.includes(newUserInput.trim())\n    ) {\n      setContentFilters((prev) => ({\n        ...prev,\n        mutedUsers: [...prev.mutedUsers, newUserInput.trim()],\n      }));\n      setNewUserInput(\"\");\n    }\n  };\n\n  const removeMutedUser = (user: string) => {\n    setContentFilters((prev) => ({\n      ...prev,\n      mutedUsers: prev.mutedUsers.filter((u) => u !== user),\n    }));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      {/* Header */}\n      <div className=\"border-b border-gray-800 bg-gray-900/95 backdrop-blur supports-[backdrop-filter]:bg-gray-900/80\">\n        <div className=\"flex h-16 items-center justify-between px-6\">\n          <div className=\"flex items-center gap-4\">\n            <Link\n              href=\"/feed\"\n              className=\"flex items-center gap-2 text-gray-400 hover:text-white transition-colors\"\n            >\n              <ArrowLeft className=\"h-5 w-5\" />\n              <span>Back to Feed</span>\n            </Link>\n            <Separator orientation=\"vertical\" className=\"h-6 bg-gray-700\" />\n            <div className=\"flex items-center gap-2\">\n              <Sliders className=\"h-5 w-5 text-yellow-500\" />\n              <h1 className=\"text-xl font-semibold\">Feed Settings</h1>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setPreviewMode(!previewMode)}\n              className=\"border-gray-700 text-gray-300 hover:text-white\"\n            >\n              {previewMode ? (\n                <EyeOff className=\"h-4 w-4 mr-2\" />\n              ) : (\n                <Eye className=\"h-4 w-4 mr-2\" />\n              )}\n              {previewMode ? \"Hide Preview\" : \"Preview Changes\"}\n            </Button>\n            {hasChanges && (\n              <Badge\n                variant=\"secondary\"\n                className=\"bg-yellow-500/20 text-yellow-300\"\n              >\n                Unsaved Changes\n              </Badge>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex\">\n        {/* Main Content */}\n        <div className={`flex-1 p-6 ${previewMode ? \"pr-0\" : \"\"}`}>\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            {/* Tab Navigation */}\n            <div className=\"flex space-x-1 bg-gray-800 rounded-lg p-1\">\n              {[\n                { id: \"algorithm\", label: \"Algorithm Preferences\" },\n                { id: \"filters\", label: \"Content Filters\" },\n                { id: \"notifications\", label: \"Notifications\" },\n              ].map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n                    activeTab === tab.id\n                      ? \"bg-yellow-500 text-black\"\n                      : \"text-gray-300 hover:text-white\"\n                  }`}\n                >\n                  {tab.label}\n                </button>\n              ))}\n            </div>\n\n            {/* Algorithm Preferences Tab */}\n            {activeTab === \"algorithm\" && (\n              <div className=\"space-y-6\">\n                {/* Content Type Weights */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">\n                      Content Type Priorities\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Adjust how much you want to see different types of content\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    <div className=\"space-y-4\">\n                      <div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label className=\"text-white\">Events</Label>\n                          <span className=\"text-sm text-gray-400\">\n                            {algorithmPrefs.contentTypeWeights.events} points\n                          </span>\n                        </div>\n                        <Slider\n                          value={[algorithmPrefs.contentTypeWeights.events]}\n                          onValueChange={([value]) =>\n                            handleAlgorithmChange(\"contentTypeWeights\", {\n                              ...algorithmPrefs.contentTypeWeights,\n                              events: value,\n                            })\n                          }\n                          max={50}\n                          min={0}\n                          step={5}\n                          className=\"w-full\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Campus events, meetings, social gatherings\n                        </p>\n                      </div>\n\n                      <div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label className=\"text-white\">Posts</Label>\n                          <span className=\"text-sm text-gray-400\">\n                            {algorithmPrefs.contentTypeWeights.posts} points\n                          </span>\n                        </div>\n                        <Slider\n                          value={[algorithmPrefs.contentTypeWeights.posts]}\n                          onValueChange={([value]) =>\n                            handleAlgorithmChange(\"contentTypeWeights\", {\n                              ...algorithmPrefs.contentTypeWeights,\n                              posts: value,\n                            })\n                          }\n                          max={50}\n                          min={0}\n                          step={5}\n                          className=\"w-full\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Regular posts, discussions, updates\n                        </p>\n                      </div>\n\n                      <div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label className=\"text-white\">\n                            Tools & Interactive Content\n                          </Label>\n                          <span className=\"text-sm text-gray-400\">\n                            {algorithmPrefs.contentTypeWeights.tools} points\n                          </span>\n                        </div>\n                        <Slider\n                          value={[algorithmPrefs.contentTypeWeights.tools]}\n                          onValueChange={([value]) =>\n                            handleAlgorithmChange(\"contentTypeWeights\", {\n                              ...algorithmPrefs.contentTypeWeights,\n                              tools: value,\n                            })\n                          }\n                          max={50}\n                          min={0}\n                          step={5}\n                          className=\"w-full\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Polls, prompts, interactive tools\n                        </p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Source Preferences */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">\n                      Source Preferences\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Control content from your joined spaces vs campus-wide\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    <div>\n                      <div className=\"flex justify-between items-center mb-2\">\n                        <Label className=\"text-white\">\n                          Joined Spaces Boost\n                        </Label>\n                        <span className=\"text-sm text-gray-400\">\n                          +{algorithmPrefs.sourcePreferences.joinedSpacesBoost}{\" \"}\n                          points\n                        </span>\n                      </div>\n                      <Slider\n                        value={[\n                          algorithmPrefs.sourcePreferences.joinedSpacesBoost,\n                        ]}\n                        onValueChange={([value]) =>\n                          handleAlgorithmChange(\"sourcePreferences\", {\n                            ...algorithmPrefs.sourcePreferences,\n                            joinedSpacesBoost: value,\n                          })\n                        }\n                        max={25}\n                        min={0}\n                        step={5}\n                        className=\"w-full\"\n                      />\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        Extra priority for content from spaces you&apos;ve\n                        joined\n                      </p>\n                    </div>\n\n                    <div>\n                      <div className=\"flex justify-between items-center mb-2\">\n                        <Label className=\"text-white\">\n                          Campus-wide Content Weight\n                        </Label>\n                        <span className=\"text-sm text-gray-400\">\n                          {algorithmPrefs.sourcePreferences.campusWideWeight}%\n                        </span>\n                      </div>\n                      <Slider\n                        value={[\n                          algorithmPrefs.sourcePreferences.campusWideWeight,\n                        ]}\n                        onValueChange={([value]) =>\n                          handleAlgorithmChange(\"sourcePreferences\", {\n                            ...algorithmPrefs.sourcePreferences,\n                            campusWideWeight: value,\n                          })\n                        }\n                        max={100}\n                        min={0}\n                        step={10}\n                        className=\"w-full\"\n                      />\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        How much campus-wide content to include\n                      </p>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Advanced Algorithm Controls */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">\n                      Advanced Algorithm Controls\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Fine-tune the ranking algorithm behavior\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                      <div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label className=\"text-white\">\n                            Engagement Weight\n                          </Label>\n                          <span className=\"text-sm text-gray-400\">\n                            {algorithmPrefs.engagementWeight}%\n                          </span>\n                        </div>\n                        <Slider\n                          value={[algorithmPrefs.engagementWeight]}\n                          onValueChange={([value]) =>\n                            handleAlgorithmChange(\"engagementWeight\", value)\n                          }\n                          max={100}\n                          min={0}\n                          step={5}\n                          className=\"w-full\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          How much reactions/comments matter\n                        </p>\n                      </div>\n\n                      <div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label className=\"text-white\">Recency Weight</Label>\n                          <span className=\"text-sm text-gray-400\">\n                            {algorithmPrefs.recencyWeight}%\n                          </span>\n                        </div>\n                        <Slider\n                          value={[algorithmPrefs.recencyWeight]}\n                          onValueChange={([value]) =>\n                            handleAlgorithmChange(\"recencyWeight\", value)\n                          }\n                          max={100}\n                          min={0}\n                          step={5}\n                          className=\"w-full\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Preference for newer content\n                        </p>\n                      </div>\n\n                      <div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label className=\"text-white\">\n                            Trending Content Boost\n                          </Label>\n                          <span className=\"text-sm text-gray-400\">\n                            +{algorithmPrefs.surgeContentBoost} points\n                          </span>\n                        </div>\n                        <Slider\n                          value={[algorithmPrefs.surgeContentBoost]}\n                          onValueChange={([value]) =>\n                            handleAlgorithmChange(\"surgeContentBoost\", value)\n                          }\n                          max={50}\n                          min={0}\n                          step={5}\n                          className=\"w-full\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Extra boost for trending/viral content\n                        </p>\n                      </div>\n\n                      <div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label className=\"text-white\">\n                            Daily Events Limit\n                          </Label>\n                          <span className=\"text-sm text-gray-400\">\n                            {algorithmPrefs.eventDensityCap} events\n                          </span>\n                        </div>\n                        <Slider\n                          value={[algorithmPrefs.eventDensityCap]}\n                          onValueChange={([value]) =>\n                            handleAlgorithmChange(\"eventDensityCap\", value)\n                          }\n                          max={10}\n                          min={1}\n                          step={1}\n                          className=\"w-full\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Maximum events shown per day\n                        </p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n\n            {/* Content Filters Tab */}\n            {activeTab === \"filters\" && (\n              <div className=\"space-y-6\">\n                {/* Blocked Topics */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">Blocked Topics</CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Hide content related to specific topics or keywords\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"flex gap-2\">\n                      <Input\n                        placeholder=\"Add topic to block (e.g., 'politics', 'sports')\"\n                        value={newTopicInput}\n                        onChange={(e) => setNewTopicInput(e.target.value)}\n                        onKeyPress={(e) =>\n                          e.key === \"Enter\" && addBlockedTopic()\n                        }\n                        className=\"flex-1 bg-gray-700 border-gray-600 text-white\"\n                      />\n                      <Button\n                        onClick={addBlockedTopic}\n                        className=\"bg-yellow-500 text-black hover:bg-yellow-600\"\n                      >\n                        <Plus className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                    {contentFilters.blockedTopics.length > 0 && (\n                      <div className=\"flex flex-wrap gap-2\">\n                        {contentFilters.blockedTopics.map((topic) => (\n                          <Badge\n                            key={topic}\n                            variant=\"secondary\"\n                            className=\"bg-gray-700 text-gray-200\"\n                          >\n                            {topic}\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() => removeBlockedTopic(topic)}\n                              className=\"ml-1 h-4 w-4 p-0 text-gray-400 hover:text-white\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </Button>\n                          </Badge>\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Muted Users */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">Muted Users</CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Hide content from specific users\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"flex gap-2\">\n                      <Input\n                        placeholder=\"Add user to mute (username or email)\"\n                        value={newUserInput}\n                        onChange={(e) => setNewUserInput(e.target.value)}\n                        onKeyPress={(e) => e.key === \"Enter\" && addMutedUser()}\n                        className=\"flex-1 bg-gray-700 border-gray-600 text-white\"\n                      />\n                      <Button\n                        onClick={addMutedUser}\n                        className=\"bg-yellow-500 text-black hover:bg-yellow-600\"\n                      >\n                        <Plus className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                    {contentFilters.mutedUsers.length > 0 && (\n                      <div className=\"flex flex-wrap gap-2\">\n                        {contentFilters.mutedUsers.map((user) => (\n                          <Badge\n                            key={user}\n                            variant=\"secondary\"\n                            className=\"bg-gray-700 text-gray-200\"\n                          >\n                            {user}\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() => removeMutedUser(user)}\n                              className=\"ml-1 h-4 w-4 p-0 text-gray-400 hover:text-white\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </Button>\n                          </Badge>\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Content Type Filters */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">\n                      Content Type Filters\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Choose which types of content to hide completely\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"space-y-3\">\n                      {[\n                        \"polls\",\n                        \"media-posts\",\n                        \"event-cards\",\n                        \"join-forms\",\n                      ].map((type) => (\n                        <div\n                          key={type}\n                          className=\"flex items-center justify-between\"\n                        >\n                          <Label className=\"text-white capitalize\">\n                            {type.replace(\"-\", \" \")}\n                          </Label>\n                          <Switch\n                            checked={\n                              !contentFilters.hiddenContentTypes.includes(type)\n                            }\n                            onCheckedChange={(checked) => {\n                              if (checked) {\n                                setContentFilters((prev) => ({\n                                  ...prev,\n                                  hiddenContentTypes:\n                                    prev.hiddenContentTypes.filter(\n                                      (t) => t !== type\n                                    ),\n                                }));\n                              } else {\n                                setContentFilters((prev) => ({\n                                  ...prev,\n                                  hiddenContentTypes: [\n                                    ...prev.hiddenContentTypes,\n                                    type,\n                                  ],\n                                }));\n                              }\n                            }}\n                          />\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Engagement Threshold */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">\n                      Minimum Engagement Threshold\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Hide content with fewer reactions than this threshold\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div>\n                      <div className=\"flex justify-between items-center mb-2\">\n                        <Label className=\"text-white\">Minimum Reactions</Label>\n                        <span className=\"text-sm text-gray-400\">\n                          {contentFilters.minimumEngagementThreshold} reactions\n                        </span>\n                      </div>\n                      <Slider\n                        value={[contentFilters.minimumEngagementThreshold]}\n                        onValueChange={([value]) =>\n                          handleAlgorithmChange(\n                            \"minimumEngagementThreshold\",\n                            value\n                          )\n                        }\n                        max={20}\n                        min={0}\n                        step={1}\n                        className=\"w-full\"\n                      />\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n\n            {/* Notifications Tab */}\n            {activeTab === \"notifications\" && (\n              <div className=\"space-y-6\">\n                {/* Notification Types */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">\n                      Notification Preferences\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      Control what notifications you receive\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"space-y-4\">\n                      {[\n                        {\n                          key: \"feedUpdates\",\n                          label: \"Feed Updates\",\n                          description: \"New content in your feed\",\n                        },\n                        {\n                          key: \"newPosts\",\n                          label: \"New Posts\",\n                          description: \"Posts in spaces you follow\",\n                        },\n                        {\n                          key: \"reactions\",\n                          label: \"Reactions\",\n                          description: \"When someone reacts to your content\",\n                        },\n                        {\n                          key: \"comments\",\n                          label: \"Comments\",\n                          description: \"Comments on your posts\",\n                        },\n                        {\n                          key: \"mentions\",\n                          label: \"Mentions\",\n                          description: \"When you're mentioned in content\",\n                        },\n                        {\n                          key: \"spaceActivity\",\n                          label: \"Space Activity\",\n                          description: \"Updates from your joined spaces\",\n                        },\n                      ].map(({ key, label, description }) => (\n                        <div\n                          key={key}\n                          className=\"flex items-center justify-between\"\n                        >\n                          <div>\n                            <Label className=\"text-white\">{label}</Label>\n                            <p className=\"text-xs text-gray-500\">\n                              {description}\n                            </p>\n                          </div>\n                          <Switch\n                            checked={\n                              notificationSettings[\n                                key as keyof NotificationSettings\n                              ] as boolean\n                            }\n                            onCheckedChange={(checked) =>\n                              handleAlgorithmChange(key, checked)\n                            }\n                          />\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Notification Frequency */}\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white\">\n                      Notification Frequency\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-400\">\n                      How often to receive notifications\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                      {[\n                        { value: \"instant\", label: \"Instant\" },\n                        { value: \"hourly\", label: \"Hourly\" },\n                        { value: \"daily\", label: \"Daily\" },\n                        { value: \"none\", label: \"None\" },\n                      ].map(({ value, label }) => (\n                        <Button\n                          key={value}\n                          variant={\n                            notificationSettings.frequency === value\n                              ? \"default\"\n                              : \"outline\"\n                          }\n                          onClick={() =>\n                            handleAlgorithmChange(\n                              \"frequency\",\n                              value as NotificationSettings[\"frequency\"]\n                            )\n                          }\n                          className={`w-full ${\n                            notificationSettings.frequency === value\n                              ? \"bg-yellow-500 text-black hover:bg-yellow-600\"\n                              : \"border-gray-600 text-gray-300 hover:text-white\"\n                          }`}\n                        >\n                          {label}\n                        </Button>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-between items-center pt-6 border-t border-gray-700\">\n              <Button\n                variant=\"outline\"\n                onClick={handleResetToDefaults}\n                className=\"border-gray-600 text-gray-300 hover:text-white\"\n              >\n                Reset to Defaults\n              </Button>\n              <div className=\"flex gap-3\">\n                <Link href=\"/feed\">\n                  <Button\n                    variant=\"outline\"\n                    className=\"border-gray-600 text-gray-300 hover:text-white\"\n                  >\n                    Cancel\n                  </Button>\n                </Link>\n                <Button\n                  onClick={handleSaveSettings}\n                  disabled={!hasChanges}\n                  className=\"bg-yellow-500 text-black hover:bg-yellow-600 disabled:opacity-50\"\n                >\n                  Save Settings\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Preview Panel */}\n        {previewMode && (\n          <div className=\"w-96 border-l border-gray-700 bg-gray-800 p-4\">\n            <div className=\"sticky top-4\">\n              <h3 className=\"text-lg font-semibold text-white mb-4\">\n                Live Preview\n              </h3>\n              <Card className=\"bg-gray-900 border-gray-600\">\n                <CardHeader>\n                  <CardTitle className=\"text-sm text-yellow-400\">\n                    Algorithm Impact\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3 text-xs\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Events priority:</span>\n                    <span className=\"text-white\">\n                      {algorithmPrefs.contentTypeWeights.events}pts\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Posts priority:</span>\n                    <span className=\"text-white\">\n                      {algorithmPrefs.contentTypeWeights.posts}pts\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Tools priority:</span>\n                    <span className=\"text-white\">\n                      {algorithmPrefs.contentTypeWeights.tools}pts\n                    </span>\n                  </div>\n                  <Separator className=\"bg-gray-700\" />\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Joined spaces boost:</span>\n                    <span className=\"text-white\">\n                      +{algorithmPrefs.sourcePreferences.joinedSpacesBoost}pts\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Blocked topics:</span>\n                    <span className=\"text-white\">\n                      {contentFilters.blockedTopics.length}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Muted users:</span>\n                    <span className=\"text-white\">\n                      {contentFilters.mutedUsers.length}\n                    </span>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\legal\\community-guidelines\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\legal\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\legal\\terms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\onboarding\\[step]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\onboarding\\complete\\page.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":28,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":28,"endColumn":20,"suggestions":[{"fix":{"range":[869,909],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@hive/ui\";\nimport { PartyPopper } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\n// import Confetti from 'react-confetti'; // Assuming this library is installed\n\nexport default function OnboardingCompletePage() {\n  const router = useRouter();\n  const [isLoading, setIsLoading] = useState(false);\n\n  // This is to make sure confetti animation has a moment to shine\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      // Call the function to mark onboarding as complete\n      const complete = async () => {\n        // const functions = getFunctions();\n        // const onboardingComplete = httpsCallable(functions, 'onboardingComplete');\n        // await onboardingComplete();\n        console.log(\"Finalizing onboarding...\");\n      };\n      complete();\n    }, 500);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleEnter = () => {\n    setIsLoading(true);\n    router.push(\"/feed\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\n      {/* <Confetti width={window.innerWidth} height={window.innerHeight} /> */}\n      <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800 text-center animate-in fade-in-50 zoom-in-95\">\n        <CardHeader>\n          <div className=\"mx-auto w-16 h-16 bg-yellow-500/10 rounded-full flex items-center justify-center mb-6 ring-2 ring-yellow-500/20\">\n            <PartyPopper className=\"w-8 h-8 text-yellow-500\" />\n          </div>\n          <CardTitle className=\"text-white text-2xl\">\n            You&apos;re all set!\n          </CardTitle>\n          <CardDescription className=\"text-zinc-400\">\n            Welcome to the HIVE. You&apos;re now ready to explore what&apos;s\n            happening on campus.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Button\n            onClick={handleEnter}\n            className=\"w-full bg-yellow-500 text-black hover:bg-yellow-600 text-lg py-6\"\n            disabled={isLoading}\n          >\n            Enter HIVE\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\onboarding\\page.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":33,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":33,"endColumn":20,"suggestions":[{"fix":{"range":[952,1012],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":39,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":39,"endColumn":16,"suggestions":[{"fix":{"range":[1135,1191],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":20,"suggestions":[{"fix":{"range":[1216,1255],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":76,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":76,"endColumn":20,"suggestions":[{"fix":{"range":[2157,2211],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":84,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":84,"endColumn":16,"suggestions":[{"fix":{"range":[2358,2410],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { HiveOnboardingV3 } from \"@hive/ui\";\nimport type { OnboardingData } from \"@hive/ui\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { useAuth } from \"@hive/auth-logic\";\n\nexport default function OnboardingPage() {\n  const router = useRouter();\n  const { user, loading } = useAuth();\n  const [_isSubmitting, setIsSubmitting] = useState(false);\n\n  // Redirect if not authenticated\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push(\"/auth/login\");\n    }\n  }, [user, loading, router]);\n\n  const isHandleAvailable = async (handle: string) => {\n    try {\n      const response = await fetch(\"/api/auth/check-handle\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ handle }),\n      });\n      const data = await response.json();\n      return data.available;\n    } catch (error) {\n      console.error(\"Failed to check handle availability\", error);\n      return false; // Fail securely\n    }\n  };\n\n  const handleOnboardingComplete = async (data: OnboardingData) => {\n    console.log(\"ðŸŽ‰ Onboarding completed with data:\", data);\n\n    if (!user) {\n      console.error(\"No authenticated user\");\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Get Firebase ID token for authentication\n      const idToken = await user.getIdToken();\n\n      // Send onboarding data to complete profile\n      const response = await fetch(\"/api/auth/complete-onboarding\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${idToken}`,\n        },\n        body: JSON.stringify({\n          fullName: data.fullName,\n          major: data.major,\n          handle: data.handle,\n          avatarUrl: data.avatarUrl || \"\",\n          builderOptIn: data.isBuilder,\n          consentGiven: data.legalAccepted,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to complete onboarding\");\n      }\n\n      // Redirect to welcome page for celebration\n      router.push(\"/welcome\");\n    } catch (error) {\n      console.error(\"Onboarding completion failed:\", error);\n      // Stay on page to allow retry\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleStepChange = (step: number) => {\n    console.log(\"ðŸ“ Onboarding step changed to:\", step);\n    // You could track analytics here\n  };\n\n  // Show loading while checking auth\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-[#0A0A0A] flex items-center justify-center\">\n        <div className=\"text-[#FFD700] text-lg font-sans\">Loading...</div>\n      </div>\n    );\n  }\n\n  // Don't render if not authenticated (will redirect)\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <HiveOnboardingV3\n      onComplete={handleOnboardingComplete}\n      onStepChange={handleStepChange}\n      initialData={{\n        email: user.email || \"\",\n      }}\n      isHandleAvailable={isHandleAvailable}\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\about-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\action-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\calendar-widget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\my-spaces.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\profile-activity.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":44,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":44,"endColumn":14,"suggestions":[{"fix":{"range":[1012,1064],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { Card, CardContent, CardHeader, CardTitle, Button } from \"@hive/ui\";\nimport {\n  Calendar,\n  Clock,\n  Users,\n  MessageSquare,\n  TrendingUp,\n} from \"lucide-react\";\nimport type { User } from \"@hive/core\";\n\ninterface ProfileActivityProps {\n  user: User;\n}\n\n// Mock activity data - will be replaced with real data from Team 2/3\nconst mockActivities = [\n  {\n    id: \"1\",\n    type: \"login\",\n    description: \"Logged into HIVE\",\n    timestamp: Date.now() - 1000 * 60 * 30, // 30 minutes ago\n    icon: Clock,\n  },\n  {\n    id: \"2\",\n    type: \"space_join\",\n    description: \"Joined Computer Science Majors\",\n    timestamp: Date.now() - 1000 * 60 * 60 * 2, // 2 hours ago\n    icon: Users,\n  },\n  {\n    id: \"3\",\n    type: \"post\",\n    description: \"Posted in Computer Science Majors\",\n    timestamp: Date.now() - 1000 * 60 * 60 * 24, // 1 day ago\n    icon: MessageSquare,\n  },\n];\n\nexport const ProfileActivity = ({ user }: ProfileActivityProps) => {\n  // TODO: Use user data for personalized activity\n  console.log(\"Profile activity for user:\", user.uid);\n\n  const formatTimeAgo = (timestamp: number) => {\n    const now = Date.now();\n    const diff = now - timestamp;\n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n    if (days > 0) return `${days}d ago`;\n    if (hours > 0) return `${hours}h ago`;\n    if (minutes > 0) return `${minutes}m ago`;\n    return \"Just now\";\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Activity Summary */}\n      <Card className=\"border-gray-700 bg-gray-900/50\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-white\">\n            <TrendingUp className=\"h-5 w-5\" />\n            Activity Summary (Last 90 Days)\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-2 gap-4 md:grid-cols-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-gold\">12</div>\n              <div className=\"text-sm text-gray-400\">Logins</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-gold\">3</div>\n              <div className=\"text-sm text-gray-400\">Spaces Joined</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-gold\">8</div>\n              <div className=\"text-sm text-gray-400\">Posts Made</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-gold\">2</div>\n              <div className=\"text-sm text-gray-400\">Tools Created</div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Motion Log - Stub Implementation */}\n      <Card className=\"border-gray-700 bg-gray-900/50\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"flex items-center gap-2 text-white\">\n            <Calendar className=\"h-5 w-5\" />\n            Motion Log\n          </CardTitle>\n          <Button variant=\"outline\" size=\"sm\">\n            Export Data\n          </Button>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {mockActivities.map((activity) => {\n              const IconComponent = activity.icon;\n              return (\n                <div\n                  key={activity.id}\n                  className=\"flex items-center gap-3 rounded-lg border border-gray-700 p-3\"\n                >\n                  <div className=\"rounded-full bg-gold/10 p-2\">\n                    <IconComponent className=\"h-4 w-4 text-gold\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-gray-300\">\n                      {activity.description}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      {formatTimeAgo(activity.timestamp)}\n                    </p>\n                  </div>\n                </div>\n              );\n            })}\n\n            {/* Placeholder for more activities */}\n            <div className=\"rounded-lg border border-dashed border-gray-600 p-6 text-center\">\n              <Calendar className=\"mx-auto h-8 w-8 text-gray-500\" />\n              <p className=\"mt-2 text-sm text-gray-400\">\n                More activity data will appear as you use HIVE\n              </p>\n              <p className=\"mt-1 text-xs text-gray-500\">\n                Daily batch aggregation â€¢ Real data coming soon\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* 7-Day Events Strip - Placeholder */}\n      <Card className=\"border-gray-700 bg-gray-900/50\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">This Week</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-7 gap-2\">\n            {Array.from({ length: 7 }, (_, i) => {\n              const date = new Date();\n              date.setDate(date.getDate() - (6 - i));\n              const dayName = date.toLocaleDateString(\"en-US\", {\n                weekday: \"short\",\n              });\n              const dayNumber = date.getDate();\n\n              return (\n                <div\n                  key={i}\n                  className=\"rounded-lg border border-gray-700 p-3 text-center\"\n                >\n                  <div className=\"text-xs text-gray-400\">{dayName}</div>\n                  <div className=\"text-lg font-semibold text-white\">\n                    {dayNumber}\n                  </div>\n                  <div className=\"mt-1 h-2 w-full rounded-full bg-gray-700\">\n                    <div\n                      className=\"h-full rounded-full bg-gold\"\n                      style={{ width: `${Math.random() * 100}%` }}\n                    />\n                  </div>\n                  <div className=\"mt-1 text-xs text-gray-500\">\n                    {Math.floor(Math.random() * 5)} events\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\profile-dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\profile-header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\profile-overview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\profile-settings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\profile-sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\components\\progress-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\profile\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\share\\page.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":47,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":47,"endColumn":20,"suggestions":[{"fix":{"range":[1118,1156],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":244,"column":38,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8442,8710],"text":"\n                Hey! ðŸ‘‹ I just joined HIVE - the new social platform launching\n                exclusively at UB! It&apos;s designed specifically for college\n                students and looks amazing. Want to join the founding UB\n                community? Check it out: "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8442,8710],"text":"\n                Hey! ðŸ‘‹ I just joined HIVE - the new social platform launching\n                exclusively at UB! It&lsquo;s designed specifically for college\n                students and looks amazing. Want to join the founding UB\n                community? Check it out: "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8442,8710],"text":"\n                Hey! ðŸ‘‹ I just joined HIVE - the new social platform launching\n                exclusively at UB! It&#39;s designed specifically for college\n                students and looks amazing. Want to join the founding UB\n                community? Check it out: "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8442,8710],"text":"\n                Hey! ðŸ‘‹ I just joined HIVE - the new social platform launching\n                exclusively at UB! It&rsquo;s designed specifically for college\n                students and looks amazing. Want to join the founding UB\n                community? Check it out: "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { Button } from \"@hive/ui\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@hive/ui\";\n\nimport {\n  ArrowLeft,\n  Share2,\n  Copy,\n  Twitter,\n  Facebook,\n  Instagram,\n  CheckCircle,\n  Users,\n  Sparkles,\n  MessageSquare,\n} from \"lucide-react\";\n\nexport default function ShareInvitePage() {\n  const searchParams = useSearchParams();\n  const [copied, setCopied] = useState(false);\n  const [shareStats] = useState({\n    totalInvites: 0,\n    joinedFromInvites: 0,\n  });\n\n  // Generate UB-specific invite link\n  const inviteLink = `${window.location.origin}/campus?ref=${searchParams.get(\"userId\") || \"ub-student\"}&utm_source=friend_invite&utm_campaign=ub_launch`;\n\n  const shareUrl = `https://app.myhive.quest/invite?code=${shareContent.inviteCode}`;\n\n  const copyToClipboard = async () => {\n    try {\n      await navigator.clipboard.writeText(shareUrl);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error(\"Failed to copy:\", err);\n    }\n  };\n\n  const legacy_handleShare = async (platform: string) => {\n    const text = `I just joined HIVE, the new social platform for UB students. Join me!`;\n    const shareUrls = {\n      twitter: `https://twitter.com/intent/tweet?url=${encodeURIComponent(\n        shareUrl\n      )}&text=${encodeURIComponent(text)}`,\n      facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(\n        shareUrl\n      )}`,\n    };\n\n    if (platform === \"instagram\") {\n      // Instagram doesn't support direct web sharing with pre-filled text\n      await navigator.clipboard.writeText(`${text} ${shareUrl}`);\n      alert(\n        \"Invite message copied to clipboard. Paste it in your Instagram story or DM!\"\n      );\n    } else {\n      window.open(\n        shareUrls[platform as keyof typeof shareUrls],\n        \"_blank\",\n        \"width=600,height=400\"\n      );\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0A0A0A] text-white\">\n      <div className=\"max-w-2xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"flex items-center mb-8\">\n          <Link href=\"/campus\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"p-2 text-zinc-400 hover:text-white mr-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n            </Button>\n          </Link>\n          <div>\n            <h1 className=\"text-3xl font-bold font-display\">\n              Invite Your Friends\n            </h1>\n            <p className=\"text-zinc-400 mt-1 font-sans\">\n              Help us build the founding UB community on HIVE\n            </p>\n          </div>\n        </div>\n\n        {/* UB Launch Status */}\n        <Card className=\"mb-8 bg-[#FFD700]/5 border-[#FFD700]/20\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-start space-x-3\">\n              <Sparkles className=\"w-6 h-6 text-[#FFD700] mt-1 flex-shrink-0\" />\n              <div>\n                <h3 className=\"font-semibold text-[#FFD700] mb-2 font-display\">\n                  UB Founding Launch\n                </h3>\n                <p className=\"text-zinc-300 text-sm leading-relaxed font-sans\">\n                  HIVE is launching exclusively at University at Buffalo! Invite\n                  your fellow UB students to join the founding community and\n                  help shape the platform from day one.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Share Stats */}\n        <div className=\"grid grid-cols-2 gap-4 mb-8\">\n          <Card className=\"bg-zinc-900/50 border-zinc-800\">\n            <CardContent className=\"pt-4\">\n              <div className=\"flex items-center space-x-3\">\n                <Share2 className=\"w-5 h-5 text-[#FFD700]\" />\n                <div>\n                  <p className=\"text-sm text-zinc-400 font-sans\">\n                    Invites Sent\n                  </p>\n                  <p className=\"text-xl font-bold text-white font-display\">\n                    {shareStats.totalInvites}\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card className=\"bg-zinc-900/50 border-zinc-800\">\n            <CardContent className=\"pt-4\">\n              <div className=\"flex items-center space-x-3\">\n                <Users className=\"w-5 h-5 text-[#FFD700]\" />\n                <div>\n                  <p className=\"text-sm text-zinc-400 font-sans\">\n                    Friends Joined\n                  </p>\n                  <p className=\"text-xl font-bold text-white font-display\">\n                    {shareStats.joinedFromInvites}\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Share Link */}\n        <Card className=\"mb-8 bg-zinc-900/30 border-zinc-700\">\n          <CardHeader>\n            <CardTitle className=\"text-white font-display flex items-center gap-2\">\n              <Share2 className=\"w-5 h-5 text-[#FFD700]\" />\n              Your UB Invite Link\n            </CardTitle>\n            <CardDescription className=\"font-sans\">\n              Share this link with your UB friends to invite them to HIVE\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center space-x-2 p-3 bg-zinc-800/50 rounded-lg\">\n                <code className=\"flex-1 text-sm text-zinc-300 font-mono break-all\">\n                  {inviteLink}\n                </code>\n                <Button\n                  onClick={copyToClipboard}\n                  size=\"sm\"\n                  className=\"bg-[#FFD700] hover:bg-[#FFE255] text-black font-medium\"\n                >\n                  {copied ? (\n                    <>\n                      <CheckCircle className=\"w-4 h-4 mr-1\" />\n                      Copied!\n                    </>\n                  ) : (\n                    <>\n                      <Copy className=\"w-4 h-4 mr-1\" />\n                      Copy\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Social Sharing */}\n        <Card className=\"mb-8 bg-zinc-900/30 border-zinc-700\">\n          <CardHeader>\n            <CardTitle className=\"text-white font-display\">\n              Share on Social Media\n            </CardTitle>\n            <CardDescription className=\"font-sans\">\n              Spread the word about HIVE launching at UB\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n              <Button\n                onClick={() => legacy_handleShare(\"twitter\")}\n                className=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-sans\"\n              >\n                <Twitter className=\"w-4 h-4 mr-2\" />\n                Twitter\n              </Button>\n              <Button\n                onClick={() => legacy_handleShare(\"facebook\")}\n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-sans\"\n              >\n                <Facebook className=\"w-4 h-4 mr-2\" />\n                Facebook\n              </Button>\n              <Button\n                onClick={() => legacy_handleShare(\"instagram\")}\n                className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-sans\"\n              >\n                <Instagram className=\"w-4 h-4 mr-2\" />\n                Instagram\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Direct Message Template */}\n        <Card className=\"mb-8 bg-zinc-900/30 border-zinc-700\">\n          <CardHeader>\n            <CardTitle className=\"text-white font-display\">\n              Message Template\n            </CardTitle>\n            <CardDescription className=\"font-sans\">\n              Copy this message to send to your UB friends\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"p-4 bg-zinc-800/50 rounded-lg\">\n              <p className=\"text-sm text-zinc-300 font-sans leading-relaxed\">\n                Hey! ðŸ‘‹ I just joined HIVE - the new social platform launching\n                exclusively at UB! It's designed specifically for college\n                students and looks amazing. Want to join the founding UB\n                community? Check it out: {inviteLink}\n              </p>\n            </div>\n            <Button\n              onClick={() =>\n                navigator.clipboard.writeText(\n                  `Hey! ðŸ‘‹ I just joined HIVE - the new social platform launching exclusively at UB! It's designed specifically for college students and looks amazing. Want to join the founding UB community? Check it out: ${inviteLink}`\n                )\n              }\n              size=\"lg\"\n              className=\"w-full mt-4 bg-zinc-700 hover:bg-zinc-600 text-white font-sans\"\n            >\n              <MessageSquare className=\"w-4 h-4 mr-2\" />\n              Copy Message\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Help Section */}\n        <Card className=\"bg-zinc-900/30 border-zinc-800\">\n          <CardContent className=\"pt-6\">\n            <h3 className=\"font-semibold mb-4 font-display\">\n              Why Invite Friends?\n            </h3>\n            <div className=\"space-y-3 text-sm text-zinc-400 font-sans\">\n              <div>\n                <strong className=\"text-white\">Build the Community:</strong>\n                <p>\n                  HIVE is better with more UB students! Help us create an\n                  amazing social platform that truly represents our campus.\n                </p>\n              </div>\n              <div>\n                <strong className=\"text-white\">Shape the Platform:</strong>\n                <p>\n                  As founding members, you and your friends will help influence\n                  how HIVE develops and what features we prioritize.\n                </p>\n              </div>\n              <div>\n                <strong className=\"text-white\">Exclusive Access:</strong>\n                <p>\n                  HIVE is launching exclusively at UB first. Your friends\n                  won&apos;t be able to join from anywhere else!\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\spaces\\[spaceId]\\components\\create-post.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":55,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":55,"endColumn":20,"suggestions":[{"fix":{"range":[1371,1416],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@hive/ui\";\r\nimport { Card, CardContent } from \"@hive/ui\";\r\nimport { Textarea } from \"@hive/ui\";\r\nimport { Loader2, Send } from \"lucide-react\";\r\n\r\ninterface Post {\r\n  id: string;\r\n  content: string;\r\n  type: string;\r\n  createdAt: string;\r\n  author: {\r\n    id: string;\r\n    handle: string;\r\n    fullName: string;\r\n  };\r\n}\r\n\r\ninterface CreatePostProps {\r\n  spaceId: string;\r\n  onPostCreated: (_post: Post) => void;\r\n}\r\n\r\nexport function CreatePost({ spaceId, onPostCreated }: CreatePostProps) {\r\n  const [content, setContent] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!content.trim() || isSubmitting) return;\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const response = await fetch(`/api/spaces/${spaceId}/posts`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          content: content.trim(),\r\n          type: \"text\",\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to create post\");\r\n      }\r\n\r\n      const newPost = (await response.json()) as Post;\r\n      onPostCreated(newPost);\r\n      setContent(\"\");\r\n    } catch (error) {\r\n      console.error(\"Error creating post:\", error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"bg-zinc-900 border-zinc-800\">\r\n      <CardContent className=\"p-4\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <Textarea\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            placeholder=\"What's happening in this space?\"\r\n            className=\"min-h-[100px] bg-zinc-800 border-zinc-700 text-white placeholder:text-zinc-500 resize-none\"\r\n            disabled={isSubmitting}\r\n          />\r\n          <div className=\"flex justify-end\">\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={!content.trim() || isSubmitting}\r\n              className=\"bg-yellow-500 hover:bg-yellow-600 text-black font-medium\"\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                  Posting...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Send className=\"w-4 h-4 mr-2\" />\r\n                  Post\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\spaces\\[spaceId]\\components\\feed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\spaces\\[spaceId]\\components\\space-action-button.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":23,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":23,"endColumn":16,"suggestions":[{"fix":{"range":[714,775],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":66,"column":16,"nodeType":"MemberExpression","messageId":"unexpected","endLine":66,"endColumn":29},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":69,"column":16,"nodeType":"MemberExpression","messageId":"unexpected","endLine":69,"endColumn":29},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":72,"column":16,"nodeType":"MemberExpression","messageId":"unexpected","endLine":72,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Button } from \"@hive/ui\";\nimport { type MemberRole } from \"@hive/core\";\nimport { useAuth } from \"@hive/auth-logic\";\nimport { Loader2, CheckCircle, LogOut, Crown } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ninterface MembershipStatus {\n  isMember: boolean;\n  role: MemberRole | null;\n}\n\nfunction fetchMembershipStatus(\n  spaceId: string,\n  userId: string\n): Promise<MembershipStatus> {\n  try {\n    // For now, we'll assume users are auto-joined to spaces\n    // In a real implementation, we'd check the user's membership in the space\n    // This is a placeholder that always returns member status\n    console.log(\"Checking membership for:\", { spaceId, userId });\n    return Promise.resolve({\n      isMember: true, // Placeholder - in vBETA users are auto-joined\n      role: \"member\" as MemberRole,\n    });\n  } catch {\n    return Promise.resolve({ isMember: false, role: null });\n  }\n}\n\n// Note: joinSpace function removed since users are auto-joined in vBETA\n// TODO: Re-implement when manual joining is needed\n\nasync function leaveSpace(spaceId: string): Promise<void> {\n  const response = await fetch(`/api/spaces/leave`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ spaceId }),\n  });\n\n  if (!response.ok) {\n    const error = (await response.json()) as { error?: string };\n    throw new Error(error.error || \"Failed to leave space\");\n  }\n}\n\nexport function SpaceActionButton({ spaceId }: { spaceId: string }) {\n  const { user, isLoading: authLoading } = useAuth();\n  const queryClient = useQueryClient();\n\n  const { data: membership, isLoading: membershipLoading } =\n    useQuery<MembershipStatus>({\n      queryKey: [\"membership\", spaceId, user?.uid],\n      queryFn: () => fetchMembershipStatus(spaceId, user?.uid || \"\"),\n      enabled: !!user && !!spaceId,\n    });\n\n  const leaveMutation = useMutation({\n    mutationFn: () => leaveSpace(spaceId),\n    onSuccess: () => {\n      toast.success(\"You have left the space.\");\n      void queryClient\n        .invalidateQueries({ queryKey: [\"membership\", spaceId] })\n        .catch(console.error);\n      void queryClient\n        .invalidateQueries({ queryKey: [\"space\", spaceId] })\n        .catch(console.error);\n      void queryClient\n        .invalidateQueries({ queryKey: [\"spaces\"] })\n        .catch(console.error);\n    },\n    onError: (error: Error) => {\n      toast.error(error.message || \"Failed to leave space. Please try again.\");\n    },\n  });\n\n  // Show loading state while auth or membership is loading\n  if (authLoading || membershipLoading) {\n    return (\n      <Button disabled className=\"min-w-[140px]\">\n        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n        Loading...\n      </Button>\n    );\n  }\n\n  // Not authenticated\n  if (!user) {\n    return (\n      <Button disabled variant=\"outline\" className=\"min-w-[140px]\">\n        Sign in to join\n      </Button>\n    );\n  }\n\n  // For vBETA: Manual join/leave is disabled, but we show the UI\n  // In practice, users are auto-joined to spaces based on their profile\n  if (!membership?.isMember) {\n    return (\n      <Button disabled className=\"min-w-[140px]\" variant=\"outline\">\n        Auto-joined only\n      </Button>\n    );\n  }\n\n  // Member - show role-based status and leave option\n  switch (membership.role) {\n    case \"builder\":\n      return (\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-yellow-400/10 border border-yellow-400/20\">\n            <Crown className=\"h-4 w-4 text-yellow-400\" />\n            <span className=\"text-sm font-medium text-yellow-400\">Builder</span>\n          </div>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => {\n              leaveMutation.mutate();\n            }}\n            disabled={leaveMutation.isPending}\n            className=\"text-red-400 border-red-400/20 hover:bg-red-400/10\"\n          >\n            {leaveMutation.isPending ? (\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n            ) : (\n              <LogOut className=\"mr-2 h-4 w-4\" />\n            )}\n            {leaveMutation.isPending ? \"Leaving...\" : \"Leave\"}\n          </Button>\n        </div>\n      );\n\n    case \"member\":\n    default:\n      return (\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10\">\n            <CheckCircle className=\"h-4 w-4 text-green-400\" />\n            <span className=\"text-sm font-medium text-white\">Member</span>\n          </div>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => {\n              leaveMutation.mutate();\n            }}\n            disabled={leaveMutation.isPending}\n            className=\"text-red-400 border-red-400/20 hover:bg-red-400/10\"\n          >\n            {leaveMutation.isPending ? (\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n            ) : (\n              <LogOut className=\"mr-2 h-4 w-4\" />\n            )}\n            {leaveMutation.isPending ? \"Leaving...\" : \"Leave\"}\n          </Button>\n        </div>\n      );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\spaces\\[spaceId]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\spaces\\components\\feed-overlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\spaces\\components\\space-filter-pills.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\spaces\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\waitlist\\[schoolId]\\components\\waitlist-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\waitlist\\[schoolId]\\components\\waitlist-progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\waitlist\\[schoolId]\\page.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":29,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":29,"endColumn":18,"suggestions":[{"fix":{"range":[798,845],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { notFound } from \"next/navigation\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@hive/ui\";\r\nimport { getFirestore } from \"firebase-admin/firestore\";\r\nimport type { School } from \"@hive/core\";\r\nimport { WaitlistProgress } from \"./components/waitlist-progress\";\r\nimport { WaitlistForm } from \"./components/waitlist-form\";\r\n\r\ntype WaitlistPageProps = {\r\n  params: Promise<{\r\n    schoolId: string;\r\n  }>;\r\n};\r\n\r\nasync function getSchool(schoolId: string): Promise<School | null> {\r\n  try {\r\n    const db = getFirestore();\r\n    const schoolDoc = await db.collection(\"schools\").doc(schoolId).get();\r\n    if (!schoolDoc.exists) {\r\n      return null;\r\n    }\r\n    return { id: schoolDoc.id, ...schoolDoc.data() } as School;\r\n  } catch (error) {\r\n    console.error(\"Failed to fetch school\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default async function WaitlistPage({ params }: WaitlistPageProps) {\r\n  const { schoolId } = await params;\r\n  const school = await getSchool(schoolId);\r\n\r\n  if (!school) {\r\n    notFound();\r\n  }\r\n\r\n  // UB-only launch validation\r\n  if (schoolId !== \"suny-buffalo\") {\r\n    notFound();\r\n  }\r\n\r\n  return (\r\n    <main className=\"flex min-h-screen flex-col items-center justify-center bg-[#0A0A0A] p-4 sm:p-24\">\r\n      <Card className=\"w-full max-w-md bg-zinc-900/95 border-zinc-800\">\r\n        <CardHeader className=\"text-center\">\r\n          <CardTitle className=\"text-2xl text-white font-display\">\r\n            {school.name}\r\n          </CardTitle>\r\n          <CardDescription className=\"text-zinc-400 font-sans\">\r\n            Join the founding UB community on HIVE!\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"flex w-full flex-col items-center gap-4\">\r\n          <WaitlistProgress currentCount={school.waitlistCount} />\r\n          <WaitlistForm\r\n            schoolDomain={school.domain}\r\n            schoolId={school.id}\r\n            schoolName={school.name}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\welcome\\components\\school-search.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\app\\welcome\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\components\\layout\\AppLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\components\\layout\\page-wrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\components\\onboarding\\steps.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Select' is defined but never used. Allowed unused vars must match /^_/u.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'SelectContent' is defined but never used. Allowed unused vars must match /^_/u.","line":14,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'SelectItem' is defined but never used. Allowed unused vars must match /^_/u.","line":15,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'SelectTrigger' is defined but never used. Allowed unused vars must match /^_/u.","line":16,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'SelectValue' is defined but never used. Allowed unused vars must match /^_/u.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Checkbox' is defined but never used. Allowed unused vars must match /^_/u.","line":18,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":11},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":106,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":106,"endColumn":18,"suggestions":[{"fix":{"range":[3017,3062],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":109,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":109,"endColumn":20,"suggestions":[{"fix":{"range":[3135,3187],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":196,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":196,"endColumn":18,"suggestions":[{"fix":{"range":[6159,6204],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":203,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":203,"endColumn":20,"suggestions":[{"fix":{"range":[6370,6423],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":281,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":281,"endColumn":18,"suggestions":[{"fix":{"range":[9083,9151],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":288,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":288,"endColumn":20,"suggestions":[{"fix":{"range":[9324,9375],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"react/prop-types","severity":2,"message":"'_onPrev' is missing in props validation","line":362,"column":66,"nodeType":"Property","messageId":"missingPropType","endLine":362,"endColumn":73},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":394,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":394,"endColumn":18,"suggestions":[{"fix":{"range":[12895,12938],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":396,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":396,"endColumn":20,"suggestions":[{"fix":{"range":[12967,13020],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":410,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":410,"endColumn":18,"suggestions":[{"fix":{"range":[13497,13561],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":412,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":412,"endColumn":20,"suggestions":[{"fix":{"range":[13590,13636],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":418,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":418,"endColumn":16,"suggestions":[{"fix":{"range":[13701,13743],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'onPrev' is defined but never used. Allowed unused args must match /^_/u.","line":430,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":430,"endColumn":68},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":436,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":436,"endColumn":18,"suggestions":[{"fix":{"range":[14199,14243],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":438,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":438,"endColumn":20,"suggestions":[{"fix":{"range":[14272,14321],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":444,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":444,"endColumn":16,"suggestions":[{"fix":{"range":[14386,14434],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  Input,\n  Label,\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n  Checkbox,\n  // Import the new design system components\n  AcademicCardStep as UIAcademicCardStep,\n  AvatarUploadStep as UIAvatarUploadStep,\n  InterestsStep as UIInterestsStep,\n  OnboardingCompleteStep as UIOnboardingCompleteStep,\n} from \"@hive/ui\";\nimport { Loader2 } from \"lucide-react\";\nimport { debounce } from \"lodash\";\nimport { User } from \"firebase/auth\";\n\n// A utility to generate a handle from a name\nconst generateHandle = (name: string) => {\n  return name\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, \"\") // remove special characters\n    .trim()\n    .replace(/\\s+/g, \"-\"); // replace spaces with hyphens\n};\n\ninterface StepProps {\n  user: User;\n  onNext: (nextStep?: number) => void;\n  onPrev?: () => void;\n}\n\nexport const DisplayNameStep: React.FC<StepProps> = ({\n  user,\n  onNext,\n  onPrev,\n}) => {\n  const [fullName, setFullName] = useState(\"\");\n  const [handle, setHandle] = useState(\"\");\n  const [isCheckingHandle, setIsCheckingHandle] = useState(false);\n  const [handleError, setHandleError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Prefill from email\n  useEffect(() => {\n    if (user?.email) {\n      const nameFromEmail = user.email\n        .split(\"@\")[0]\n        .replace(/[._0-9]/g, \" \")\n        .replace(/\\s+/g, \" \");\n      const capitalized = nameFromEmail\n        .split(\" \")\n        .map((n) => n.charAt(0).toUpperCase() + n.slice(1))\n        .join(\" \");\n      setFullName(capitalized);\n      setHandle(generateHandle(capitalized));\n    }\n  }, [user]);\n\n  // Create a debounced function for handle checking\n  const debouncedCheck = useCallback(\n    debounce(async (h: string) => {\n      if (h.length < 3) {\n        setHandleError(\"Handle must be at least 3 characters.\");\n        setIsCheckingHandle(false);\n        return;\n      }\n      setIsCheckingHandle(true);\n      // const functions = getFunctions();\n      // const checkHandle = httpsCallable(functions, 'checkHandleUniqueness');\n      // const { data } = await checkHandle({ handle: h });\n      // const isAvailable = (data as any).available;\n      const isAvailable = ![\"admin\", \"test\", \"root\"].includes(h); // Mocking\n      setHandleError(isAvailable ? null : \"This handle is already taken.\");\n      setIsCheckingHandle(false);\n    }, 500),\n    []\n  );\n\n  useEffect(() => {\n    if (handle) {\n      void debouncedCheck(handle);\n    }\n  }, [handle, debouncedCheck]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (handleError || isCheckingHandle) return;\n\n    setIsLoading(true);\n    try {\n      // const functions = getFunctions();\n      // const saveDisplayName = httpsCallable(functions, 'onboardingSaveDisplayName');\n      // await saveDisplayName({ fullName, handle });\n      console.log(\"Saving:\", { fullName, handle });\n      onNext(); // Proceed to the next step\n    } catch (error) {\n      console.error(\"Failed to save display name\", error);\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\n      <CardHeader>\n        <CardTitle className=\"text-white\">Welcome to HIVE</CardTitle>\n        <CardDescription className=\"text-zinc-400\">\n          Let&apos;s set up your profile. How should we address you?\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"fullName\" className=\"text-zinc-300\">\n              Full Name\n            </Label>\n            <Input\n              id=\"fullName\"\n              value={fullName}\n              onChange={(e) => {\n                setFullName(e.target.value);\n                setHandle(generateHandle(e.target.value));\n              }}\n              className=\"bg-zinc-800 border-zinc-700\"\n              required\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"handle\" className=\"text-zinc-300\">\n              Username (@handle)\n            </Label>\n            <div className=\"relative\">\n              <Input\n                id=\"handle\"\n                value={handle}\n                onChange={(e) => setHandle(e.target.value)}\n                className=\"bg-zinc-800 border-zinc-700 pl-8\"\n                required\n              />\n              <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\">\n                @\n              </span>\n              {isCheckingHandle && (\n                <Loader2 className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin\" />\n              )}\n            </div>\n            {handleError && (\n              <p className=\"text-xs text-red-500 pt-1\">{handleError}</p>\n            )}\n          </div>\n          <div className=\"flex gap-2\">\n            {onPrev && (\n              <Button type=\"button\" variant=\"outline\" onClick={onPrev}>\n                Back\n              </Button>\n            )}\n            <Button\n              type=\"submit\"\n              className=\"w-full bg-yellow-500 text-black hover:bg-yellow-600\"\n              disabled={!!handleError || isCheckingHandle || isLoading}\n            >\n              {isLoading ? (\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n              ) : null}\n              Continue\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport const LeaderQuestionStep: React.FC<StepProps> = ({ onNext, onPrev }) => {\n  const [choice, setChoice] = useState<boolean | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async () => {\n    if (choice === null) return;\n    setIsLoading(true);\n    try {\n      // const functions = getFunctions();\n      // const saveLeaderChoice = httpsCallable(functions, 'onboardingSaveLeaderChoice');\n      // await saveLeaderChoice({ isLeaderCandidate: choice });\n      console.log(\"Saving leader choice:\", choice);\n      if (choice) {\n        onNext(3); // Go to Claim Space step\n      } else {\n        onNext(4); // Skip to Academic Card step\n      }\n    } catch (error) {\n      console.error(\"Failed to save leader choice\", error);\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\n      <CardHeader>\n        <CardTitle className=\"text-white\">Are you a student leader?</CardTitle>\n        <CardDescription className=\"text-zinc-400\">\n          Student leaders, club presidents, and event organizers get special\n          tools on HIVE to manage their communities.\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div className=\"flex gap-4\">\n          <Button\n            onClick={() => setChoice(true)}\n            variant={choice === true ? \"default\" : \"outline\"}\n            className={`w-full h-24 text-lg ${choice === true ? \"bg-yellow-500 text-black border-yellow-500\" : \"border-zinc-700\"}`}\n          >\n            Yes, I am\n          </Button>\n          <Button\n            onClick={() => setChoice(false)}\n            variant={choice === false ? \"default\" : \"outline\"}\n            className={`w-full h-24 text-lg ${choice === false ? \"bg-yellow-500 text-black border-yellow-500\" : \"border-zinc-700\"}`}\n          >\n            No, not right now\n          </Button>\n        </div>\n        <div className=\"flex gap-2\">\n          {onPrev && (\n            <Button type=\"button\" variant=\"outline\" onClick={onPrev}>\n              Back\n            </Button>\n          )}\n          <Button\n            onClick={handleSubmit}\n            className=\"w-full bg-zinc-700 text-white hover:bg-zinc-600\"\n            disabled={choice === null || isLoading}\n          >\n            {isLoading ? (\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n            ) : null}\n            Continue\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport const ClaimSpaceStep: React.FC<StepProps> = ({ onNext, onPrev }) => {\n  const [spaceName, setSpaceName] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Mock search results\n  const mockSpaces = [\n    \"Computer Science Association\",\n    \"Gaming Club\",\n    \"Art Society\",\n  ];\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const filteredSpaces = mockSpaces.filter((s) =>\n    s.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!spaceName) return;\n    setIsLoading(true);\n    try {\n      // const functions = getFunctions();\n      // const claimSpace = httpsCallable(functions, 'onboardingClaimSpace');\n      // const { data } = await claimSpace({ spaceName });\n      // const { verificationRequired } = data as any;\n      const verificationRequired = true; // Mocking\n      console.log(\"Claiming space:\", { spaceName, verificationRequired });\n      if (verificationRequired) {\n        onNext(3.5); // Go to pending notice\n      } else {\n        onNext(4); // Go to academic card\n      }\n    } catch (error) {\n      console.error(\"Failed to save space claim\", error);\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\n      <CardHeader>\n        <CardTitle className=\"text-white\">Claim Your Space</CardTitle>\n        <CardDescription className=\"text-zinc-400\">\n          If you lead a club or organization, claim its Space on HIVE now.\n          You&apos;ll get tools to manage members, post events, and more.\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"search\" className=\"text-zinc-300\">\n            Search for existing spaces\n          </Label>\n          <Input\n            id=\"search\"\n            placeholder=\"e.g. 'Engineering Student Society'\"\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"bg-zinc-800 border-zinc-700\"\n          />\n          <div className=\"pt-2 space-y-2\">\n            {filteredSpaces.map((space) => (\n              <div\n                key={space}\n                className=\"p-3 bg-zinc-800 rounded-md text-white text-sm\"\n              >\n                {space}\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"text-center text-zinc-500 text-sm\">or</div>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"new-space\" className=\"text-zinc-300\">\n              Request a new space\n            </Label>\n            <Input\n              id=\"new-space\"\n              value={spaceName}\n              onChange={(e) => setSpaceName(e.target.value)}\n              className=\"bg-zinc-800 border-zinc-700\"\n              placeholder=\"Your Organization Name\"\n              required\n            />\n          </div>\n          <div className=\"flex gap-2\">\n            {onPrev && (\n              <Button type=\"button\" variant=\"outline\" onClick={onPrev}>\n                Back\n              </Button>\n            )}\n            <Button\n              type=\"submit\"\n              className=\"w-full bg-yellow-500 text-black hover:bg-yellow-600\"\n              disabled={!spaceName || isLoading}\n            >\n              {isLoading ? (\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n              ) : null}\n              Request Space\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport const PendingNoticeStep: React.FC<StepProps> = ({ onNext, _onPrev }) => {\n  return (\n    <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\n      <CardHeader>\n        <CardTitle className=\"text-white\">Verification Pending</CardTitle>\n        <CardDescription className=\"text-zinc-400\">\n          Our team will review your request to claim this Space. You&apos;ll be\n          notified once it&apos;s approved.\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <Button\n          onClick={() => onNext(4)}\n          className=\"w-full bg-yellow-500 text-black hover:bg-yellow-600\"\n        >\n          Continue Onboarding\n        </Button>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport const AcademicCardStep: React.FC<StepProps> = ({ onNext }) => {\n  const handleSubmit = async (data: {\n    majorId: string;\n    graduationYear: string;\n    isFirstYear: boolean;\n  }) => {\n    try {\n      // const functions = getFunctions();\n      // const saveAcademicInfo = httpsCallable(functions, 'onboardingSaveAcademicInfo');\n      // await saveAcademicInfo(data);\n      console.log(\"Saving academic info:\", data);\n    } catch (error) {\n      console.error(\"Failed to save academic info\", error);\n      throw error; // Re-throw to let UI component handle loading state\n    }\n  };\n\n  return <UIAcademicCardStep onNext={onNext} onSubmit={handleSubmit} />;\n};\n\nexport const AvatarUploadStep: React.FC<StepProps> = ({ onNext }) => {\n  const handleSubmit = async (file: File | null) => {\n    try {\n      // const functions = getFunctions();\n      // const saveAvatar = httpsCallable(functions, 'onboardingSaveAvatar');\n      // await saveAvatar({ imageUrl: 'some-url' });\n      console.log(\"Saving avatar:\", file?.name || \"No file selected\");\n    } catch (error) {\n      console.error(\"Failed to save avatar\", error);\n      throw error;\n    }\n  };\n\n  const handleSkip = () => {\n    console.log(\"User skipped avatar upload\");\n  };\n\n  return (\n    <UIAvatarUploadStep\n      onNext={onNext}\n      onSubmit={handleSubmit}\n      onSkip={handleSkip}\n    />\n  );\n};\n\nexport const InterestsStep: React.FC<StepProps> = ({ onNext, onPrev }) => {\n  const handleSubmit = async (interests: string[]) => {\n    try {\n      // const functions = getFunctions();\n      // const saveInterests = httpsCallable(functions, 'onboardingSaveInterests');\n      // await saveInterests({ interests });\n      console.log(\"Saving interests:\", interests);\n    } catch (error) {\n      console.error(\"Failed to save interests\", error);\n      throw error;\n    }\n  };\n\n  const handleSkip = () => {\n    console.log(\"User skipped interests selection\");\n  };\n\n  return (\n    <UIInterestsStep\n      onNext={onNext}\n      onSubmit={handleSubmit}\n      onSkip={handleSkip}\n      maxInterests={6}\n    />\n  );\n};\n\nexport const OnboardingCompleteStep: React.FC<StepProps> = ({\n  onNext,\n  user,\n}) => {\n  // Extract user display name from email or user data\n  const userDisplayName = user?.email?.split(\"@\")[0] || \"there\";\n\n  return (\n    <UIOnboardingCompleteStep\n      onNext={onNext}\n      autoRedirectDelay={3000}\n      showRedirectButton={false}\n      userDisplayName={userDisplayName}\n    />\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\components\\welcome-mat-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\hooks\\useMediaQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\test\\e2e\\waitlist.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\src\\test\\setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\test\\e2e\\onboarding-errors.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\test\\e2e\\onboarding-flow.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\test\\e2e\\space-feed-errors.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\test\\e2e\\space-feed-flow.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\test\\e2e\\tool-builder-errors.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\apps\\web\\test\\e2e\\tool-builder-flow.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\firebase\\tests\\firestore-posts-security.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\firebase\\tests\\firestore-rules.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\firebase\\tests\\firestore-security.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'addDoc' is defined but never used. Allowed unused vars must match /^_/u.","line":20,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'query' is defined but never used. Allowed unused vars must match /^_/u.","line":21,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'where' is defined but never used. Allowed unused vars must match /^_/u.","line":22,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":8}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Firestore Security Rules Test Suite for HIVE Spaces System\r\n *\r\n * This test suite validates that our Firestore security rules correctly\r\n * enforce the intended access patterns for the HIVE platform.\r\n */\r\n\r\nimport {\r\n  assertFails,\r\n  assertSucceeds,\r\n  initializeTestEnvironment,\r\n  RulesTestEnvironment,\r\n} from \"@firebase/rules-unit-testing\";\r\nimport {\r\n  doc,\r\n  setDoc,\r\n  getDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  addDoc,\r\n  query,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport { readFileSync } from \"fs\";\r\nimport { join } from \"path\";\r\n\r\nlet testEnv: RulesTestEnvironment;\r\nconst PROJECT_ID = \"hive-test-project\";\r\n\r\nbeforeAll(async () => {\r\n  testEnv = await initializeTestEnvironment({\r\n    projectId: PROJECT_ID,\r\n    firestore: {\r\n      rules: readFileSync(join(__dirname, \"../firestore.rules\"), \"utf8\"),\r\n    },\r\n  });\r\n});\r\n\r\nafterAll(async () => {\r\n  await testEnv.cleanup();\r\n});\r\n\r\nbeforeEach(async () => {\r\n  await testEnv.clearFirestore();\r\n});\r\n\r\n// Helper functions\r\nconst authenticatedContext = (uid: string) => testEnv.authenticatedContext(uid);\r\nconst unauthenticatedContext = () => testEnv.unauthenticatedContext();\r\n\r\nconst createTestSpace = async (spaceId: string) => {\r\n  await testEnv.withSecurityRulesDisabled(async (context) => {\r\n    await setDoc(doc(context.firestore(), \"spaces\", spaceId), {\r\n      name: \"Test Space\",\r\n      name_lowercase: \"test space\",\r\n      description: \"A test space for unit testing\",\r\n      memberCount: 2,\r\n      type: \"interest\",\r\n      tags: [{ type: \"interest\", sub_type: \"testing\" }],\r\n      status: \"activated\",\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    });\r\n  });\r\n};\r\n\r\nconst createTestMember = async (\r\n  spaceId: string,\r\n  userId: string,\r\n  role: \"member\" | \"builder\" | \"requested_builder\"\r\n) => {\r\n  await testEnv.withSecurityRulesDisabled(async (context) => {\r\n    await setDoc(\r\n      doc(context.firestore(), \"spaces\", spaceId, \"members\", userId),\r\n      {\r\n        uid: userId,\r\n        role: role,\r\n        joinedAt: new Date(),\r\n      }\r\n    );\r\n  });\r\n};\r\n\r\ndescribe(\"Spaces Security Rules\", () => {\r\n  describe(\"Space Discovery\", () => {\r\n    test(\"authenticated users can read space data\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertSucceeds(getDoc(doc(alice.firestore(), \"spaces\", \"space1\")));\r\n    });\r\n\r\n    test(\"unauthenticated users cannot read space data\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      const unauth = unauthenticatedContext();\r\n      await assertFails(getDoc(doc(unauth.firestore(), \"spaces\", \"space1\")));\r\n    });\r\n  });\r\n\r\n  describe(\"Space Updates\", () => {\r\n    test(\"builders can update allowed fields\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"builder\");\r\n\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertSucceeds(\r\n        updateDoc(doc(alice.firestore(), \"spaces\", \"space1\"), {\r\n          description: \"Updated description\",\r\n          bannerUrl: \"https://example.com/banner.jpg\",\r\n        })\r\n      );\r\n    });\r\n\r\n    test(\"builders cannot update restricted fields\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"builder\");\r\n\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertFails(\r\n        updateDoc(doc(alice.firestore(), \"spaces\", \"space1\"), {\r\n          name: \"Hacked Name\",\r\n          memberCount: 9999,\r\n        })\r\n      );\r\n    });\r\n\r\n    test(\"non-builders cannot update spaces\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"bob\", \"member\");\r\n\r\n      const bob = authenticatedContext(\"bob\");\r\n      await assertFails(\r\n        updateDoc(doc(bob.firestore(), \"spaces\", \"space1\"), {\r\n          description: \"Updated description\",\r\n        })\r\n      );\r\n    });\r\n  });\r\n\r\n  describe(\"Member Management\", () => {\r\n    test(\"authenticated users can read member lists\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n\r\n      const bob = authenticatedContext(\"bob\");\r\n      await assertSucceeds(\r\n        getDoc(doc(bob.firestore(), \"spaces\", \"space1\", \"members\", \"alice\"))\r\n      );\r\n    });\r\n\r\n    test(\"users can leave spaces by deleting their membership\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertSucceeds(\r\n        deleteDoc(\r\n          doc(alice.firestore(), \"spaces\", \"space1\", \"members\", \"alice\")\r\n        )\r\n      );\r\n    });\r\n\r\n    test(\"members can request builder role\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertSucceeds(\r\n        updateDoc(\r\n          doc(alice.firestore(), \"spaces\", \"space1\", \"members\", \"alice\"),\r\n          {\r\n            role: \"requested_builder\",\r\n          }\r\n        )\r\n      );\r\n    });\r\n\r\n    test(\"members cannot directly become builders\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertFails(\r\n        updateDoc(\r\n          doc(alice.firestore(), \"spaces\", \"space1\", \"members\", \"alice\"),\r\n          {\r\n            role: \"builder\",\r\n          }\r\n        )\r\n      );\r\n    });\r\n  });\r\n\r\n  describe(\"Posts Management\", () => {\r\n    test(\"space members can read posts\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n\r\n      await testEnv.withSecurityRulesDisabled(async (context) => {\r\n        await setDoc(\r\n          doc(context.firestore(), \"spaces\", \"space1\", \"posts\", \"post1\"),\r\n          {\r\n            authorId: \"alice\",\r\n            content: \"Test post content\",\r\n            createdAt: new Date(),\r\n          }\r\n        );\r\n      });\r\n\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertSucceeds(\r\n        getDoc(doc(alice.firestore(), \"spaces\", \"space1\", \"posts\", \"post1\"))\r\n      );\r\n    });\r\n\r\n    test(\"non-members cannot read posts\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n\r\n      await testEnv.withSecurityRulesDisabled(async (context) => {\r\n        await setDoc(\r\n          doc(context.firestore(), \"spaces\", \"space1\", \"posts\", \"post1\"),\r\n          {\r\n            authorId: \"alice\",\r\n            content: \"Test post content\",\r\n            createdAt: new Date(),\r\n          }\r\n        );\r\n      });\r\n\r\n      const bob = authenticatedContext(\"bob\");\r\n      await assertFails(\r\n        getDoc(doc(bob.firestore(), \"spaces\", \"space1\", \"posts\", \"post1\"))\r\n      );\r\n    });\r\n\r\n    test(\"space members can create posts\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n\r\n      const alice = authenticatedContext(\"alice\");\r\n      await assertSucceeds(\r\n        setDoc(\r\n          doc(alice.firestore(), \"spaces\", \"space1\", \"posts\", \"new-post\"),\r\n          {\r\n            authorId: \"alice\",\r\n            content: \"New post content\",\r\n            createdAt: new Date(),\r\n          }\r\n        )\r\n      );\r\n    });\r\n\r\n    test(\"builders can delete any posts in their space\", async () => {\r\n      await createTestSpace(\"space1\");\r\n      await createTestMember(\"space1\", \"alice\", \"member\");\r\n      await createTestMember(\"space1\", \"bob\", \"builder\");\r\n\r\n      await testEnv.withSecurityRulesDisabled(async (context) => {\r\n        await setDoc(\r\n          doc(context.firestore(), \"spaces\", \"space1\", \"posts\", \"post1\"),\r\n          {\r\n            authorId: \"alice\",\r\n            content: \"Test post content\",\r\n            createdAt: new Date(),\r\n          }\r\n        );\r\n      });\r\n\r\n      const bob = authenticatedContext(\"bob\");\r\n      await assertSucceeds(\r\n        deleteDoc(doc(bob.firestore(), \"spaces\", \"space1\", \"posts\", \"post1\"))\r\n      );\r\n    });\r\n  });\r\n});\r\n\r\ndescribe(\"Schools Security Rules\", () => {\r\n  test(\"anyone can read schools collection\", async () => {\r\n    await testEnv.withSecurityRulesDisabled(async (context) => {\r\n      await setDoc(doc(context.firestore(), \"schools\", \"school1\"), {\r\n        name: \"University at Buffalo\",\r\n        domain: \"buffalo.edu\",\r\n        status: \"active\",\r\n        waitlistCount: 0,\r\n      });\r\n    });\r\n\r\n    const unauth = unauthenticatedContext();\r\n    await assertSucceeds(getDoc(doc(unauth.firestore(), \"schools\", \"school1\")));\r\n\r\n    const alice = authenticatedContext(\"alice\");\r\n    await assertSucceeds(getDoc(doc(alice.firestore(), \"schools\", \"school1\")));\r\n  });\r\n\r\n  test(\"waitlist entries are completely protected\", async () => {\r\n    await testEnv.withSecurityRulesDisabled(async (context) => {\r\n      await setDoc(\r\n        doc(\r\n          context.firestore(),\r\n          \"schools\",\r\n          \"school1\",\r\n          \"waitlist_entries\",\r\n          \"entry1\"\r\n        ),\r\n        {\r\n          email: \"test@buffalo.edu\",\r\n          joinedAt: new Date(),\r\n        }\r\n      );\r\n    });\r\n\r\n    const alice = authenticatedContext(\"alice\");\r\n    await assertFails(\r\n      getDoc(\r\n        doc(\r\n          alice.firestore(),\r\n          \"schools\",\r\n          \"school1\",\r\n          \"waitlist_entries\",\r\n          \"entry1\"\r\n        )\r\n      )\r\n    );\r\n    await assertFails(\r\n      setDoc(\r\n        doc(\r\n          alice.firestore(),\r\n          \"schools\",\r\n          \"school1\",\r\n          \"waitlist_entries\",\r\n          \"entry2\"\r\n        ),\r\n        {\r\n          email: \"alice@buffalo.edu\",\r\n          joinedAt: new Date(),\r\n        }\r\n      )\r\n    );\r\n  });\r\n});\r\n\r\ndescribe(\"User Management Rules\", () => {\r\n  test(\"users can read and write their own data\", async () => {\r\n    const alice = authenticatedContext(\"alice\");\r\n\r\n    await assertSucceeds(\r\n      setDoc(doc(alice.firestore(), \"users\", \"alice\"), {\r\n        schoolId: \"school1\",\r\n        email: \"alice@buffalo.edu\",\r\n        createdAt: new Date(),\r\n      })\r\n    );\r\n\r\n    await assertSucceeds(getDoc(doc(alice.firestore(), \"users\", \"alice\")));\r\n  });\r\n\r\n  test(\"users must provide schoolId when creating account\", async () => {\r\n    const alice = authenticatedContext(\"alice\");\r\n\r\n    await assertFails(\r\n      setDoc(doc(alice.firestore(), \"users\", \"alice\"), {\r\n        email: \"alice@buffalo.edu\",\r\n        // Missing schoolId\r\n      })\r\n    );\r\n  });\r\n\r\n  test(\"users cannot change their schoolId after creation\", async () => {\r\n    await testEnv.withSecurityRulesDisabled(async (context) => {\r\n      await setDoc(doc(context.firestore(), \"users\", \"alice\"), {\r\n        schoolId: \"school1\",\r\n        email: \"alice@buffalo.edu\",\r\n      });\r\n    });\r\n\r\n    const alice = authenticatedContext(\"alice\");\r\n    await assertFails(\r\n      updateDoc(doc(alice.firestore(), \"users\", \"alice\"), {\r\n        schoolId: \"school2\", // Cannot change school\r\n      })\r\n    );\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\firebase\\tests\\jest.setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\checkHandleUniqueness.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\joinWaitlist.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\onboardingClaimSpace.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":52,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":52,"endColumn":20,"suggestions":[{"fix":{"range":[1683,1737],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\r\nimport * as admin from \"firebase-admin\";\r\nimport { z } from \"zod\";\r\nimport { firestore } from \"../../lib/firebase-admin\";\r\nimport { CreateLeaderClaimSchema } from \"@hive/core\"; // Assuming this will be exported from core\r\n\r\nconst ClaimSpaceSchema = z.object({\r\n  requestedSpaceName: z\r\n    .string()\r\n    .min(3, \"Space name must be at least 3 characters\"),\r\n});\r\n\r\nexport const onboardingClaimSpace = functions.https.onCall(\r\n  async (data, context) => {\r\n    if (!context.auth) {\r\n      throw new functions.https.HttpsError(\r\n        \"unauthenticated\",\r\n        \"The function must be called while authenticated.\"\r\n      );\r\n    }\r\n\r\n    const { uid } = context.auth;\r\n\r\n    // Validate input\r\n    const validation = ClaimSpaceSchema.safeParse(data);\r\n    if (!validation.success) {\r\n      throw new functions.https.HttpsError(\r\n        \"invalid-argument\",\r\n        \"The function must be called with a valid requestedSpaceName.\",\r\n        validation.error.issues\r\n      );\r\n    }\r\n\r\n    const { requestedSpaceName } = validation.data;\r\n    const claimsRef = firestore.collection(\"leaderClaims\");\r\n\r\n    const newClaim: z.infer<typeof CreateLeaderClaimSchema> & {\r\n      userId: string;\r\n      createdAt: admin.firestore.FieldValue;\r\n      updatedAt: admin.firestore.FieldValue;\r\n    } = {\r\n      userId: uid,\r\n      requestedSpaceName,\r\n      createdAt: admin.firestore.FieldValue.serverTimestamp(),\r\n      updatedAt: admin.firestore.FieldValue.serverTimestamp(),\r\n    };\r\n\r\n    try {\r\n      await claimsRef.add(newClaim);\r\n      return { success: true, message: \"Space claim submitted for review.\" };\r\n    } catch (error) {\r\n      console.error(\"Error submitting space claim:\", error);\r\n      throw new functions.https.HttpsError(\r\n        \"internal\",\r\n        \"An unexpected error occurred while submitting the space claim.\"\r\n      );\r\n    }\r\n  }\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\onboardingComplete.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":20,"suggestions":[{"fix":{"range":[780,833],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\r\nimport * as admin from \"firebase-admin\";\r\nimport { firestore } from \"../../lib/firebase-admin\";\r\n\r\nexport const onboardingComplete = functions.https.onCall(\r\n  async (_data, context) => {\r\n    if (!context.auth) {\r\n      throw new functions.https.HttpsError(\r\n        \"unauthenticated\",\r\n        \"The function must be called while authenticated.\"\r\n      );\r\n    }\r\n\r\n    const { uid } = context.auth;\r\n    const userRef = firestore.collection(\"users\").doc(uid);\r\n\r\n    try {\r\n      await userRef.update({\r\n        onboardingCompleted: true,\r\n        updatedAt: admin.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n\r\n      return { success: true, message: \"Onboarding completed successfully.\" };\r\n    } catch (error) {\r\n      console.error(\"Error completing onboarding:\", error);\r\n      throw new functions.https.HttpsError(\r\n        \"internal\",\r\n        \"An unexpected error occurred while completing onboarding.\"\r\n      );\r\n    }\r\n  }\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\onboardingSaveAcademicInfo.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":46,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":46,"endColumn":20,"suggestions":[{"fix":{"range":[1424,1483],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\r\nimport * as admin from \"firebase-admin\";\r\nimport { z } from \"zod\";\r\nimport { firestore } from \"../../lib/firebase-admin\";\r\n\r\nconst SaveAcademicInfoSchema = z.object({\r\n  majorId: z.string().min(1, \"Major is required\"),\r\n  graduationYear: z.number().int().min(new Date().getFullYear()),\r\n  isFirstYear: z.boolean(),\r\n});\r\n\r\nexport const onboardingSaveAcademicInfo = functions.https.onCall(\r\n  async (data, context) => {\r\n    if (!context.auth) {\r\n      throw new functions.https.HttpsError(\r\n        \"unauthenticated\",\r\n        \"The function must be called while authenticated.\"\r\n      );\r\n    }\r\n\r\n    const { uid } = context.auth;\r\n\r\n    // Validate input\r\n    const validation = SaveAcademicInfoSchema.safeParse(data);\r\n    if (!validation.success) {\r\n      throw new functions.https.HttpsError(\r\n        \"invalid-argument\",\r\n        \"The function must be called with valid academic information.\",\r\n        validation.error.issues\r\n      );\r\n    }\r\n\r\n    const { majorId, graduationYear, isFirstYear } = validation.data;\r\n    const userRef = firestore.collection(\"users\").doc(uid);\r\n\r\n    try {\r\n      await userRef.update({\r\n        majorId,\r\n        graduationYear,\r\n        isFirstYear,\r\n        updatedAt: admin.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n\r\n      return { success: true, message: \"Academic information saved.\" };\r\n    } catch (error) {\r\n      console.error(\"Error saving academic information:\", error);\r\n      throw new functions.https.HttpsError(\r\n        \"internal\",\r\n        \"An unexpected error occurred while saving academic information.\"\r\n      );\r\n    }\r\n  }\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\onboardingSaveDisplayName.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":63,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":63,"endColumn":20,"suggestions":[{"fix":{"range":[2028,2079],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\r\nimport * as admin from \"firebase-admin\";\r\nimport { z } from \"zod\";\r\nimport { firestore } from \"../../lib/firebase-admin\";\r\n\r\nconst SaveDisplayNameSchema = z.object({\r\n  fullName: z.string().min(1, \"Display name cannot be empty\"),\r\n  handle: z.string().min(3, \"Handle must be at least 3 characters\"),\r\n});\r\n\r\nexport const onboardingSaveDisplayName = functions.https.onCall(\r\n  async (data, context) => {\r\n    if (!context.auth) {\r\n      throw new functions.https.HttpsError(\r\n        \"unauthenticated\",\r\n        \"The function must be called while authenticated.\"\r\n      );\r\n    }\r\n\r\n    const { uid } = context.auth;\r\n\r\n    // Validate input\r\n    const validation = SaveDisplayNameSchema.safeParse(data);\r\n    if (!validation.success) {\r\n      throw new functions.https.HttpsError(\r\n        \"invalid-argument\",\r\n        \"The function must be called with a valid displayName and handle.\",\r\n        validation.error.issues\r\n      );\r\n    }\r\n\r\n    const { fullName, handle } = validation.data;\r\n    const userRef = firestore.collection(\"users\").doc(uid);\r\n    const handleRef = firestore.collection(\"handles\").doc(handle);\r\n\r\n    try {\r\n      // Use a transaction to ensure atomicity\r\n      await firestore.runTransaction(async (transaction) => {\r\n        const handleDoc = await transaction.get(handleRef);\r\n        if (handleDoc.exists) {\r\n          throw new functions.https.HttpsError(\r\n            \"already-exists\",\r\n            \"This handle is already taken.\"\r\n          );\r\n        }\r\n\r\n        // Update user document\r\n        transaction.update(userRef, {\r\n          fullName,\r\n          handle,\r\n          updatedAt: admin.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n\r\n        // Reserve the handle\r\n        transaction.set(handleRef, {\r\n          userId: uid,\r\n          reservedAt: admin.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n      });\r\n\r\n      return { success: true, message: \"Display name and handle saved.\" };\r\n    } catch (error) {\r\n      console.error(\"Error saving display name:\", error);\r\n      if (error instanceof functions.https.HttpsError) {\r\n        throw error;\r\n      }\r\n      throw new functions.https.HttpsError(\r\n        \"internal\",\r\n        \"An unexpected error occurred.\"\r\n      );\r\n    }\r\n  }\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\onboardingSaveInterests.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":20,"suggestions":[{"fix":{"range":[1276,1324],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\r\nimport * as admin from \"firebase-admin\";\r\nimport { z } from \"zod\";\r\nimport { firestore } from \"../../lib/firebase-admin\";\r\n\r\nconst SaveInterestsSchema = z.object({\r\n  interestTags: z.array(z.string()).max(6, \"You can select up to 6 interests.\"),\r\n});\r\n\r\nexport const onboardingSaveInterests = functions.https.onCall(\r\n  async (data, context) => {\r\n    if (!context.auth) {\r\n      throw new functions.https.HttpsError(\r\n        \"unauthenticated\",\r\n        \"The function must be called while authenticated.\"\r\n      );\r\n    }\r\n\r\n    const { uid } = context.auth;\r\n\r\n    // Validate input\r\n    const validation = SaveInterestsSchema.safeParse(data);\r\n    if (!validation.success) {\r\n      throw new functions.https.HttpsError(\r\n        \"invalid-argument\",\r\n        \"The function must be called with a valid array of interest tags.\",\r\n        validation.error.issues\r\n      );\r\n    }\r\n\r\n    const { interestTags } = validation.data;\r\n    const userRef = firestore.collection(\"users\").doc(uid);\r\n\r\n    try {\r\n      await userRef.update({\r\n        interestTags,\r\n        updatedAt: admin.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n\r\n      return { success: true, message: \"Interests saved.\" };\r\n    } catch (error) {\r\n      console.error(\"Error saving interests:\", error);\r\n      throw new functions.https.HttpsError(\r\n        \"internal\",\r\n        \"An unexpected error occurred while saving interests.\"\r\n      );\r\n    }\r\n  }\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\onboardingSaveLeaderChoice.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":20,"suggestions":[{"fix":{"range":[1255,1307],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\r\nimport * as admin from \"firebase-admin\";\r\nimport { z } from \"zod\";\r\nimport { firestore } from \"../../lib/firebase-admin\";\r\n\r\nconst SaveLeaderChoiceSchema = z.object({\r\n  isLeaderCandidate: z.boolean(),\r\n});\r\n\r\nexport const onboardingSaveLeaderChoice = functions.https.onCall(\r\n  async (data, context) => {\r\n    if (!context.auth) {\r\n      throw new functions.https.HttpsError(\r\n        \"unauthenticated\",\r\n        \"The function must be called while authenticated.\"\r\n      );\r\n    }\r\n\r\n    const { uid } = context.auth;\r\n\r\n    // Validate input\r\n    const validation = SaveLeaderChoiceSchema.safeParse(data);\r\n    if (!validation.success) {\r\n      throw new functions.https.HttpsError(\r\n        \"invalid-argument\",\r\n        \"The function must be called with a valid isLeaderCandidate boolean.\",\r\n        validation.error.issues\r\n      );\r\n    }\r\n\r\n    const { isLeaderCandidate } = validation.data;\r\n    const userRef = firestore.collection(\"users\").doc(uid);\r\n\r\n    try {\r\n      await userRef.update({\r\n        isLeaderCandidate,\r\n        updatedAt: admin.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n\r\n      return { success: true, message: \"Leader choice saved.\" };\r\n    } catch (error) {\r\n      console.error(\"Error saving leader choice:\", error);\r\n      throw new functions.https.HttpsError(\r\n        \"internal\",\r\n        \"An unexpected error occurred while saving leader choice.\"\r\n      );\r\n    }\r\n  }\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\sendMagicLink.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":12,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":12,"endColumn":14,"suggestions":[{"fix":{"range":[354,393],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":13,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":13,"endColumn":14,"suggestions":[{"fix":{"range":[396,424],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":14,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":14,"endColumn":14,"suggestions":[{"fix":{"range":[427,462],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":15,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":15,"endColumn":14,"suggestions":[{"fix":{"range":[465,494],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":16,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":14,"suggestions":[{"fix":{"range":[497,536],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":67,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":67,"endColumn":20,"suggestions":[{"fix":{"range":[1874,1924],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\nimport * as crypto from \"crypto\";\nimport { FirebaseHttpsError, firestore } from \"../types/firebase\";\n\n// This would be a utility to send emails (e.g., using SendGrid, Mailgun)\n// For now, we'll just log it.\nasync function sendEmail(\n  email: string,\n  subject: string,\n  body: string\n): Promise<void> {\n  console.log(\"---- SENDING EMAIL ----\");\n  console.log(`TO: ${email}`);\n  console.log(`SUBJECT: ${subject}`);\n  console.log(`BODY: ${body}`);\n  console.log(\"-----------------------\");\n  return Promise.resolve();\n}\n\n// Generate a secure, URL-safe token\nfunction generateToken(): string {\n  return crypto.randomBytes(32).toString(\"hex\");\n}\n\ninterface MagicLinkData {\n  email: string;\n  schoolId: string;\n}\n\nexport const sendMagicLink = functions.https.onCall(\n  async (request): Promise<{ success: boolean; message: string }> => {\n    // Extract data from request\n    const data = request.data as MagicLinkData;\n\n    if (!data.email || !data.schoolId) {\n      throw new FirebaseHttpsError(\n        \"invalid-argument\",\n        \"Email and schoolId are required\"\n      );\n    }\n\n    try {\n      const db = firestore();\n      const token = generateToken();\n      const expiresAt = new Date(Date.now() + 15 * 60 * 1000); // 15 minutes\n\n      // Store the magic link token in Firestore\n      await db.collection(\"magic_links\").add({\n        email: data.email,\n        schoolId: data.schoolId,\n        token,\n        expiresAt,\n        used: false,\n        createdAt: new Date(),\n      });\n\n      // Send email with magic link\n      const magicLink = `https://yourdomain.com/auth/verify?token=${token}`;\n      await sendEmail(\n        data.email,\n        \"Your Magic Link\",\n        `Click here to log in: ${magicLink}`\n      );\n\n      return { success: true, message: \"Magic link sent successfully\" };\n    } catch (error) {\n      console.error(\"Error sending magic link:\", error);\n      throw new FirebaseHttpsError(\"internal\", \"Failed to send magic link\");\n    }\n  }\n);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\updateUserAvatar.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":20,"suggestions":[{"fix":{"range":[1091,1138],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\nimport { FirebaseHttpsError, firestore, FieldValue } from \"../types/firebase\";\n\ninterface UpdateAvatarData {\n  avatarUrl: string;\n}\n\nexport const updateUserAvatar = functions.https.onCall(\n  async (request): Promise<{ success: boolean; message: string }> => {\n    // Check authentication\n    if (!request.auth) {\n      throw new FirebaseHttpsError(\n        \"unauthenticated\",\n        \"User must be authenticated\"\n      );\n    }\n\n    // Extract data from request\n    const data = request.data as UpdateAvatarData;\n    const { avatarUrl } = data;\n\n    if (!avatarUrl) {\n      throw new FirebaseHttpsError(\n        \"invalid-argument\",\n        \"Avatar URL is required\"\n      );\n    }\n\n    const uid = request.auth.uid;\n\n    try {\n      const db = firestore();\n\n      // Update user profile with new avatar\n      await db.collection(\"user_profiles\").doc(uid).update({\n        avatarUrl,\n        updatedAt: FieldValue.serverTimestamp(),\n      });\n\n      return { success: true, message: \"Avatar updated successfully\" };\n    } catch (error) {\n      console.error(\"Error updating avatar:\", error);\n      throw new FirebaseHttpsError(\"internal\", \"Failed to update avatar\");\n    }\n  }\n);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\auth\\verifyMagicLink.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":56,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":56,"endColumn":21},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":115,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":115,"endColumn":20,"suggestions":[{"fix":{"range":[3600,3653],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\nimport * as admin from \"firebase-admin\";\nimport { FirebaseHttpsError, firestore, auth } from \"../types/firebase\";\n\ninterface VerifyMagicLinkData {\n  token: string;\n}\n\nexport const verifyMagicLink = functions.https.onCall(\n  async (\n    request\n  ): Promise<{ success: boolean; message: string; customToken?: string }> => {\n    // Extract data from request\n    const data = request.data as VerifyMagicLinkData;\n    const { token } = data;\n\n    if (!token) {\n      throw new FirebaseHttpsError(\"invalid-argument\", \"Token is required\");\n    }\n\n    try {\n      const db = firestore();\n      const authService = auth();\n\n      // Find the magic link token\n      const magicLinksQuery = await db\n        .collection(\"magic_links\")\n        .where(\"token\", \"==\", token)\n        .where(\"used\", \"==\", false)\n        .limit(1)\n        .get();\n\n      if (magicLinksQuery.empty) {\n        throw new FirebaseHttpsError(\"not-found\", \"Invalid or expired token\");\n      }\n\n      const magicLinkDoc = magicLinksQuery.docs[0];\n      const magicLinkData = magicLinkDoc.data();\n\n      // Check if token is expired\n      const now = new Date();\n      const expiresAt = magicLinkData.expiresAt.toDate();\n\n      if (now > expiresAt) {\n        throw new FirebaseHttpsError(\"permission-denied\", \"Token has expired\");\n      }\n\n      // Mark token as used\n      await magicLinkDoc.ref.update({ used: true });\n\n      // Create or get user\n      let userRecord;\n      let isNewUser = false;\n      try {\n        userRecord = await authService.getUserByEmail(magicLinkData.email);\n      } catch (error) {\n        // User doesn't exist, create new user\n        userRecord = await authService.createUser({\n          email: magicLinkData.email,\n          emailVerified: true,\n        });\n        isNewUser = true;\n      }\n\n      // If it's a new user, create their document in Firestore\n      if (isNewUser) {\n        const userRef = db.collection(\"users\").doc(userRecord.uid);\n        await userRef.set({\n          id: userRecord.uid,\n          uid: userRecord.uid,\n          email: userRecord.email,\n          fullName: \"\", // To be set during onboarding\n          handle: \"\", // To be set during onboarding\n          avatarUrl: \"\",\n          interestTags: [],\n          majorId: \"\",\n          graduationYear: 0,\n          schoolId: magicLinkData.schoolId || \"\", // Assuming schoolId is passed in magic link creation\n          isFirstYear: false,\n          isLeaderCandidate: false,\n          onboardingCompleted: false,\n          isVerified: true,\n          status: \"active\",\n          createdAt: admin.firestore.FieldValue.serverTimestamp(),\n          updatedAt: admin.firestore.FieldValue.serverTimestamp(),\n          // Add other default fields from the User model here\n          isPublic: false,\n          consentGiven: false, // Will be part of onboarding/terms\n          showDormitory: true,\n          showOrganizations: true,\n          builderOptIn: false,\n          isBuilder: false,\n          builderAchievements: {\n            toolsCreated: 0,\n            totalEngagement: 0,\n            invitesSent: 0,\n          },\n          builderAnalyticsEnabled: true,\n          clubs: [],\n          academicInterests: [],\n          organizations: [],\n        });\n      }\n\n      // Create custom token\n      const customToken = await authService.createCustomToken(userRecord.uid);\n\n      return {\n        success: true,\n        message: \"Magic link verified successfully\",\n        customToken,\n      };\n    } catch (_error) {\n      // Handle error silently for logging endpoint\n      console.error(\"Error verifying magic link:\", _error);\n      throw new FirebaseHttpsError(\"internal\", \"Failed to verify magic link\");\n    }\n  }\n);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\creation\\tool.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\creation\\validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\event_state_transitions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\events_sync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\createPost.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\follow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\getFeed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\getTopStrip.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":13,"column":45,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":52}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { onRequest } from \"firebase-functions/v2/https\";\nimport { logger } from \"../lib/logger\";\nimport * as functions from \"firebase-functions\";\nimport * as admin from \"firebase-admin\";\nimport { ActiveRitualTileSchema } from \"@hive/core\";\n\n/**\n * Fetches the content for the top strip of the main feed, which includes\n * active rituals and other high-priority items.\n *\n * The function validates the fetched data against the ActiveRitualTileSchema.\n */\nexport const getTopStrip = onRequest(async (request, _context) => {\n  // Optional: Add authentication check if only logged-in users can see this.\n  // if (!context.auth) {\n  //   throw new functions.https.HttpsError(\n  //     \"unauthenticated\",\n  //     \"You must be logged in to view the feed.\"\n  //   );\n  // }\n\n  try {\n    const db = admin.firestore();\n    const topStripCollection = db.collection(\"topStripContent\");\n\n    // Fetch documents that have not expired yet.\n    const now = new Date();\n    const snapshot = await topStripCollection\n      .where(\"expiresAt\", \">\", now)\n      .orderBy(\"expiresAt\", \"asc\")\n      .orderBy(\"priority\", \"asc\")\n      .limit(10)\n      .get();\n\n    if (snapshot.empty) {\n      return { success: true, data: [] };\n    }\n\n    const validationPromises = snapshot.docs.map(async (doc) => {\n      const tileData = doc.data();\n      const validationResult =\n        await ActiveRitualTileSchema.safeParseAsync(tileData);\n\n      if (validationResult.success) {\n        return validationResult.data;\n      } else {\n        functions.logger.error(\n          `Validation failed for document ${doc.id}:`,\n          validationResult.error.flatten()\n        );\n        return null; // or some other way to handle invalid data\n      }\n    });\n\n    const validatedData = (await Promise.all(validationPromises)).filter(\n      (item) => item !== null\n    );\n\n    return { success: true, data: validatedData };\n  } catch (error) {\n    logger.error(\"Error getting top strip:\", error);\n    throw error;\n  }\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\interactions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\joinRitual.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\managePost.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":80,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":80,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {createHttpsFunction, FunctionContext, getFirestore, FieldValue, functions} from \"../types/firebase\";\r\n\r\n// Temporary guard function - replace with actual import\r\nasync function assertIsBuilder(uid: string, spaceId: string): Promise<void> {\r\n  const db = getFirestore();\r\n  const memberDoc = await db.collection(\"spaces\").doc(spaceId).collection(\"members\").doc(uid).get();\r\n  const memberData = memberDoc.data();\r\n  if (!memberDoc.exists || memberData?.role !== \"builder\") {\r\n    throw new functions.https.HttpsError(\"permission-denied\", \"User is not a builder of this space.\");\r\n  }\r\n}\r\n\r\ninterface EditPostData {\r\n  spaceId: string;\r\n  postId: string;\r\n  content: string;\r\n}\r\n\r\nexport const editPost = createHttpsFunction<EditPostData>(async (data: EditPostData, context: FunctionContext) => {\r\n  const uid = context.auth?.uid;\r\n  const {spaceId, postId, content} = data;\r\n\r\n  if (!uid) {\r\n    throw new functions.https.HttpsError(\"unauthenticated\", \"User must be authenticated.\");\r\n  }\r\n  if (!spaceId || !postId || !content) {\r\n    throw new functions.https.HttpsError(\"invalid-argument\", \"Missing required arguments.\");\r\n  }\r\n\r\n  const db = getFirestore();\r\n  const postRef = db.collection(\"spaces\").doc(spaceId).collection(\"posts\").doc(postId);\r\n  const postDoc = await postRef.get();\r\n\r\n  if (!postDoc.exists || postDoc.data()?.authorId !== uid) {\r\n    throw new functions.https.HttpsError(\"permission-denied\", \"You do not have permission to edit this post.\");\r\n  }\r\n\r\n  await postRef.update({\r\n    content: content,\r\n    updatedAt: FieldValue.serverTimestamp(),\r\n  });\r\n\r\n  return {success: true};\r\n});\r\n\r\ninterface DeletePostData {\r\n  spaceId: string;\r\n  postId: string;\r\n}\r\n\r\nexport const deletePost = createHttpsFunction<DeletePostData>(async (data: DeletePostData, context: FunctionContext) => {\r\n  const uid = context.auth?.uid;\r\n  const {spaceId, postId} = data;\r\n\r\n  if (!uid) {\r\n    throw new functions.https.HttpsError(\"unauthenticated\", \"User must be authenticated.\");\r\n  }\r\n  if (!spaceId || !postId) {\r\n    throw new functions.https.HttpsError(\"invalid-argument\", \"Missing required arguments.\");\r\n  }\r\n\r\n  const db = getFirestore();\r\n  const postRef = db.collection(\"spaces\").doc(spaceId).collection(\"posts\").doc(postId);\r\n  const postDoc = await postRef.get();\r\n  const postData = postDoc.data();\r\n\r\n  if (!postDoc.exists) {\r\n    throw new functions.https.HttpsError(\"not-found\", \"Post not found.\");\r\n  }\r\n\r\n  // Check if user is the author\r\n  const isAuthor = postData?.authorId === uid;\r\n\r\n  // Check if user is a builder (if not the author)\r\n  let isBuilder = false;\r\n  if (!isAuthor) {\r\n    try {\r\n      await assertIsBuilder(uid, spaceId);\r\n      isBuilder = true;\r\n    } catch (error) {\r\n      // User is not a builder, ignore the error\r\n    }\r\n  }\r\n\r\n  if (!isAuthor && !isBuilder) {\r\n    throw new functions.https.HttpsError(\"permission-denied\", \"You do not have permission to delete this post.\");\r\n  }\r\n\r\n  await postRef.delete();\r\n\r\n  return {success: true};\r\n}); ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\mute.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\sayHello.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\feed\\triggers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\notifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\profile\\updateUserProfile.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'updatableProfileFields' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":9,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":29}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  createHttpsFunction,\n  FunctionContext,\n  getFirestore,\n  functions,\n} from \"../types/firebase\";\n\n// Temporary UserProfileSchema - replace with @hive/validation import once workspace is fixed\nconst updatableProfileFields = {\n  preferredName: \"string\",\n  major: \"string\",\n  isBuilder: \"boolean\",\n};\n\ninterface UpdateUserProfileData {\n  preferredName?: string;\n  major?: string;\n  isBuilder?: boolean;\n}\n\nexport const updateUserProfile = createHttpsFunction<UpdateUserProfileData>(\n  async (data: UpdateUserProfileData, context: FunctionContext) => {\n    if (!context.auth) {\n      throw new functions.https.HttpsError(\n        \"unauthenticated\",\n        \"User must be authenticated.\"\n      );\n    }\n\n    // Basic validation\n    const allowedFields = [\"preferredName\", \"major\", \"isBuilder\"];\n    const updateData: Record<string, string | boolean> = {};\n\n    for (const [key, value] of Object.entries(data)) {\n      if (allowedFields.includes(key)) {\n        if (typeof value === \"string\" || typeof value === \"boolean\") {\n          updateData[key] = value;\n        }\n      }\n    }\n\n    if (Object.keys(updateData).length === 0) {\n      throw new functions.https.HttpsError(\n        \"invalid-argument\",\n        \"No valid fields provided for update.\"\n      );\n    }\n\n    const uid = context.auth.uid;\n    const db = getFirestore();\n    const userRef = db.collection(\"users\").doc(uid);\n\n    await userRef.update(updateData);\n\n    return { success: true, message: \"Profile updated successfully.\" };\n  }\n);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\recommendations.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'db' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":136,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":136,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  createHttpsFunction,\n  FunctionContext,\n  getFirestore,\n  FieldValue,\n  functions,\n  logger,\n  onSchedule,\n  admin,\n} from \"./types/firebase\";\n\n// Temporary interfaces\ninterface UserProfile {\n  uid: string;\n  interests: string[];\n  skills: string[];\n  major: string;\n  year: string;\n  followingCount: number;\n  engagementScore: number;\n}\n\ninterface ContentItem {\n  id: string;\n  authorId: string;\n  type: \"post\" | \"event\" | \"tool\";\n  tags: string[];\n  category: string;\n  engagementScore: number;\n  createdAt: admin.firestore.Timestamp;\n}\n\ninterface RecommendationData {\n  type?: \"content\" | \"users\";\n  limit?: number;\n}\n\n/**\n * Generate content recommendations based on user behavior\n */\nexport const generateContentRecommendations = onSchedule(\n  {\n    schedule: \"every 2 hours\",\n  },\n  async () => {\n    try {\n      const db = getFirestore();\n      logger.info(\"Starting content recommendation generation\");\n\n      // Get active users (simplified)\n      const usersSnapshot = await db.collection(\"users\").limit(50).get();\n      let processedCount = 0;\n\n      for (const userDoc of usersSnapshot.docs) {\n        const userData = userDoc.data() as UserProfile;\n\n        if (userData.interests && Array.isArray(userData.interests)) {\n          // Generate personalized content recommendations\n          const contentSnapshot = await db\n            .collection(\"content\")\n            .where(\"tags\", \"array-contains-any\", userData.interests)\n            .limit(20)\n            .get();\n\n          const recommendations = contentSnapshot.docs\n            .map((doc) => ({\n              contentId: doc.id,\n              score: calculateRecommendationScore(\n                userData,\n                doc.data() as ContentItem\n              ),\n              recommendedAt: FieldValue.serverTimestamp(),\n            }))\n            .sort((a, b) => b.score - a.score)\n            .slice(0, 10);\n\n          // Store recommendations\n          await db.collection(\"user_recommendations\").doc(userDoc.id).set(\n            {\n              contentRecommendations: recommendations,\n              lastUpdated: FieldValue.serverTimestamp(),\n            },\n            { merge: true }\n          );\n\n          processedCount++;\n        }\n      }\n\n      logger.info(`Generated recommendations for ${processedCount} users`);\n    } catch (error) {\n      logger.error(\"Error generating content recommendations:\", error);\n    }\n  }\n);\n\n/**\n * Calculate recommendation score for content\n */\nfunction calculateRecommendationScore(\n  user: UserProfile,\n  content: ContentItem\n): number {\n  let score = 0;\n\n  // Interest match bonus\n  const sharedTags = user.interests.filter((interest) =>\n    content.tags.includes(interest)\n  );\n  score += sharedTags.length * 2;\n\n  // Engagement bonus\n  score += content.engagementScore * 0.1;\n\n  // Recency bonus (simplified)\n  score += Math.random() * 0.5; // Placeholder for recency calculation\n\n  return score;\n}\n\n/**\n * Get personalized recommendations for a user\n */\nexport const getRecommendations = createHttpsFunction<RecommendationData>(\n  async (data: RecommendationData, context: FunctionContext) => {\n    if (!context.auth) {\n      throw new functions.https.HttpsError(\n        \"unauthenticated\",\n        \"User must be authenticated.\"\n      );\n    }\n\n    const { type = \"content\", limit = 10 } = data;\n\n    try {\n      const db = getFirestore();\n\n      // Simple recommendation logic\n      const recommendations = [];\n      for (let i = 0; i < limit; i++) {\n        recommendations.push({\n          id: `rec_${i}`,\n          type,\n          score: Math.random(),\n        });\n      }\n\n      return { recommendations };\n    } catch (error) {\n      logger.error(\"Error getting recommendations:\", error);\n      throw new functions.https.HttpsError(\n        \"internal\",\n        \"Failed to get recommendations.\"\n      );\n    }\n  }\n);\n\n/**\n * Update recommendation metrics based on user interactions\n */\nexport const updateRecommendationMetrics =\n  createHttpsFunction<RecommendationData>(\n    async (_data: RecommendationData, context: FunctionContext) => {\n      if (!context.auth) {\n        throw new functions.https.HttpsError(\n          \"unauthenticated\",\n          \"User must be authenticated.\"\n        );\n      }\n\n      const _uid = context.auth.uid;\n\n      // TODO: Implement logic to update metrics based on user interaction\n      // (e.g., clicks, likes, follows on recommended content/users)\n\n      return { success: true, message: \"Metrics update acknowledged.\" };\n    }\n  );\n\nexport const updateRecommendations = onSchedule(\n  { schedule: \"every 6 hours\" },\n  async () => {\n    try {\n      logger.info(\"Updating recommendations\");\n      const db = getFirestore();\n\n      await db.collection(\"system\").doc(\"recommendations\").update({\n        lastUpdated: FieldValue.serverTimestamp(),\n      });\n    } catch (error) {\n      logger.error(\"Error updating recommendations:\", error);\n    }\n  }\n);\n\n// Recommendation engine implementation\n// Currently disabled for vBETA - will be implemented post-launch\n\nexport default {};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\social_graph.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\autoJoin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\denormalization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\featureToolInSpace.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\leaveSpace.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\membership.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\onUserCreate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\pagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\pinPostToSpace.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\spaces\\requestBuilderRole.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\test\\authMagicLink.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\types\\firebase.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":127,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":127,"endColumn":16},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":129,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":129,"endColumn":17},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":131,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":131,"endColumn":18},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":133,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":133,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as functions from \"firebase-functions\";\nimport { onCall, CallableRequest } from \"firebase-functions/v2/https\";\nimport { onSchedule } from \"firebase-functions/v2/scheduler\";\nimport { onDocumentCreated } from \"firebase-functions/v2/firestore\";\nimport * as admin from \"firebase-admin\";\n\n// Initialize Firebase Admin if not already initialized\nif (!admin.apps.length) {\n  admin.initializeApp();\n}\n\n// Core Firebase services\nexport const firestore = () => admin.firestore();\nexport const getFirestore = () => admin.firestore(); // Alternative export name\nexport const auth = () => admin.auth();\nexport const storage = () => admin.storage();\n\n// Firebase Admin exports\nexport { admin, functions };\n\n// Re-export Firebase v2 functions\nexport { onCall, CallableRequest, onSchedule, onDocumentCreated };\n\n// Firestore helpers\nexport const FieldValue = admin.firestore.FieldValue;\nexport const Timestamp = admin.firestore.Timestamp;\n\n// Function context type for v2 functions\nexport interface FunctionContext {\n  auth?: {\n    uid: string;\n    token?: unknown;\n  };\n  rawRequest?: unknown;\n}\n\n// Document type interfaces\nexport interface UserDocument {\n  id: string;\n  email: string;\n  fullName: string;\n  createdAt: admin.firestore.Timestamp;\n  [key: string]: unknown;\n}\n\nexport interface SpaceDocument {\n  id: string;\n  name: string;\n  createdAt: admin.firestore.Timestamp;\n  memberCount: number;\n  [key: string]: unknown;\n}\n\nexport interface MemberDocument {\n  id: string;\n  userId: string;\n  spaceId: string;\n  role: string;\n  joinedAt: admin.firestore.Timestamp;\n  [key: string]: unknown;\n}\n\n// Helper function to create HTTPS callable functions with proper v2 types\nexport function createHttpsFunction<T = unknown, R = unknown>(\n  handler: (data: T, context: FunctionContext) => Promise<R> | R\n) {\n  return onCall<T>(async (request: CallableRequest<T>): Promise<R> => {\n    const functionContext: FunctionContext = {\n      auth: request.auth,\n      rawRequest: request.rawRequest,\n    };\n    return handler(request.data, functionContext);\n  });\n}\n\n// Authentication helper\nexport function assertAuthenticated(context: FunctionContext): string {\n  if (!context.auth?.uid) {\n    throw new functions.https.HttpsError(\n      \"unauthenticated\",\n      \"User must be authenticated to perform this action\"\n    );\n  }\n  return context.auth.uid;\n}\n\n// Validation helper\nexport function validateRequiredFields<T extends Record<string, unknown>>(\n  data: T,\n  requiredFields: (keyof T)[]\n): void {\n  for (const field of requiredFields) {\n    if (data[field] === undefined || data[field] === null) {\n      throw new functions.https.HttpsError(\n        \"invalid-argument\",\n        `Missing required field: ${String(field)}`\n      );\n    }\n  }\n}\n\n// Custom error classes\nexport class FirebaseHttpsError extends functions.https.HttpsError {\n  constructor(\n    code: functions.https.FunctionsErrorCode,\n    message: string,\n    details?: unknown\n  ) {\n    super(code, message, details);\n  }\n}\n\n// Helper to get document data with proper typing\nexport function getDocumentData<T extends Record<string, unknown>>(\n  snapshot: admin.firestore.DocumentSnapshot\n): T {\n  const data = snapshot.data();\n  if (!data) {\n    throw new Error(\"Document does not exist\");\n  }\n  return { id: snapshot.id, ...data } as unknown as T;\n}\n\n// Simple logger\nexport const logger = {\n  info: (message: string, data?: unknown) =>\n    console.log(\"[INFO]\", message, data),\n  warn: (message: string, data?: unknown) =>\n    console.warn(\"[WARN]\", message, data),\n  error: (message: string, data?: unknown) =>\n    console.error(\"[ERROR]\", message, data),\n  debug: (message: string, data?: unknown) =>\n    console.log(\"[DEBUG]\", message, data),\n};\n\nexport function handleFirebaseError(error: unknown): FirebaseHttpsError {\n  if (error instanceof functions.https.HttpsError) {\n    return error;\n  }\n\n  if (error instanceof Error) {\n    return new FirebaseHttpsError(\"internal\", error.message);\n  }\n\n  return new FirebaseHttpsError(\"unknown\", \"An unknown error occurred\");\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\user_engagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\verification\\email-verification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\functions\\src\\verification\\role-claims.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\analytics\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\analytics\\src\\tracking.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":20,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":17,"suggestions":[{"fix":{"range":[553,606],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":29,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":29,"endColumn":17,"suggestions":[{"fix":{"range":[776,830],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":39,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":39,"endColumn":17,"suggestions":[{"fix":{"range":[1061,1129],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { AnalyticsEvent, PageView } from \"./types\";\n\n/**\n * Analytics service stub - to be implemented with real analytics service\n * @throws {Error} When called in production environment\n */\nexport class AnalyticsService {\n  private validateEnvironment() {\n    if (process.env.NODE_ENV === \"production\") {\n      throw new Error(\"Analytics service not implemented for production\");\n    }\n  }\n\n  /**\n   * Track a custom event\n   * @param event The event to track\n   */\n  trackEvent(event: AnalyticsEvent): void {\n    this.validateEnvironment();\n    console.info(\"[Analytics Stub] Track Event:\", event);\n  }\n\n  /**\n   * Track a page view\n   * @param pageView The page view data to track\n   */\n  trackPageView(pageView: PageView): void {\n    this.validateEnvironment();\n    console.info(\"[Analytics Stub] Page View:\", pageView);\n  }\n\n  /**\n   * Identify a user\n   * @param userId The user ID to identify\n   * @param traits Optional user traits\n   */\n  identifyUser(userId: string, traits?: Record<string, unknown>): void {\n    this.validateEnvironment();\n    console.info(\"[Analytics Stub] Identify User:\", { userId, traits });\n  }\n}\n\nexport const analytics = new AnalyticsService();\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\analytics\\src\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\api-client\\src\\clients\\feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\api-client\\src\\feed.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":31,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":31,"endColumn":20,"suggestions":[{"fix":{"range":[933,986],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":20,"suggestions":[{"fix":{"range":[1353,1419],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":57,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":66,"endColumn":6},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":70,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":87,"endColumn":6}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getFunctions, httpsCallable } from \"firebase/functions\";\nimport {\n  PostSchema,\n  Post,\n  ActiveRitualTile,\n  ActiveRitualTileSchema,\n} from \"@hive/core\";\nimport type { FeedPost, CreatePostInput } from \"@hive/core\";\n\nconst functions = getFunctions();\n\n/**\n * Calls the `createPost` Cloud Function.\n * @param {string} spaceId The ID of the space to post in.\n * @param {string} content The text content of the post.\n */\n// export const createPost = async (\n//   spaceId: string,\n//   content: string\n// ): Promise<unknown> => {\n//   const createPostCallable = httpsCallable(functions, \"createPost\");\n//   return await createPostCallable({ spaceId, content });\n// };\n\nexport const feedApi = {\n  getFeed: async (): Promise<Post[]> => {\n    const getFeed = httpsCallable(functions, \"getFeed\");\n    const response = await getFeed();\n    const parsed = PostSchema.array().safeParse(response.data);\n    if (!parsed.success) {\n      console.error(\"Zod validation failed\", parsed.error);\n      throw new Error(\"Invalid response from getFeed\");\n    }\n    return parsed.data;\n  },\n\n  getTopStrip: async (): Promise<ActiveRitualTile[]> => {\n    const getTopStrip = httpsCallable(functions, \"getTopStrip\");\n    const response = await getTopStrip();\n    const parsed = ActiveRitualTileSchema.array().safeParse(response.data);\n    if (!parsed.success) {\n      console.error(\"Zod validation failed for TopStrip\", parsed.error);\n      throw new Error(\"Invalid response from getTopStrip\");\n    }\n    return parsed.data;\n  },\n};\n\nexport class FeedApiClient {\n  private baseUrl: string;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n  }\n\n  async getPosts(): Promise<FeedPost[]> {\n    try {\n      const response = await fetch(`${this.baseUrl}/api/feed`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const posts = await response.json();\n      return posts;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  async createPost(input: CreatePostInput): Promise<FeedPost> {\n    try {\n      const response = await fetch(`${this.baseUrl}/api/feed`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(input),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const post = await response.json();\n      return post;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\api-client\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\api-client\\src\\spaces.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\auth.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\demo-firebase-errors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\firebase-config.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\firebase-config.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":17,"suggestions":[{"fix":{"range":[1176,1253],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { initializeApp, getApps } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY || \"demo-api-key\",\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN ||\n        \"demo-project.firebaseapp.com\",\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || \"demo-project\",\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET ||\n        \"demo-project.appspot.com\",\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID || \"123456789\",\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID || \"1:123456789:web:abcdef123456\",\n};\n// Check if we're in a development environment without proper Firebase config\nconst isDevWithoutFirebase = process.env.NODE_ENV === \"development\" &&\n    !process.env.NEXT_PUBLIC_FIREBASE_API_KEY;\nlet app = null;\nlet auth = null;\nif (!isDevWithoutFirebase) {\n    // Initialize Firebase only if it hasn't been initialized already\n    app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\n    auth = getAuth(app);\n}\nelse {\n    // In development without Firebase config, create mock objects\n    console.warn(\"ðŸ”¥ Firebase not configured - using mock auth for development\");\n    auth = {\n        currentUser: null,\n        onAuthStateChanged: () => () => { },\n        signOut: () => Promise.resolve(),\n    };\n}\nexport { auth };\nexport default app;\n//# sourceMappingURL=firebase-config.js.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\firebase-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\firebase-error-handler.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\firebase-error-handler.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\firebase-error-handler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\hooks\\use-auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\index.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\join-waitlist.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\join-waitlist.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\placeholder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\auth-logic\\src\\spaces.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\config\\eslint\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\constants\\majors.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\constants\\majors.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\constants\\majors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\creation.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":170,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":170,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4579,4582],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4579,4582],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":232,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6308,6311],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6308,6311],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from \"zod\";\nexport declare const CreationEventType: z.ZodEnum<\n  [\n    \"tool_created\",\n    \"tool_updated\",\n    \"tool_deleted\",\n    \"tool_published\",\n    \"tool_shared\",\n    \"tool_forked\",\n    \"tool_fork_source\",\n    \"tool_opened\",\n    \"tool_preview\",\n    \"tool_exported\",\n    \"element_added\",\n    \"element_removed\",\n    \"element_configured\",\n    \"element_moved\",\n    \"element_resized\",\n    \"element_duplicated\",\n    \"element_preset_used\",\n    \"builder_session_start\",\n    \"builder_session_end\",\n    \"canvas_mode_changed\",\n    \"device_mode_changed\",\n    \"element_library_searched\",\n    \"properties_panel_used\",\n    \"json_viewer_used\",\n    \"undo_action\",\n    \"redo_action\",\n    \"tool_instance_opened\",\n    \"tool_instance_submitted\",\n    \"tool_instance_abandoned\",\n    \"tool_element_interacted\",\n    \"tool_validation_error\",\n    \"tool_data_saved\",\n    \"share_link_created\",\n    \"share_link_accessed\",\n    \"tool_embedded\",\n    \"tool_feed_posted\",\n  ]\n>;\nexport type CreationEventType = z.infer<typeof CreationEventType>;\nexport declare const CreationAnalyticsEventSchema: z.ZodObject<\n  {\n    eventType: z.ZodEnum<\n      [\n        \"tool_created\",\n        \"tool_updated\",\n        \"tool_deleted\",\n        \"tool_published\",\n        \"tool_shared\",\n        \"tool_forked\",\n        \"tool_fork_source\",\n        \"tool_opened\",\n        \"tool_preview\",\n        \"tool_exported\",\n        \"element_added\",\n        \"element_removed\",\n        \"element_configured\",\n        \"element_moved\",\n        \"element_resized\",\n        \"element_duplicated\",\n        \"element_preset_used\",\n        \"builder_session_start\",\n        \"builder_session_end\",\n        \"canvas_mode_changed\",\n        \"device_mode_changed\",\n        \"element_library_searched\",\n        \"properties_panel_used\",\n        \"json_viewer_used\",\n        \"undo_action\",\n        \"redo_action\",\n        \"tool_instance_opened\",\n        \"tool_instance_submitted\",\n        \"tool_instance_abandoned\",\n        \"tool_element_interacted\",\n        \"tool_validation_error\",\n        \"tool_data_saved\",\n        \"share_link_created\",\n        \"share_link_accessed\",\n        \"tool_embedded\",\n        \"tool_feed_posted\",\n      ]\n    >;\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType:\n      | \"tool_created\"\n      | \"tool_updated\"\n      | \"tool_deleted\"\n      | \"tool_published\"\n      | \"tool_shared\"\n      | \"tool_forked\"\n      | \"tool_fork_source\"\n      | \"tool_opened\"\n      | \"tool_preview\"\n      | \"tool_exported\"\n      | \"element_added\"\n      | \"element_removed\"\n      | \"element_configured\"\n      | \"element_moved\"\n      | \"element_resized\"\n      | \"element_duplicated\"\n      | \"element_preset_used\"\n      | \"builder_session_start\"\n      | \"builder_session_end\"\n      | \"canvas_mode_changed\"\n      | \"device_mode_changed\"\n      | \"element_library_searched\"\n      | \"properties_panel_used\"\n      | \"json_viewer_used\"\n      | \"undo_action\"\n      | \"redo_action\"\n      | \"tool_instance_opened\"\n      | \"tool_instance_submitted\"\n      | \"tool_instance_abandoned\"\n      | \"tool_element_interacted\"\n      | \"tool_validation_error\"\n      | \"tool_data_saved\"\n      | \"share_link_created\"\n      | \"share_link_accessed\"\n      | \"tool_embedded\"\n      | \"tool_feed_posted\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?: Record<string, any> | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType:\n      | \"tool_created\"\n      | \"tool_updated\"\n      | \"tool_deleted\"\n      | \"tool_published\"\n      | \"tool_shared\"\n      | \"tool_forked\"\n      | \"tool_fork_source\"\n      | \"tool_opened\"\n      | \"tool_preview\"\n      | \"tool_exported\"\n      | \"element_added\"\n      | \"element_removed\"\n      | \"element_configured\"\n      | \"element_moved\"\n      | \"element_resized\"\n      | \"element_duplicated\"\n      | \"element_preset_used\"\n      | \"builder_session_start\"\n      | \"builder_session_end\"\n      | \"canvas_mode_changed\"\n      | \"device_mode_changed\"\n      | \"element_library_searched\"\n      | \"properties_panel_used\"\n      | \"json_viewer_used\"\n      | \"undo_action\"\n      | \"redo_action\"\n      | \"tool_instance_opened\"\n      | \"tool_instance_submitted\"\n      | \"tool_instance_abandoned\"\n      | \"tool_element_interacted\"\n      | \"tool_validation_error\"\n      | \"tool_data_saved\"\n      | \"share_link_created\"\n      | \"share_link_accessed\"\n      | \"tool_embedded\"\n      | \"tool_feed_posted\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?: Record<string, any> | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport type CreationAnalyticsEvent = z.infer<\n  typeof CreationAnalyticsEventSchema\n>;\nexport declare const ToolCreatedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"tool_created\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          hasDescription: z.ZodBoolean;\n          initialElementsCount: z.ZodNumber;\n          templateUsed: z.ZodOptional<z.ZodString>;\n          creationSource: z.ZodEnum<[\"scratch\", \"template\", \"fork\"]>;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          hasDescription: boolean;\n          initialElementsCount: number;\n          creationSource: \"fork\" | \"scratch\" | \"template\";\n          templateUsed?: string | undefined;\n        },\n        {\n          hasDescription: boolean;\n          initialElementsCount: number;\n          creationSource: \"fork\" | \"scratch\" | \"template\";\n          templateUsed?: string | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"tool_created\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          hasDescription: boolean;\n          initialElementsCount: number;\n          creationSource: \"fork\" | \"scratch\" | \"template\";\n          templateUsed?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"tool_created\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          hasDescription: boolean;\n          initialElementsCount: number;\n          creationSource: \"fork\" | \"scratch\" | \"template\";\n          templateUsed?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ToolUpdatedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"tool_updated\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          versionChanged: z.ZodBoolean;\n          newVersion: z.ZodString;\n          elementsCount: z.ZodNumber;\n          changeType: z.ZodEnum<[\"major\", \"minor\", \"patch\"]>;\n          fieldsChanged: z.ZodArray<z.ZodString, \"many\">;\n          editDuration: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          versionChanged: boolean;\n          newVersion: string;\n          elementsCount: number;\n          changeType: \"major\" | \"minor\" | \"patch\";\n          fieldsChanged: string[];\n          editDuration: number;\n        },\n        {\n          versionChanged: boolean;\n          newVersion: string;\n          elementsCount: number;\n          changeType: \"major\" | \"minor\" | \"patch\";\n          fieldsChanged: string[];\n          editDuration: number;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"tool_updated\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          versionChanged: boolean;\n          newVersion: string;\n          elementsCount: number;\n          changeType: \"major\" | \"minor\" | \"patch\";\n          fieldsChanged: string[];\n          editDuration: number;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"tool_updated\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          versionChanged: boolean;\n          newVersion: string;\n          elementsCount: number;\n          changeType: \"major\" | \"minor\" | \"patch\";\n          fieldsChanged: string[];\n          editDuration: number;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ElementAddedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"element_added\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          addMethod: z.ZodEnum<[\"drag_drop\", \"click\", \"preset\", \"duplicate\"]>;\n          presetUsed: z.ZodOptional<z.ZodString>;\n          position: z.ZodObject<\n            {\n              x: z.ZodNumber;\n              y: z.ZodNumber;\n            },\n            \"strip\",\n            z.ZodTypeAny,\n            {\n              x: number;\n              y: number;\n            },\n            {\n              x: number;\n              y: number;\n            }\n          >;\n          canvasElementsCount: z.ZodNumber;\n          librarySearchQuery: z.ZodOptional<z.ZodString>;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          position: {\n            x: number;\n            y: number;\n          };\n          addMethod: \"click\" | \"drag_drop\" | \"preset\" | \"duplicate\";\n          canvasElementsCount: number;\n          presetUsed?: string | undefined;\n          librarySearchQuery?: string | undefined;\n        },\n        {\n          position: {\n            x: number;\n            y: number;\n          };\n          addMethod: \"click\" | \"drag_drop\" | \"preset\" | \"duplicate\";\n          canvasElementsCount: number;\n          presetUsed?: string | undefined;\n          librarySearchQuery?: string | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"element_added\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          position: {\n            x: number;\n            y: number;\n          };\n          addMethod: \"click\" | \"drag_drop\" | \"preset\" | \"duplicate\";\n          canvasElementsCount: number;\n          presetUsed?: string | undefined;\n          librarySearchQuery?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"element_added\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          position: {\n            x: number;\n            y: number;\n          };\n          addMethod: \"click\" | \"drag_drop\" | \"preset\" | \"duplicate\";\n          canvasElementsCount: number;\n          presetUsed?: string | undefined;\n          librarySearchQuery?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ElementConfiguredEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"element_configured\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          configMethod: z.ZodEnum<\n            [\"properties_panel\", \"json_editor\", \"inline_edit\"]\n          >;\n          propertiesChanged: z.ZodArray<z.ZodString, \"many\">;\n          configComplexity: z.ZodEnum<[\"basic\", \"advanced\"]>;\n          validationErrors: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n          timeSpent: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          configMethod: \"properties_panel\" | \"json_editor\" | \"inline_edit\";\n          propertiesChanged: string[];\n          configComplexity: \"advanced\" | \"basic\";\n          timeSpent: number;\n          validationErrors?: string[] | undefined;\n        },\n        {\n          configMethod: \"properties_panel\" | \"json_editor\" | \"inline_edit\";\n          propertiesChanged: string[];\n          configComplexity: \"advanced\" | \"basic\";\n          timeSpent: number;\n          validationErrors?: string[] | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"element_configured\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          configMethod: \"properties_panel\" | \"json_editor\" | \"inline_edit\";\n          propertiesChanged: string[];\n          configComplexity: \"advanced\" | \"basic\";\n          timeSpent: number;\n          validationErrors?: string[] | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"element_configured\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          configMethod: \"properties_panel\" | \"json_editor\" | \"inline_edit\";\n          propertiesChanged: string[];\n          configComplexity: \"advanced\" | \"basic\";\n          timeSpent: number;\n          validationErrors?: string[] | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const BuilderSessionEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodEnum<[\"builder_session_start\", \"builder_session_end\"]>;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          sessionDuration: z.ZodOptional<z.ZodNumber>;\n          elementsAdded: z.ZodOptional<z.ZodNumber>;\n          elementsRemoved: z.ZodOptional<z.ZodNumber>;\n          elementsConfigured: z.ZodOptional<z.ZodNumber>;\n          undoCount: z.ZodOptional<z.ZodNumber>;\n          redoCount: z.ZodOptional<z.ZodNumber>;\n          modesUsed: z.ZodOptional<\n            z.ZodArray<z.ZodEnum<[\"design\", \"preview\", \"code\"]>, \"many\">\n          >;\n          deviceModesUsed: z.ZodOptional<\n            z.ZodArray<z.ZodEnum<[\"desktop\", \"tablet\", \"mobile\"]>, \"many\">\n          >;\n          exitReason: z.ZodOptional<\n            z.ZodEnum<[\"save\", \"abandon\", \"publish\", \"share\"]>\n          >;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          sessionDuration?: number | undefined;\n          elementsAdded?: number | undefined;\n          elementsRemoved?: number | undefined;\n          elementsConfigured?: number | undefined;\n          undoCount?: number | undefined;\n          redoCount?: number | undefined;\n          modesUsed?: (\"code\" | \"preview\" | \"design\")[] | undefined;\n          deviceModesUsed?: (\"desktop\" | \"tablet\" | \"mobile\")[] | undefined;\n          exitReason?: \"abandon\" | \"share\" | \"save\" | \"publish\" | undefined;\n        },\n        {\n          sessionDuration?: number | undefined;\n          elementsAdded?: number | undefined;\n          elementsRemoved?: number | undefined;\n          elementsConfigured?: number | undefined;\n          undoCount?: number | undefined;\n          redoCount?: number | undefined;\n          modesUsed?: (\"code\" | \"preview\" | \"design\")[] | undefined;\n          deviceModesUsed?: (\"desktop\" | \"tablet\" | \"mobile\")[] | undefined;\n          exitReason?: \"abandon\" | \"share\" | \"save\" | \"publish\" | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"builder_session_start\" | \"builder_session_end\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          sessionDuration?: number | undefined;\n          elementsAdded?: number | undefined;\n          elementsRemoved?: number | undefined;\n          elementsConfigured?: number | undefined;\n          undoCount?: number | undefined;\n          redoCount?: number | undefined;\n          modesUsed?: (\"code\" | \"preview\" | \"design\")[] | undefined;\n          deviceModesUsed?: (\"desktop\" | \"tablet\" | \"mobile\")[] | undefined;\n          exitReason?: \"abandon\" | \"share\" | \"save\" | \"publish\" | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"builder_session_start\" | \"builder_session_end\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          sessionDuration?: number | undefined;\n          elementsAdded?: number | undefined;\n          elementsRemoved?: number | undefined;\n          elementsConfigured?: number | undefined;\n          undoCount?: number | undefined;\n          redoCount?: number | undefined;\n          modesUsed?: (\"code\" | \"preview\" | \"design\")[] | undefined;\n          deviceModesUsed?: (\"desktop\" | \"tablet\" | \"mobile\")[] | undefined;\n          exitReason?: \"abandon\" | \"share\" | \"save\" | \"publish\" | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ToolInstanceOpenedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"tool_instance_opened\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          source: z.ZodEnum<[\"direct\", \"feed\", \"share_link\", \"embed\"]>;\n          referrer: z.ZodOptional<z.ZodString>;\n          isFirstTime: z.ZodBoolean;\n          deviceType: z.ZodEnum<[\"desktop\", \"tablet\", \"mobile\"]>;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          deviceType: \"desktop\" | \"tablet\" | \"mobile\";\n          source: \"feed\" | \"direct\" | \"share_link\" | \"embed\";\n          isFirstTime: boolean;\n          referrer?: string | undefined;\n        },\n        {\n          deviceType: \"desktop\" | \"tablet\" | \"mobile\";\n          source: \"feed\" | \"direct\" | \"share_link\" | \"embed\";\n          isFirstTime: boolean;\n          referrer?: string | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"tool_instance_opened\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          deviceType: \"desktop\" | \"tablet\" | \"mobile\";\n          source: \"feed\" | \"direct\" | \"share_link\" | \"embed\";\n          isFirstTime: boolean;\n          referrer?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"tool_instance_opened\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          deviceType: \"desktop\" | \"tablet\" | \"mobile\";\n          source: \"feed\" | \"direct\" | \"share_link\" | \"embed\";\n          isFirstTime: boolean;\n          referrer?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ToolInstanceSubmittedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"tool_instance_submitted\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          completionTime: z.ZodNumber;\n          elementsInteracted: z.ZodNumber;\n          validationErrors: z.ZodNumber;\n          dataSize: z.ZodNumber;\n          isAnonymous: z.ZodBoolean;\n          retryCount: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          isAnonymous: boolean;\n          validationErrors: number;\n          completionTime: number;\n          elementsInteracted: number;\n          dataSize: number;\n          retryCount: number;\n        },\n        {\n          isAnonymous: boolean;\n          validationErrors: number;\n          completionTime: number;\n          elementsInteracted: number;\n          dataSize: number;\n          retryCount: number;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"tool_instance_submitted\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          isAnonymous: boolean;\n          validationErrors: number;\n          completionTime: number;\n          elementsInteracted: number;\n          dataSize: number;\n          retryCount: number;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"tool_instance_submitted\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          isAnonymous: boolean;\n          validationErrors: number;\n          completionTime: number;\n          elementsInteracted: number;\n          dataSize: number;\n          retryCount: number;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ToolElementInteractedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"tool_element_interacted\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          interactionType: z.ZodEnum<\n            [\"click\", \"input\", \"select\", \"drag\", \"hover\"]\n          >;\n          elementPosition: z.ZodObject<\n            {\n              x: z.ZodNumber;\n              y: z.ZodNumber;\n            },\n            \"strip\",\n            z.ZodTypeAny,\n            {\n              x: number;\n              y: number;\n            },\n            {\n              x: number;\n              y: number;\n            }\n          >;\n          valueChanged: z.ZodBoolean;\n          timeOnElement: z.ZodNumber;\n          previousElement: z.ZodOptional<z.ZodString>;\n          nextElement: z.ZodOptional<z.ZodString>;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          interactionType: \"click\" | \"hover\" | \"input\" | \"select\" | \"drag\";\n          elementPosition: {\n            x: number;\n            y: number;\n          };\n          valueChanged: boolean;\n          timeOnElement: number;\n          previousElement?: string | undefined;\n          nextElement?: string | undefined;\n        },\n        {\n          interactionType: \"click\" | \"hover\" | \"input\" | \"select\" | \"drag\";\n          elementPosition: {\n            x: number;\n            y: number;\n          };\n          valueChanged: boolean;\n          timeOnElement: number;\n          previousElement?: string | undefined;\n          nextElement?: string | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"tool_element_interacted\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          interactionType: \"click\" | \"hover\" | \"input\" | \"select\" | \"drag\";\n          elementPosition: {\n            x: number;\n            y: number;\n          };\n          valueChanged: boolean;\n          timeOnElement: number;\n          previousElement?: string | undefined;\n          nextElement?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"tool_element_interacted\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          interactionType: \"click\" | \"hover\" | \"input\" | \"select\" | \"drag\";\n          elementPosition: {\n            x: number;\n            y: number;\n          };\n          valueChanged: boolean;\n          timeOnElement: number;\n          previousElement?: string | undefined;\n          nextElement?: string | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ShareLinkCreatedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"share_link_created\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          shareType: z.ZodEnum<[\"view\", \"edit\", \"fork\"]>;\n          hasExpiration: z.ZodBoolean;\n          shareMethod: z.ZodEnum<[\"direct_link\", \"social\", \"embed\"]>;\n          recipientCount: z.ZodOptional<z.ZodNumber>;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          shareType: \"view\" | \"edit\" | \"fork\";\n          hasExpiration: boolean;\n          shareMethod: \"embed\" | \"direct_link\" | \"social\";\n          recipientCount?: number | undefined;\n        },\n        {\n          shareType: \"view\" | \"edit\" | \"fork\";\n          hasExpiration: boolean;\n          shareMethod: \"embed\" | \"direct_link\" | \"social\";\n          recipientCount?: number | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"share_link_created\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          shareType: \"view\" | \"edit\" | \"fork\";\n          hasExpiration: boolean;\n          shareMethod: \"embed\" | \"direct_link\" | \"social\";\n          recipientCount?: number | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"share_link_created\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          shareType: \"view\" | \"edit\" | \"fork\";\n          hasExpiration: boolean;\n          shareMethod: \"embed\" | \"direct_link\" | \"social\";\n          recipientCount?: number | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ToolForkedEventSchema: z.ZodObject<\n  {\n    eventId: z.ZodString;\n    timestamp: z.ZodDate;\n    userIdHash: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodString;\n    toolId: z.ZodOptional<z.ZodString>;\n    toolName: z.ZodOptional<z.ZodString>;\n    toolVersion: z.ZodOptional<z.ZodString>;\n    toolStatus: z.ZodOptional<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodOptional<z.ZodBoolean>;\n    elementId: z.ZodOptional<z.ZodString>;\n    elementType: z.ZodOptional<z.ZodString>;\n    elementVersion: z.ZodOptional<z.ZodNumber>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    viewport: z.ZodOptional<\n      z.ZodObject<\n        {\n          width: z.ZodNumber;\n          height: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          width: number;\n          height: number;\n        },\n        {\n          width: number;\n          height: number;\n        }\n      >\n    >;\n    loadTime: z.ZodOptional<z.ZodNumber>;\n    renderTime: z.ZodOptional<z.ZodNumber>;\n    optedOut: z.ZodDefault<z.ZodBoolean>;\n    anonymized: z.ZodDefault<z.ZodBoolean>;\n  } & {\n    eventType: z.ZodLiteral<\"tool_forked\">;\n    metadata: z.ZodOptional<\n      z.ZodObject<\n        {\n          originalToolId: z.ZodString;\n          originalToolName: z.ZodString;\n          elementsCount: z.ZodNumber;\n          modificationsBeforeFork: z.ZodNumber;\n          forkReason: z.ZodOptional<\n            z.ZodEnum<[\"customize\", \"learn\", \"remix\", \"backup\"]>\n          >;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          originalToolId: string;\n          elementsCount: number;\n          originalToolName: string;\n          modificationsBeforeFork: number;\n          forkReason?: \"customize\" | \"learn\" | \"remix\" | \"backup\" | undefined;\n        },\n        {\n          originalToolId: string;\n          elementsCount: number;\n          originalToolName: string;\n          modificationsBeforeFork: number;\n          forkReason?: \"customize\" | \"learn\" | \"remix\" | \"backup\" | undefined;\n        }\n      >\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    sessionId: string;\n    eventType: \"tool_forked\";\n    timestamp: Date;\n    eventId: string;\n    optedOut: boolean;\n    anonymized: boolean;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          originalToolId: string;\n          elementsCount: number;\n          originalToolName: string;\n          modificationsBeforeFork: number;\n          forkReason?: \"customize\" | \"learn\" | \"remix\" | \"backup\" | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n  },\n  {\n    sessionId: string;\n    eventType: \"tool_forked\";\n    timestamp: Date;\n    eventId: string;\n    elementId?: string | undefined;\n    elementType?: string | undefined;\n    metadata?:\n      | {\n          originalToolId: string;\n          elementsCount: number;\n          originalToolName: string;\n          modificationsBeforeFork: number;\n          forkReason?: \"customize\" | \"learn\" | \"remix\" | \"backup\" | undefined;\n        }\n      | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    toolId?: string | undefined;\n    userAgent?: string | undefined;\n    toolName?: string | undefined;\n    userIdHash?: string | undefined;\n    toolVersion?: string | undefined;\n    toolStatus?: \"draft\" | \"preview\" | \"published\" | undefined;\n    elementVersion?: number | undefined;\n    viewport?:\n      | {\n          width: number;\n          height: number;\n        }\n      | undefined;\n    loadTime?: number | undefined;\n    renderTime?: number | undefined;\n    optedOut?: boolean | undefined;\n    anonymized?: boolean | undefined;\n  }\n>;\nexport declare const ElementPopularitySchema: z.ZodObject<\n  {\n    elementId: z.ZodString;\n    elementType: z.ZodString;\n    usageCount: z.ZodNumber;\n    configurationComplexity: z.ZodObject<\n      {\n        basic: z.ZodNumber;\n        advanced: z.ZodNumber;\n      },\n      \"strip\",\n      z.ZodTypeAny,\n      {\n        advanced: number;\n        basic: number;\n      },\n      {\n        advanced: number;\n        basic: number;\n      }\n    >;\n    popularPresets: z.ZodArray<\n      z.ZodObject<\n        {\n          presetId: z.ZodString;\n          usageCount: z.ZodNumber;\n        },\n        \"strip\",\n        z.ZodTypeAny,\n        {\n          usageCount: number;\n          presetId: string;\n        },\n        {\n          usageCount: number;\n          presetId: string;\n        }\n      >,\n      \"many\"\n    >;\n    averageConfigTime: z.ZodNumber;\n    errorRate: z.ZodNumber;\n    retentionRate: z.ZodNumber;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    elementId: string;\n    elementType: string;\n    usageCount: number;\n    configurationComplexity: {\n      advanced: number;\n      basic: number;\n    };\n    popularPresets: {\n      usageCount: number;\n      presetId: string;\n    }[];\n    averageConfigTime: number;\n    errorRate: number;\n    retentionRate: number;\n  },\n  {\n    elementId: string;\n    elementType: string;\n    usageCount: number;\n    configurationComplexity: {\n      advanced: number;\n      basic: number;\n    };\n    popularPresets: {\n      usageCount: number;\n      presetId: string;\n    }[];\n    averageConfigTime: number;\n    errorRate: number;\n    retentionRate: number;\n  }\n>;\nexport type ElementPopularity = z.infer<typeof ElementPopularitySchema>;\nexport declare const ToolPerformanceSchema: z.ZodObject<\n  {\n    toolId: z.ZodString;\n    metrics: z.ZodObject<\n      {\n        averageLoadTime: z.ZodNumber;\n        averageRenderTime: z.ZodNumber;\n        errorRate: z.ZodNumber;\n        completionRate: z.ZodNumber;\n        abandonmentRate: z.ZodNumber;\n        averageSessionDuration: z.ZodNumber;\n        elementsPerTool: z.ZodNumber;\n        configComplexityScore: z.ZodNumber;\n      },\n      \"strip\",\n      z.ZodTypeAny,\n      {\n        errorRate: number;\n        averageLoadTime: number;\n        averageRenderTime: number;\n        completionRate: number;\n        abandonmentRate: number;\n        averageSessionDuration: number;\n        elementsPerTool: number;\n        configComplexityScore: number;\n      },\n      {\n        errorRate: number;\n        averageLoadTime: number;\n        averageRenderTime: number;\n        completionRate: number;\n        abandonmentRate: number;\n        averageSessionDuration: number;\n        elementsPerTool: number;\n        configComplexityScore: number;\n      }\n    >;\n    timeframe: z.ZodObject<\n      {\n        start: z.ZodDate;\n        end: z.ZodDate;\n      },\n      \"strip\",\n      z.ZodTypeAny,\n      {\n        start: Date;\n        end: Date;\n      },\n      {\n        start: Date;\n        end: Date;\n      }\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    toolId: string;\n    metrics: {\n      errorRate: number;\n      averageLoadTime: number;\n      averageRenderTime: number;\n      completionRate: number;\n      abandonmentRate: number;\n      averageSessionDuration: number;\n      elementsPerTool: number;\n      configComplexityScore: number;\n    };\n    timeframe: {\n      start: Date;\n      end: Date;\n    };\n  },\n  {\n    toolId: string;\n    metrics: {\n      errorRate: number;\n      averageLoadTime: number;\n      averageRenderTime: number;\n      completionRate: number;\n      abandonmentRate: number;\n      averageSessionDuration: number;\n      elementsPerTool: number;\n      configComplexityScore: number;\n    };\n    timeframe: {\n      start: Date;\n      end: Date;\n    };\n  }\n>;\nexport type ToolPerformance = z.infer<typeof ToolPerformanceSchema>;\nexport declare const BuilderBehaviorSchema: z.ZodObject<\n  {\n    userIdHash: z.ZodString;\n    insights: z.ZodObject<\n      {\n        preferredElements: z.ZodArray<z.ZodString, \"many\">;\n        averageToolComplexity: z.ZodNumber;\n        buildingPatterns: z.ZodArray<z.ZodString, \"many\">;\n        commonMistakes: z.ZodArray<z.ZodString, \"many\">;\n        learningProgression: z.ZodObject<\n          {\n            beginnerElements: z.ZodNumber;\n            intermediateElements: z.ZodNumber;\n            advancedElements: z.ZodNumber;\n          },\n          \"strip\",\n          z.ZodTypeAny,\n          {\n            beginnerElements: number;\n            intermediateElements: number;\n            advancedElements: number;\n          },\n          {\n            beginnerElements: number;\n            intermediateElements: number;\n            advancedElements: number;\n          }\n        >;\n        collaborationStyle: z.ZodEnum<[\"solo\", \"collaborative\", \"mixed\"]>;\n        shareFrequency: z.ZodEnum<\n          [\"never\", \"rarely\", \"sometimes\", \"often\", \"always\"]\n        >;\n      },\n      \"strip\",\n      z.ZodTypeAny,\n      {\n        preferredElements: string[];\n        averageToolComplexity: number;\n        buildingPatterns: string[];\n        commonMistakes: string[];\n        learningProgression: {\n          beginnerElements: number;\n          intermediateElements: number;\n          advancedElements: number;\n        };\n        collaborationStyle: \"solo\" | \"collaborative\" | \"mixed\";\n        shareFrequency: \"never\" | \"rarely\" | \"sometimes\" | \"often\" | \"always\";\n      },\n      {\n        preferredElements: string[];\n        averageToolComplexity: number;\n        buildingPatterns: string[];\n        commonMistakes: string[];\n        learningProgression: {\n          beginnerElements: number;\n          intermediateElements: number;\n          advancedElements: number;\n        };\n        collaborationStyle: \"solo\" | \"collaborative\" | \"mixed\";\n        shareFrequency: \"never\" | \"rarely\" | \"sometimes\" | \"often\" | \"always\";\n      }\n    >;\n    timeframe: z.ZodObject<\n      {\n        start: z.ZodDate;\n        end: z.ZodDate;\n      },\n      \"strip\",\n      z.ZodTypeAny,\n      {\n        start: Date;\n        end: Date;\n      },\n      {\n        start: Date;\n        end: Date;\n      }\n    >;\n  },\n  \"strip\",\n  z.ZodTypeAny,\n  {\n    userIdHash: string;\n    timeframe: {\n      start: Date;\n      end: Date;\n    };\n    insights: {\n      preferredElements: string[];\n      averageToolComplexity: number;\n      buildingPatterns: string[];\n      commonMistakes: string[];\n      learningProgression: {\n        beginnerElements: number;\n        intermediateElements: number;\n        advancedElements: number;\n      };\n      collaborationStyle: \"solo\" | \"collaborative\" | \"mixed\";\n      shareFrequency: \"never\" | \"rarely\" | \"sometimes\" | \"often\" | \"always\";\n    };\n  },\n  {\n    userIdHash: string;\n    timeframe: {\n      start: Date;\n      end: Date;\n    };\n    insights: {\n      preferredElements: string[];\n      averageToolComplexity: number;\n      buildingPatterns: string[];\n      commonMistakes: string[];\n      learningProgression: {\n        beginnerElements: number;\n        intermediateElements: number;\n        advancedElements: number;\n      };\n      collaborationStyle: \"solo\" | \"collaborative\" | \"mixed\";\n      shareFrequency: \"never\" | \"rarely\" | \"sometimes\" | \"often\" | \"always\";\n    };\n  }\n>;\nexport type BuilderBehavior = z.infer<typeof BuilderBehaviorSchema>;\nexport declare const hashUserId: (userId: string) => string;\nexport declare const createAnalyticsEvent: (\n  eventType: CreationEventType,\n  context: {\n    userId?: string;\n    sessionId: string;\n    toolId?: string;\n    elementId?: string;\n    metadata?: Record<string, unknown>;\n  }\n) => CreationAnalyticsEvent;\nexport declare const shouldTrackEvent: (\n  eventType: CreationEventType,\n  userPreferences?: {\n    analyticsOptOut?: boolean;\n  }\n) => boolean;\nexport declare const batchAnalyticsEvents: (\n  events: CreationAnalyticsEvent[],\n  maxBatchSize?: number\n) => CreationAnalyticsEvent[][];\nexport declare const shouldRetainEvent: (\n  event: CreationAnalyticsEvent,\n  retentionDays?: number\n) => boolean;\n//# sourceMappingURL=creation.d.ts.map\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\creation.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\creation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\events.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\events.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\feed.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\feed.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\landing-events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\onboarding.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\onboarding.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\analytics\\onboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\auth\\emailLink.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\auth\\emailLink.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\auth\\emailLink.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\auth\\session-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\auth\\user-context.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'canvas' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":318,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":318,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from \"zod\";\r\n\r\n// User Context for Landing Page\r\nexport interface LandingUserContext {\r\n  id: string;\r\n  sessionId: string;\r\n  authentication: AuthenticationContext;\r\n  personalization: PersonalizationContext;\r\n  journey: UserJourneyContext;\r\n  preferences: ContextPreferences;\r\n  metadata: ContextMetadata;\r\n}\r\n\r\nexport interface AuthenticationContext {\r\n  isAuthenticated: boolean;\r\n  userType: \"guest\" | \"returning\" | \"verified\" | \"onboarding\";\r\n  loginStatus: \"anonymous\" | \"identified\" | \"authenticated\";\r\n  campus?: {\r\n    id: string;\r\n    name: string;\r\n    domain: string;\r\n    verified: boolean;\r\n  };\r\n}\r\n\r\nexport interface PersonalizationContext {\r\n  variant: \"default\" | \"returning-user\" | \"campus-specific\" | \"high-intent\";\r\n  content: {\r\n    heroVariant: \"minimal\" | \"animated\" | \"bold\";\r\n    ctaText: string;\r\n    messaging: \"general\" | \"campus-focused\" | \"feature-focused\";\r\n  };\r\n  targeting: {\r\n    cohort?: string;\r\n    segment?: string;\r\n    abTestVariants: Record<string, string>;\r\n  };\r\n}\r\n\r\nexport interface UserJourneyContext {\r\n  stage: \"discovery\" | \"consideration\" | \"intent\" | \"signup\" | \"onboarding\";\r\n  touchpoints: TouchPoint[];\r\n  source: TrafficSource;\r\n  intent: IntentSignals;\r\n  engagement: EngagementMetrics;\r\n}\r\n\r\nexport interface TouchPoint {\r\n  timestamp: Date;\r\n  type: \"page_view\" | \"click\" | \"form_interaction\" | \"scroll\" | \"time_spent\";\r\n  page: string;\r\n  action?: string;\r\n  value?: number;\r\n}\r\n\r\nexport interface TrafficSource {\r\n  channel: \"organic\" | \"paid\" | \"social\" | \"email\" | \"direct\" | \"referral\";\r\n  source: string;\r\n  medium: string;\r\n  campaign?: string;\r\n  term?: string;\r\n  content?: string;\r\n}\r\n\r\nexport interface IntentSignals {\r\n  emailProvided: boolean;\r\n  formStarted: boolean;\r\n  timeOnSite: number;\r\n  pageDepth: number;\r\n  ctaClicks: number;\r\n  scrollDepth: number;\r\n  returnVisitor: boolean;\r\n}\r\n\r\nexport interface EngagementMetrics {\r\n  sessionDuration: number;\r\n  pageViews: number;\r\n  interactions: number;\r\n  bounceRate: number;\r\n  lastActive: Date;\r\n}\r\n\r\nexport interface ContextPreferences {\r\n  theme: \"light\" | \"dark\" | \"system\";\r\n  reducedMotion: boolean;\r\n  language: string;\r\n  timezone: string;\r\n  cookieConsent: boolean;\r\n  emailOptIn: boolean;\r\n}\r\n\r\nexport interface ContextMetadata {\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  version: string;\r\n  fingerprint: string;\r\n  device: {\r\n    type: \"desktop\" | \"mobile\" | \"tablet\";\r\n    os: string;\r\n    browser: string;\r\n  };\r\n  location: {\r\n    country?: string;\r\n    region?: string;\r\n    timezone: string;\r\n  };\r\n}\r\n\r\n// Zod Schemas\r\nexport const authenticationContextSchema = z.object({\r\n  isAuthenticated: z.boolean(),\r\n  userType: z.enum([\"guest\", \"returning\", \"verified\", \"onboarding\"]),\r\n  loginStatus: z.enum([\"anonymous\", \"identified\", \"authenticated\"]),\r\n  campus: z\r\n    .object({\r\n      id: z.string().uuid(),\r\n      name: z.string(),\r\n      domain: z.string().includes(\".edu\"),\r\n      verified: z.boolean(),\r\n    })\r\n    .optional(),\r\n});\r\n\r\nexport const personalizationContextSchema = z.object({\r\n  variant: z.enum([\r\n    \"default\",\r\n    \"returning-user\",\r\n    \"campus-specific\",\r\n    \"high-intent\",\r\n  ]),\r\n  content: z.object({\r\n    heroVariant: z.enum([\"minimal\", \"animated\", \"bold\"]),\r\n    ctaText: z.string(),\r\n    messaging: z.enum([\"general\", \"campus-focused\", \"feature-focused\"]),\r\n  }),\r\n  targeting: z.object({\r\n    cohort: z.string().optional(),\r\n    segment: z.string().optional(),\r\n    abTestVariants: z.record(z.string()),\r\n  }),\r\n});\r\n\r\nexport const userJourneyContextSchema = z.object({\r\n  stage: z.enum([\r\n    \"discovery\",\r\n    \"consideration\",\r\n    \"intent\",\r\n    \"signup\",\r\n    \"onboarding\",\r\n  ]),\r\n  touchpoints: z.array(\r\n    z.object({\r\n      timestamp: z.date(),\r\n      type: z.enum([\r\n        \"page_view\",\r\n        \"click\",\r\n        \"form_interaction\",\r\n        \"scroll\",\r\n        \"time_spent\",\r\n      ]),\r\n      page: z.string(),\r\n      action: z.string().optional(),\r\n      value: z.number().optional(),\r\n    })\r\n  ),\r\n  source: z.object({\r\n    channel: z.enum([\r\n      \"organic\",\r\n      \"paid\",\r\n      \"social\",\r\n      \"email\",\r\n      \"direct\",\r\n      \"referral\",\r\n    ]),\r\n    source: z.string(),\r\n    medium: z.string(),\r\n    campaign: z.string().optional(),\r\n    term: z.string().optional(),\r\n    content: z.string().optional(),\r\n  }),\r\n  intent: z.object({\r\n    emailProvided: z.boolean(),\r\n    formStarted: z.boolean(),\r\n    timeOnSite: z.number().min(0),\r\n    pageDepth: z.number().min(0),\r\n    ctaClicks: z.number().min(0),\r\n    scrollDepth: z.number().min(0).max(100),\r\n    returnVisitor: z.boolean(),\r\n  }),\r\n  engagement: z.object({\r\n    sessionDuration: z.number().min(0),\r\n    pageViews: z.number().min(0),\r\n    interactions: z.number().min(0),\r\n    bounceRate: z.number().min(0).max(1),\r\n    lastActive: z.date(),\r\n  }),\r\n});\r\n\r\nexport const landingUserContextSchema = z.object({\r\n  id: z.string().uuid(),\r\n  sessionId: z.string().uuid(),\r\n  authentication: authenticationContextSchema,\r\n  personalization: personalizationContextSchema,\r\n  journey: userJourneyContextSchema,\r\n  preferences: z.object({\r\n    theme: z.enum([\"light\", \"dark\", \"system\"]),\r\n    reducedMotion: z.boolean(),\r\n    language: z.string().length(2),\r\n    timezone: z.string(),\r\n    cookieConsent: z.boolean(),\r\n    emailOptIn: z.boolean(),\r\n  }),\r\n  metadata: z.object({\r\n    createdAt: z.date(),\r\n    updatedAt: z.date(),\r\n    version: z.string().regex(/^\\d+\\.\\d+\\.\\d+$/),\r\n    fingerprint: z.string(),\r\n    device: z.object({\r\n      type: z.enum([\"desktop\", \"mobile\", \"tablet\"]),\r\n      os: z.string(),\r\n      browser: z.string(),\r\n    }),\r\n    location: z.object({\r\n      country: z.string().optional(),\r\n      region: z.string().optional(),\r\n      timezone: z.string(),\r\n    }),\r\n  }),\r\n});\r\n\r\n// Validation Functions\r\nexport function validateLandingUserContext(\r\n  context: unknown\r\n): LandingUserContext {\r\n  return landingUserContextSchema.parse(context);\r\n}\r\n\r\nexport function isValidLandingUserContext(\r\n  context: unknown\r\n): context is LandingUserContext {\r\n  return landingUserContextSchema.safeParse(context).success;\r\n}\r\n\r\n// Factory Functions\r\nexport function createGuestUserContext(sessionId: string): LandingUserContext {\r\n  return {\r\n    id: crypto.randomUUID(),\r\n    sessionId,\r\n    authentication: {\r\n      isAuthenticated: false,\r\n      userType: \"guest\",\r\n      loginStatus: \"anonymous\",\r\n    },\r\n    personalization: {\r\n      variant: \"default\",\r\n      content: {\r\n        heroVariant: \"animated\",\r\n        ctaText: \"Join now\",\r\n        messaging: \"general\",\r\n      },\r\n      targeting: {\r\n        abTestVariants: {},\r\n      },\r\n    },\r\n    journey: {\r\n      stage: \"discovery\",\r\n      touchpoints: [],\r\n      source: {\r\n        channel: \"direct\",\r\n        source: \"direct\",\r\n        medium: \"none\",\r\n      },\r\n      intent: {\r\n        emailProvided: false,\r\n        formStarted: false,\r\n        timeOnSite: 0,\r\n        pageDepth: 1,\r\n        ctaClicks: 0,\r\n        scrollDepth: 0,\r\n        returnVisitor: false,\r\n      },\r\n      engagement: {\r\n        sessionDuration: 0,\r\n        pageViews: 1,\r\n        interactions: 0,\r\n        bounceRate: 0,\r\n        lastActive: new Date(),\r\n      },\r\n    },\r\n    preferences: {\r\n      theme: \"dark\",\r\n      reducedMotion: false,\r\n      language: \"en\",\r\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n      cookieConsent: false,\r\n      emailOptIn: false,\r\n    },\r\n    metadata: {\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n      version: \"1.0.0\",\r\n      fingerprint: generateFingerprint(),\r\n      device: {\r\n        type: \"desktop\",\r\n        os: \"unknown\",\r\n        browser: \"unknown\",\r\n      },\r\n      location: {\r\n        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n// Helper Functions\r\nfunction generateFingerprint(): string {\r\n  // Simple fingerprinting - in production, use more sophisticated method\r\n  const canvas =\r\n    typeof document !== \"undefined\" ? document.createElement(\"canvas\") : null;\r\n  const screen = typeof window !== \"undefined\" ? window.screen : null;\r\n  const navigator = typeof window !== \"undefined\" ? window.navigator : null;\r\n\r\n  const components = [\r\n    navigator?.userAgent || \"unknown\",\r\n    navigator?.language || \"unknown\",\r\n    screen?.width || 0,\r\n    screen?.height || 0,\r\n    new Date().getTimezoneOffset(),\r\n  ];\r\n\r\n  return btoa(components.join(\"|\")).slice(0, 16);\r\n}\r\n\r\n// Context Service Interface\r\nexport interface UserContextService {\r\n  getContext(sessionId: string): Promise<LandingUserContext>;\r\n  updateContext(\r\n    sessionId: string,\r\n    updates: Partial<LandingUserContext>\r\n  ): Promise<LandingUserContext>;\r\n  trackTouchpoint(sessionId: string, touchpoint: TouchPoint): Promise<void>;\r\n  updateIntent(\r\n    sessionId: string,\r\n    intent: Partial<IntentSignals>\r\n  ): Promise<void>;\r\n  updateEngagement(\r\n    sessionId: string,\r\n    engagement: Partial<EngagementMetrics>\r\n  ): Promise<void>;\r\n  personalizeContent(context: LandingUserContext): PersonalizationContext;\r\n  determineJourneyStage(\r\n    context: LandingUserContext\r\n  ): UserJourneyContext[\"stage\"];\r\n}\r\n\r\n// UserContextService interface is already exported above\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\creation\\element.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\creation\\element.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\creation\\element.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\creation\\posting.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1146,1149],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1146,1149],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Content processing utilities\r\nexport class ContentProcessor {\r\n  static processText(text: string): string {\r\n    return text.trim();\r\n  }\r\n\r\n  static extractMentions(text: string): string[] {\r\n    const mentions = text.match(/@[\\w]+/g) || [];\r\n    return mentions.map((mention) => mention.slice(1));\r\n  }\r\n\r\n  static extractHashtags(text: string): string[] {\r\n    const hashtags = text.match(/#[\\w]+/g) || [];\r\n    return hashtags.map((tag) => tag.slice(1));\r\n  }\r\n\r\n  static sanitizeContent(content: string): string {\r\n    return content.replace(\r\n      /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\r\n      \"\"\r\n    );\r\n  }\r\n}\r\n\r\n// Post validation utilities\r\nexport class PostValidator {\r\n  static validateContent(content: string): {\r\n    isValid: boolean;\r\n    errors: string[];\r\n  } {\r\n    const errors: string[] = [];\r\n\r\n    if (!content.trim()) {\r\n      errors.push(\"Content cannot be empty\");\r\n    }\r\n\r\n    if (content.length > 2000) {\r\n      errors.push(\"Content exceeds maximum length of 2000 characters\");\r\n    }\r\n\r\n    return {\r\n      isValid: errors.length === 0,\r\n      errors,\r\n    };\r\n  }\r\n\r\n  static validatePost(post: any): { isValid: boolean; errors: string[] } {\r\n    const errors: string[] = [];\r\n\r\n    if (!post.content) {\r\n      errors.push(\"Post must have content\");\r\n    }\r\n\r\n    if (!post.authorId) {\r\n      errors.push(\"Post must have an author\");\r\n    }\r\n\r\n    return {\r\n      isValid: errors.length === 0,\r\n      errors,\r\n    };\r\n  }\r\n}\r\n\r\n// Draft management\r\nexport class DraftManager {\r\n  static saveDraft(content: string, key: string = \"default\"): void {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(`hive_draft_${key}`, content);\r\n    }\r\n  }\r\n\r\n  static loadDraft(key: string = \"default\"): string | null {\r\n    if (typeof window !== \"undefined\") {\r\n      return localStorage.getItem(`hive_draft_${key}`);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static clearDraft(key: string = \"default\"): void {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.removeItem(`hive_draft_${key}`);\r\n    }\r\n  }\r\n\r\n  static generateDraftId(): string {\r\n    return `draft_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  static getDraftKey(userId?: string): string {\r\n    return userId ? `user_${userId}_draft` : \"anonymous_draft\";\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\creation\\tool.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1345,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1345,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[52011,52014],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[52011,52014],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1360,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1360,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[52483,52486],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[52483,52486],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1390,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1390,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[53601,53604],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[53601,53604],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1398,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1398,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[53844,53847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[53844,53847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from 'zod';\nimport { type ElementInstance } from './element';\nexport declare const ToolStatus: z.ZodEnum<[\"draft\", \"preview\", \"published\"]>;\nexport type ToolStatus = z.infer<typeof ToolStatus>;\nexport declare const ToolPermission: z.ZodEnum<[\"view\", \"comment\", \"edit\"]>;\nexport type ToolPermission = z.infer<typeof ToolPermission>;\nexport declare const ToolCollaboratorSchema: z.ZodObject<{\n    userId: z.ZodString;\n    permission: z.ZodEnum<[\"view\", \"comment\", \"edit\"]>;\n    addedAt: z.ZodDate;\n    addedBy: z.ZodString;\n}, \"strip\", z.ZodTypeAny, {\n    userId: string;\n    permission: \"view\" | \"comment\" | \"edit\";\n    addedAt: Date;\n    addedBy: string;\n}, {\n    userId: string;\n    permission: \"view\" | \"comment\" | \"edit\";\n    addedAt: Date;\n    addedBy: string;\n}>;\nexport declare const ToolMetadataSchema: z.ZodObject<{\n    tags: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n    difficulty: z.ZodOptional<z.ZodEnum<[\"beginner\", \"intermediate\", \"advanced\"]>>;\n    estimatedTime: z.ZodOptional<z.ZodNumber>;\n    category: z.ZodOptional<z.ZodString>;\n    language: z.ZodDefault<z.ZodString>;\n}, \"strip\", z.ZodTypeAny, {\n    language: string;\n    tags?: string[] | undefined;\n    category?: string | undefined;\n    difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n    estimatedTime?: number | undefined;\n}, {\n    tags?: string[] | undefined;\n    category?: string | undefined;\n    difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n    estimatedTime?: number | undefined;\n    language?: string | undefined;\n}>;\nexport declare const ToolDataSchemaSchema: z.ZodObject<{\n    fields: z.ZodArray<z.ZodObject<{\n        name: z.ZodString;\n        type: z.ZodEnum<[\"string\", \"number\", \"boolean\", \"date\", \"array\", \"object\"]>;\n        required: z.ZodDefault<z.ZodBoolean>;\n        validation: z.ZodOptional<z.ZodObject<{\n            min: z.ZodOptional<z.ZodNumber>;\n            max: z.ZodOptional<z.ZodNumber>;\n            pattern: z.ZodOptional<z.ZodString>;\n            enum: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n        }, \"strip\", z.ZodTypeAny, {\n            pattern?: string | undefined;\n            max?: number | undefined;\n            min?: number | undefined;\n            enum?: string[] | undefined;\n        }, {\n            pattern?: string | undefined;\n            max?: number | undefined;\n            min?: number | undefined;\n            enum?: string[] | undefined;\n        }>>;\n    }, \"strip\", z.ZodTypeAny, {\n        type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n        required: boolean;\n        name: string;\n        validation?: {\n            pattern?: string | undefined;\n            max?: number | undefined;\n            min?: number | undefined;\n            enum?: string[] | undefined;\n        } | undefined;\n    }, {\n        type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n        name: string;\n        validation?: {\n            pattern?: string | undefined;\n            max?: number | undefined;\n            min?: number | undefined;\n            enum?: string[] | undefined;\n        } | undefined;\n        required?: boolean | undefined;\n    }>, \"many\">;\n    maxRecords: z.ZodDefault<z.ZodNumber>;\n    allowAnonymous: z.ZodDefault<z.ZodBoolean>;\n}, \"strip\", z.ZodTypeAny, {\n    fields: {\n        type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n        required: boolean;\n        name: string;\n        validation?: {\n            pattern?: string | undefined;\n            max?: number | undefined;\n            min?: number | undefined;\n            enum?: string[] | undefined;\n        } | undefined;\n    }[];\n    maxRecords: number;\n    allowAnonymous: boolean;\n}, {\n    fields: {\n        type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n        name: string;\n        validation?: {\n            pattern?: string | undefined;\n            max?: number | undefined;\n            min?: number | undefined;\n            enum?: string[] | undefined;\n        } | undefined;\n        required?: boolean | undefined;\n    }[];\n    maxRecords?: number | undefined;\n    allowAnonymous?: boolean | undefined;\n}>;\nexport declare const ToolConfigSchema: z.ZodObject<{\n    theme: z.ZodDefault<z.ZodEnum<[\"light\", \"dark\", \"auto\"]>>;\n    primaryColor: z.ZodDefault<z.ZodString>;\n    backgroundColor: z.ZodDefault<z.ZodString>;\n    allowMultipleSubmissions: z.ZodDefault<z.ZodBoolean>;\n    requireAuthentication: z.ZodDefault<z.ZodBoolean>;\n    showProgressBar: z.ZodDefault<z.ZodBoolean>;\n    autoSave: z.ZodDefault<z.ZodBoolean>;\n    dataSchema: z.ZodOptional<z.ZodObject<{\n        fields: z.ZodArray<z.ZodObject<{\n            name: z.ZodString;\n            type: z.ZodEnum<[\"string\", \"number\", \"boolean\", \"date\", \"array\", \"object\"]>;\n            required: z.ZodDefault<z.ZodBoolean>;\n            validation: z.ZodOptional<z.ZodObject<{\n                min: z.ZodOptional<z.ZodNumber>;\n                max: z.ZodOptional<z.ZodNumber>;\n                pattern: z.ZodOptional<z.ZodString>;\n                enum: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n            }, \"strip\", z.ZodTypeAny, {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            }, {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            }>>;\n        }, \"strip\", z.ZodTypeAny, {\n            type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n            required: boolean;\n            name: string;\n            validation?: {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            } | undefined;\n        }, {\n            type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n            name: string;\n            validation?: {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            } | undefined;\n            required?: boolean | undefined;\n        }>, \"many\">;\n        maxRecords: z.ZodDefault<z.ZodNumber>;\n        allowAnonymous: z.ZodDefault<z.ZodBoolean>;\n    }, \"strip\", z.ZodTypeAny, {\n        fields: {\n            type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n            required: boolean;\n            name: string;\n            validation?: {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            } | undefined;\n        }[];\n        maxRecords: number;\n        allowAnonymous: boolean;\n    }, {\n        fields: {\n            type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n            name: string;\n            validation?: {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            } | undefined;\n            required?: boolean | undefined;\n        }[];\n        maxRecords?: number | undefined;\n        allowAnonymous?: boolean | undefined;\n    }>>;\n    dataRetentionDays: z.ZodDefault<z.ZodNumber>;\n    notifyOnSubmission: z.ZodDefault<z.ZodBoolean>;\n    notificationEmail: z.ZodOptional<z.ZodString>;\n    trackingEnabled: z.ZodDefault<z.ZodBoolean>;\n    allowAnalyticsOptOut: z.ZodDefault<z.ZodBoolean>;\n}, \"strip\", z.ZodTypeAny, {\n    backgroundColor: string;\n    theme: \"auto\" | \"light\" | \"dark\";\n    primaryColor: string;\n    allowMultipleSubmissions: boolean;\n    requireAuthentication: boolean;\n    showProgressBar: boolean;\n    autoSave: boolean;\n    dataRetentionDays: number;\n    notifyOnSubmission: boolean;\n    trackingEnabled: boolean;\n    allowAnalyticsOptOut: boolean;\n    dataSchema?: {\n        fields: {\n            type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n            required: boolean;\n            name: string;\n            validation?: {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            } | undefined;\n        }[];\n        maxRecords: number;\n        allowAnonymous: boolean;\n    } | undefined;\n    notificationEmail?: string | undefined;\n}, {\n    backgroundColor?: string | undefined;\n    theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n    primaryColor?: string | undefined;\n    allowMultipleSubmissions?: boolean | undefined;\n    requireAuthentication?: boolean | undefined;\n    showProgressBar?: boolean | undefined;\n    autoSave?: boolean | undefined;\n    dataSchema?: {\n        fields: {\n            type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n            name: string;\n            validation?: {\n                pattern?: string | undefined;\n                max?: number | undefined;\n                min?: number | undefined;\n                enum?: string[] | undefined;\n            } | undefined;\n            required?: boolean | undefined;\n        }[];\n        maxRecords?: number | undefined;\n        allowAnonymous?: boolean | undefined;\n    } | undefined;\n    dataRetentionDays?: number | undefined;\n    notifyOnSubmission?: boolean | undefined;\n    notificationEmail?: string | undefined;\n    trackingEnabled?: boolean | undefined;\n    allowAnalyticsOptOut?: boolean | undefined;\n}>;\nexport declare const ToolVersionSchema: z.ZodObject<{\n    version: z.ZodString;\n    changelog: z.ZodOptional<z.ZodString>;\n    createdAt: z.ZodDate;\n    createdBy: z.ZodString;\n    isStable: z.ZodDefault<z.ZodBoolean>;\n    deprecatedAt: z.ZodOptional<z.ZodDate>;\n}, \"strip\", z.ZodTypeAny, {\n    version: string;\n    createdAt: Date;\n    createdBy: string;\n    isStable: boolean;\n    changelog?: string | undefined;\n    deprecatedAt?: Date | undefined;\n}, {\n    version: string;\n    createdAt: Date;\n    createdBy: string;\n    changelog?: string | undefined;\n    isStable?: boolean | undefined;\n    deprecatedAt?: Date | undefined;\n}>;\nexport declare const ToolSchema: z.ZodObject<{\n    id: z.ZodString;\n    name: z.ZodString;\n    description: z.ZodString;\n    ownerId: z.ZodString;\n    collaborators: z.ZodDefault<z.ZodArray<z.ZodObject<{\n        userId: z.ZodString;\n        permission: z.ZodEnum<[\"view\", \"comment\", \"edit\"]>;\n        addedAt: z.ZodDate;\n        addedBy: z.ZodString;\n    }, \"strip\", z.ZodTypeAny, {\n        userId: string;\n        permission: \"view\" | \"comment\" | \"edit\";\n        addedAt: Date;\n        addedBy: string;\n    }, {\n        userId: string;\n        permission: \"view\" | \"comment\" | \"edit\";\n        addedAt: Date;\n        addedBy: string;\n    }>, \"many\">>;\n    status: z.ZodDefault<z.ZodEnum<[\"draft\", \"preview\", \"published\"]>>;\n    currentVersion: z.ZodDefault<z.ZodString>;\n    versions: z.ZodDefault<z.ZodArray<z.ZodObject<{\n        version: z.ZodString;\n        changelog: z.ZodOptional<z.ZodString>;\n        createdAt: z.ZodDate;\n        createdBy: z.ZodString;\n        isStable: z.ZodDefault<z.ZodBoolean>;\n        deprecatedAt: z.ZodOptional<z.ZodDate>;\n    }, \"strip\", z.ZodTypeAny, {\n        version: string;\n        createdAt: Date;\n        createdBy: string;\n        isStable: boolean;\n        changelog?: string | undefined;\n        deprecatedAt?: Date | undefined;\n    }, {\n        version: string;\n        createdAt: Date;\n        createdBy: string;\n        changelog?: string | undefined;\n        isStable?: boolean | undefined;\n        deprecatedAt?: Date | undefined;\n    }>, \"many\">>;\n    elements: z.ZodArray<z.ZodObject<{\n        id: z.ZodString;\n        elementId: z.ZodString;\n        config: z.ZodUnknown;\n        position: z.ZodObject<{\n            x: z.ZodNumber;\n            y: z.ZodNumber;\n            width: z.ZodOptional<z.ZodNumber>;\n            height: z.ZodOptional<z.ZodNumber>;\n        }, \"strip\", z.ZodTypeAny, {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        }, {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        }>;\n        parentId: z.ZodOptional<z.ZodString>;\n        order: z.ZodNumber;\n        isVisible: z.ZodDefault<z.ZodBoolean>;\n        isLocked: z.ZodDefault<z.ZodBoolean>;\n    }, \"strip\", z.ZodTypeAny, {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        isVisible: boolean;\n        isLocked: boolean;\n        config?: unknown;\n        parentId?: string | undefined;\n    }, {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        config?: unknown;\n        parentId?: string | undefined;\n        isVisible?: boolean | undefined;\n        isLocked?: boolean | undefined;\n    }>, \"many\">;\n    config: z.ZodDefault<z.ZodObject<{\n        theme: z.ZodDefault<z.ZodEnum<[\"light\", \"dark\", \"auto\"]>>;\n        primaryColor: z.ZodDefault<z.ZodString>;\n        backgroundColor: z.ZodDefault<z.ZodString>;\n        allowMultipleSubmissions: z.ZodDefault<z.ZodBoolean>;\n        requireAuthentication: z.ZodDefault<z.ZodBoolean>;\n        showProgressBar: z.ZodDefault<z.ZodBoolean>;\n        autoSave: z.ZodDefault<z.ZodBoolean>;\n        dataSchema: z.ZodOptional<z.ZodObject<{\n            fields: z.ZodArray<z.ZodObject<{\n                name: z.ZodString;\n                type: z.ZodEnum<[\"string\", \"number\", \"boolean\", \"date\", \"array\", \"object\"]>;\n                required: z.ZodDefault<z.ZodBoolean>;\n                validation: z.ZodOptional<z.ZodObject<{\n                    min: z.ZodOptional<z.ZodNumber>;\n                    max: z.ZodOptional<z.ZodNumber>;\n                    pattern: z.ZodOptional<z.ZodString>;\n                    enum: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n                }, \"strip\", z.ZodTypeAny, {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                }, {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                }>>;\n            }, \"strip\", z.ZodTypeAny, {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }, {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }>, \"many\">;\n            maxRecords: z.ZodDefault<z.ZodNumber>;\n            allowAnonymous: z.ZodDefault<z.ZodBoolean>;\n        }, \"strip\", z.ZodTypeAny, {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        }, {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        }>>;\n        dataRetentionDays: z.ZodDefault<z.ZodNumber>;\n        notifyOnSubmission: z.ZodDefault<z.ZodBoolean>;\n        notificationEmail: z.ZodOptional<z.ZodString>;\n        trackingEnabled: z.ZodDefault<z.ZodBoolean>;\n        allowAnalyticsOptOut: z.ZodDefault<z.ZodBoolean>;\n    }, \"strip\", z.ZodTypeAny, {\n        backgroundColor: string;\n        theme: \"auto\" | \"light\" | \"dark\";\n        primaryColor: string;\n        allowMultipleSubmissions: boolean;\n        requireAuthentication: boolean;\n        showProgressBar: boolean;\n        autoSave: boolean;\n        dataRetentionDays: number;\n        notifyOnSubmission: boolean;\n        trackingEnabled: boolean;\n        allowAnalyticsOptOut: boolean;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        } | undefined;\n        notificationEmail?: string | undefined;\n    }, {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    }>>;\n    metadata: z.ZodDefault<z.ZodObject<{\n        tags: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n        difficulty: z.ZodOptional<z.ZodEnum<[\"beginner\", \"intermediate\", \"advanced\"]>>;\n        estimatedTime: z.ZodOptional<z.ZodNumber>;\n        category: z.ZodOptional<z.ZodString>;\n        language: z.ZodDefault<z.ZodString>;\n    }, \"strip\", z.ZodTypeAny, {\n        language: string;\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n    }, {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    }>>;\n    isPublic: z.ZodDefault<z.ZodBoolean>;\n    shareToken: z.ZodOptional<z.ZodString>;\n    forkCount: z.ZodDefault<z.ZodNumber>;\n    originalToolId: z.ZodOptional<z.ZodString>;\n    viewCount: z.ZodDefault<z.ZodNumber>;\n    useCount: z.ZodDefault<z.ZodNumber>;\n    rating: z.ZodOptional<z.ZodNumber>;\n    ratingCount: z.ZodDefault<z.ZodNumber>;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodDefault<z.ZodBoolean>;\n    createdAt: z.ZodDate;\n    updatedAt: z.ZodDate;\n    publishedAt: z.ZodOptional<z.ZodDate>;\n    lastUsedAt: z.ZodOptional<z.ZodDate>;\n}, \"strip\", z.ZodTypeAny, {\n    status: \"draft\" | \"preview\" | \"published\";\n    id: string;\n    config: {\n        backgroundColor: string;\n        theme: \"auto\" | \"light\" | \"dark\";\n        primaryColor: string;\n        allowMultipleSubmissions: boolean;\n        requireAuthentication: boolean;\n        showProgressBar: boolean;\n        autoSave: boolean;\n        dataRetentionDays: number;\n        notifyOnSubmission: boolean;\n        trackingEnabled: boolean;\n        allowAnalyticsOptOut: boolean;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        } | undefined;\n        notificationEmail?: string | undefined;\n    };\n    name: string;\n    description: string;\n    createdAt: Date;\n    updatedAt: Date;\n    ownerId: string;\n    collaborators: {\n        userId: string;\n        permission: \"view\" | \"comment\" | \"edit\";\n        addedAt: Date;\n        addedBy: string;\n    }[];\n    currentVersion: string;\n    versions: {\n        version: string;\n        createdAt: Date;\n        createdBy: string;\n        isStable: boolean;\n        changelog?: string | undefined;\n        deprecatedAt?: Date | undefined;\n    }[];\n    elements: {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        isVisible: boolean;\n        isLocked: boolean;\n        config?: unknown;\n        parentId?: string | undefined;\n    }[];\n    metadata: {\n        language: string;\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n    };\n    isPublic: boolean;\n    forkCount: number;\n    viewCount: number;\n    useCount: number;\n    ratingCount: number;\n    isSpaceTool: boolean;\n    shareToken?: string | undefined;\n    originalToolId?: string | undefined;\n    rating?: number | undefined;\n    spaceId?: string | undefined;\n    publishedAt?: Date | undefined;\n    lastUsedAt?: Date | undefined;\n}, {\n    id: string;\n    name: string;\n    description: string;\n    createdAt: Date;\n    updatedAt: Date;\n    ownerId: string;\n    elements: {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        config?: unknown;\n        parentId?: string | undefined;\n        isVisible?: boolean | undefined;\n        isLocked?: boolean | undefined;\n    }[];\n    status?: \"draft\" | \"preview\" | \"published\" | undefined;\n    config?: {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    } | undefined;\n    collaborators?: {\n        userId: string;\n        permission: \"view\" | \"comment\" | \"edit\";\n        addedAt: Date;\n        addedBy: string;\n    }[] | undefined;\n    currentVersion?: string | undefined;\n    versions?: {\n        version: string;\n        createdAt: Date;\n        createdBy: string;\n        changelog?: string | undefined;\n        isStable?: boolean | undefined;\n        deprecatedAt?: Date | undefined;\n    }[] | undefined;\n    metadata?: {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    } | undefined;\n    isPublic?: boolean | undefined;\n    shareToken?: string | undefined;\n    forkCount?: number | undefined;\n    originalToolId?: string | undefined;\n    viewCount?: number | undefined;\n    useCount?: number | undefined;\n    rating?: number | undefined;\n    ratingCount?: number | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n    publishedAt?: Date | undefined;\n    lastUsedAt?: Date | undefined;\n}>;\nexport type Tool = z.infer<typeof ToolSchema>;\nexport type ToolCollaborator = z.infer<typeof ToolCollaboratorSchema>;\nexport type ToolMetadata = z.infer<typeof ToolMetadataSchema>;\nexport type ToolConfig = z.infer<typeof ToolConfigSchema>;\nexport type ToolVersion = z.infer<typeof ToolVersionSchema>;\nexport declare const CreateToolSchema: z.ZodObject<{\n    name: z.ZodString;\n    description: z.ZodString;\n    spaceId: z.ZodOptional<z.ZodString>;\n    isSpaceTool: z.ZodDefault<z.ZodBoolean>;\n    config: z.ZodOptional<z.ZodObject<{\n        theme: z.ZodOptional<z.ZodDefault<z.ZodEnum<[\"light\", \"dark\", \"auto\"]>>>;\n        primaryColor: z.ZodOptional<z.ZodDefault<z.ZodString>>;\n        backgroundColor: z.ZodOptional<z.ZodDefault<z.ZodString>>;\n        allowMultipleSubmissions: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        requireAuthentication: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        showProgressBar: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        autoSave: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        dataSchema: z.ZodOptional<z.ZodOptional<z.ZodObject<{\n            fields: z.ZodArray<z.ZodObject<{\n                name: z.ZodString;\n                type: z.ZodEnum<[\"string\", \"number\", \"boolean\", \"date\", \"array\", \"object\"]>;\n                required: z.ZodDefault<z.ZodBoolean>;\n                validation: z.ZodOptional<z.ZodObject<{\n                    min: z.ZodOptional<z.ZodNumber>;\n                    max: z.ZodOptional<z.ZodNumber>;\n                    pattern: z.ZodOptional<z.ZodString>;\n                    enum: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n                }, \"strip\", z.ZodTypeAny, {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                }, {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                }>>;\n            }, \"strip\", z.ZodTypeAny, {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }, {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }>, \"many\">;\n            maxRecords: z.ZodDefault<z.ZodNumber>;\n            allowAnonymous: z.ZodDefault<z.ZodBoolean>;\n        }, \"strip\", z.ZodTypeAny, {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        }, {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        }>>>;\n        dataRetentionDays: z.ZodOptional<z.ZodDefault<z.ZodNumber>>;\n        notifyOnSubmission: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        notificationEmail: z.ZodOptional<z.ZodOptional<z.ZodString>>;\n        trackingEnabled: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        allowAnalyticsOptOut: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n    }, \"strip\", z.ZodTypeAny, {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    }, {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    }>>;\n    metadata: z.ZodOptional<z.ZodObject<{\n        tags: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>>;\n        difficulty: z.ZodOptional<z.ZodOptional<z.ZodEnum<[\"beginner\", \"intermediate\", \"advanced\"]>>>;\n        estimatedTime: z.ZodOptional<z.ZodOptional<z.ZodNumber>>;\n        category: z.ZodOptional<z.ZodOptional<z.ZodString>>;\n        language: z.ZodOptional<z.ZodDefault<z.ZodString>>;\n    }, \"strip\", z.ZodTypeAny, {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    }, {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    }>>;\n}, \"strip\", z.ZodTypeAny, {\n    name: string;\n    description: string;\n    isSpaceTool: boolean;\n    config?: {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    } | undefined;\n    metadata?: {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    } | undefined;\n    spaceId?: string | undefined;\n}, {\n    name: string;\n    description: string;\n    config?: {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    } | undefined;\n    metadata?: {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    } | undefined;\n    spaceId?: string | undefined;\n    isSpaceTool?: boolean | undefined;\n}>;\nexport type CreateTool = z.infer<typeof CreateToolSchema>;\nexport declare const UpdateToolSchema: z.ZodObject<{\n    name: z.ZodOptional<z.ZodString>;\n    description: z.ZodOptional<z.ZodString>;\n    elements: z.ZodOptional<z.ZodArray<z.ZodObject<{\n        id: z.ZodString;\n        elementId: z.ZodString;\n        config: z.ZodUnknown;\n        position: z.ZodObject<{\n            x: z.ZodNumber;\n            y: z.ZodNumber;\n            width: z.ZodOptional<z.ZodNumber>;\n            height: z.ZodOptional<z.ZodNumber>;\n        }, \"strip\", z.ZodTypeAny, {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        }, {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        }>;\n        parentId: z.ZodOptional<z.ZodString>;\n        order: z.ZodNumber;\n        isVisible: z.ZodDefault<z.ZodBoolean>;\n        isLocked: z.ZodDefault<z.ZodBoolean>;\n    }, \"strip\", z.ZodTypeAny, {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        isVisible: boolean;\n        isLocked: boolean;\n        config?: unknown;\n        parentId?: string | undefined;\n    }, {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        config?: unknown;\n        parentId?: string | undefined;\n        isVisible?: boolean | undefined;\n        isLocked?: boolean | undefined;\n    }>, \"many\">>;\n    config: z.ZodOptional<z.ZodObject<{\n        theme: z.ZodOptional<z.ZodDefault<z.ZodEnum<[\"light\", \"dark\", \"auto\"]>>>;\n        primaryColor: z.ZodOptional<z.ZodDefault<z.ZodString>>;\n        backgroundColor: z.ZodOptional<z.ZodDefault<z.ZodString>>;\n        allowMultipleSubmissions: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        requireAuthentication: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        showProgressBar: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        autoSave: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        dataSchema: z.ZodOptional<z.ZodOptional<z.ZodObject<{\n            fields: z.ZodArray<z.ZodObject<{\n                name: z.ZodString;\n                type: z.ZodEnum<[\"string\", \"number\", \"boolean\", \"date\", \"array\", \"object\"]>;\n                required: z.ZodDefault<z.ZodBoolean>;\n                validation: z.ZodOptional<z.ZodObject<{\n                    min: z.ZodOptional<z.ZodNumber>;\n                    max: z.ZodOptional<z.ZodNumber>;\n                    pattern: z.ZodOptional<z.ZodString>;\n                    enum: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n                }, \"strip\", z.ZodTypeAny, {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                }, {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                }>>;\n            }, \"strip\", z.ZodTypeAny, {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }, {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }>, \"many\">;\n            maxRecords: z.ZodDefault<z.ZodNumber>;\n            allowAnonymous: z.ZodDefault<z.ZodBoolean>;\n        }, \"strip\", z.ZodTypeAny, {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        }, {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        }>>>;\n        dataRetentionDays: z.ZodOptional<z.ZodDefault<z.ZodNumber>>;\n        notifyOnSubmission: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        notificationEmail: z.ZodOptional<z.ZodOptional<z.ZodString>>;\n        trackingEnabled: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n        allowAnalyticsOptOut: z.ZodOptional<z.ZodDefault<z.ZodBoolean>>;\n    }, \"strip\", z.ZodTypeAny, {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    }, {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    }>>;\n    metadata: z.ZodOptional<z.ZodObject<{\n        tags: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>>;\n        difficulty: z.ZodOptional<z.ZodOptional<z.ZodEnum<[\"beginner\", \"intermediate\", \"advanced\"]>>>;\n        estimatedTime: z.ZodOptional<z.ZodOptional<z.ZodNumber>>;\n        category: z.ZodOptional<z.ZodOptional<z.ZodString>>;\n        language: z.ZodOptional<z.ZodDefault<z.ZodString>>;\n    }, \"strip\", z.ZodTypeAny, {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    }, {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    }>>;\n    changelog: z.ZodOptional<z.ZodString>;\n}, \"strip\", z.ZodTypeAny, {\n    config?: {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                required: boolean;\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n            }[];\n            maxRecords: number;\n            allowAnonymous: boolean;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    } | undefined;\n    name?: string | undefined;\n    description?: string | undefined;\n    changelog?: string | undefined;\n    elements?: {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        isVisible: boolean;\n        isLocked: boolean;\n        config?: unknown;\n        parentId?: string | undefined;\n    }[] | undefined;\n    metadata?: {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    } | undefined;\n}, {\n    config?: {\n        backgroundColor?: string | undefined;\n        theme?: \"auto\" | \"light\" | \"dark\" | undefined;\n        primaryColor?: string | undefined;\n        allowMultipleSubmissions?: boolean | undefined;\n        requireAuthentication?: boolean | undefined;\n        showProgressBar?: boolean | undefined;\n        autoSave?: boolean | undefined;\n        dataSchema?: {\n            fields: {\n                type: \"string\" | \"number\" | \"boolean\" | \"object\" | \"date\" | \"array\";\n                name: string;\n                validation?: {\n                    pattern?: string | undefined;\n                    max?: number | undefined;\n                    min?: number | undefined;\n                    enum?: string[] | undefined;\n                } | undefined;\n                required?: boolean | undefined;\n            }[];\n            maxRecords?: number | undefined;\n            allowAnonymous?: boolean | undefined;\n        } | undefined;\n        dataRetentionDays?: number | undefined;\n        notifyOnSubmission?: boolean | undefined;\n        notificationEmail?: string | undefined;\n        trackingEnabled?: boolean | undefined;\n        allowAnalyticsOptOut?: boolean | undefined;\n    } | undefined;\n    name?: string | undefined;\n    description?: string | undefined;\n    changelog?: string | undefined;\n    elements?: {\n        id: string;\n        elementId: string;\n        position: {\n            x: number;\n            y: number;\n            width?: number | undefined;\n            height?: number | undefined;\n        };\n        order: number;\n        config?: unknown;\n        parentId?: string | undefined;\n        isVisible?: boolean | undefined;\n        isLocked?: boolean | undefined;\n    }[] | undefined;\n    metadata?: {\n        tags?: string[] | undefined;\n        category?: string | undefined;\n        difficulty?: \"beginner\" | \"intermediate\" | \"advanced\" | undefined;\n        estimatedTime?: number | undefined;\n        language?: string | undefined;\n    } | undefined;\n}>;\nexport type UpdateTool = z.infer<typeof UpdateToolSchema>;\nexport declare const ShareToolSchema: z.ZodObject<{\n    permission: z.ZodDefault<z.ZodEnum<[\"view\", \"comment\", \"edit\"]>>;\n    expiresAt: z.ZodOptional<z.ZodDate>;\n    requiresApproval: z.ZodDefault<z.ZodBoolean>;\n}, \"strip\", z.ZodTypeAny, {\n    permission: \"view\" | \"comment\" | \"edit\";\n    requiresApproval: boolean;\n    expiresAt?: Date | undefined;\n}, {\n    permission?: \"view\" | \"comment\" | \"edit\" | undefined;\n    expiresAt?: Date | undefined;\n    requiresApproval?: boolean | undefined;\n}>;\nexport type ShareTool = z.infer<typeof ShareToolSchema>;\nexport declare const ToolDataRecordSchema: z.ZodObject<{\n    id: z.ZodString;\n    toolId: z.ZodString;\n    data: z.ZodRecord<z.ZodString, z.ZodAny>;\n    submittedBy: z.ZodOptional<z.ZodString>;\n    submittedAt: z.ZodDate;\n    ipAddress: z.ZodOptional<z.ZodString>;\n    userAgent: z.ZodOptional<z.ZodString>;\n    sessionId: z.ZodOptional<z.ZodString>;\n    isAnonymous: z.ZodDefault<z.ZodBoolean>;\n    isValid: z.ZodDefault<z.ZodBoolean>;\n    validationErrors: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n    completionTime: z.ZodOptional<z.ZodNumber>;\n    deviceType: z.ZodOptional<z.ZodEnum<[\"desktop\", \"tablet\", \"mobile\"]>>;\n    referrer: z.ZodOptional<z.ZodString>;\n}, \"strip\", z.ZodTypeAny, {\n    id: string;\n    data: Record<string, any>;\n    toolId: string;\n    submittedAt: Date;\n    isAnonymous: boolean;\n    isValid: boolean;\n    submittedBy?: string | undefined;\n    ipAddress?: string | undefined;\n    userAgent?: string | undefined;\n    sessionId?: string | undefined;\n    validationErrors?: string[] | undefined;\n    completionTime?: number | undefined;\n    deviceType?: \"desktop\" | \"tablet\" | \"mobile\" | undefined;\n    referrer?: string | undefined;\n}, {\n    id: string;\n    data: Record<string, any>;\n    toolId: string;\n    submittedAt: Date;\n    submittedBy?: string | undefined;\n    ipAddress?: string | undefined;\n    userAgent?: string | undefined;\n    sessionId?: string | undefined;\n    isAnonymous?: boolean | undefined;\n    isValid?: boolean | undefined;\n    validationErrors?: string[] | undefined;\n    completionTime?: number | undefined;\n    deviceType?: \"desktop\" | \"tablet\" | \"mobile\" | undefined;\n    referrer?: string | undefined;\n}>;\nexport type ToolDataRecord = z.infer<typeof ToolDataRecordSchema>;\nexport declare const ToolUsageEventSchema: z.ZodObject<{\n    id: z.ZodString;\n    toolId: z.ZodString;\n    userId: z.ZodOptional<z.ZodString>;\n    eventType: z.ZodEnum<[\"view\", \"start\", \"complete\", \"abandon\", \"share\", \"fork\"]>;\n    timestamp: z.ZodDate;\n    sessionId: z.ZodString;\n    metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;\n}, \"strip\", z.ZodTypeAny, {\n    id: string;\n    toolId: string;\n    sessionId: string;\n    eventType: \"start\" | \"view\" | \"complete\" | \"abandon\" | \"share\" | \"fork\";\n    timestamp: Date;\n    userId?: string | undefined;\n    metadata?: Record<string, any> | undefined;\n}, {\n    id: string;\n    toolId: string;\n    sessionId: string;\n    eventType: \"start\" | \"view\" | \"complete\" | \"abandon\" | \"share\" | \"fork\";\n    timestamp: Date;\n    userId?: string | undefined;\n    metadata?: Record<string, any> | undefined;\n}>;\nexport type ToolUsageEvent = z.infer<typeof ToolUsageEventSchema>;\nexport declare const createToolDefaults: (ownerId: string, data: CreateTool) => Omit<Tool, \"id\" | \"createdAt\" | \"updatedAt\">;\nexport declare const generateShareToken: () => string;\nexport declare const canUserEditTool: (tool: Tool, userId: string) => boolean;\nexport declare const canUserViewTool: (tool: Tool, userId: string) => boolean;\nexport declare const getNextVersion: (currentVersion: string, changeType: \"major\" | \"minor\" | \"patch\") => string;\nexport declare const determineChangeType: (oldElements: ElementInstance[], newElements: ElementInstance[]) => \"major\" | \"minor\" | \"patch\";\nexport declare const validateToolStructure: (elements: ElementInstance[]) => {\n    isValid: boolean;\n    errors: string[];\n};\n//# sourceMappingURL=tool.d.ts.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\creation\\tool.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\creation\\tool.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\feed\\composer.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'state' is defined but never used. Allowed unused args must match /^_/u.","line":422,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":422,"endColumn":10}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from \"zod\";\r\n\r\n/**\r\n * Composer modes following the user specifications\r\n */\r\nexport enum ComposerMode {\r\n  INLINE = \"inline\", // Default, always visible - low-friction PromptPost\r\n  MODAL = \"modal\", // Triggered from FAB - structured tools (Pulse, EventCard)\r\n  EXPANDED_INLINE = \"expanded_inline\", // Inline â†’ Modal transition for long content\r\n}\r\n\r\n/**\r\n * Available composer tools\r\n */\r\nexport enum ComposerTool {\r\n  PROMPT_POST = \"prompt_post\", // Quick reflection posts\r\n  PULSE = \"pulse\", // Mood/status updates\r\n  EVENT_CARD = \"event_card\", // Event announcements\r\n  JOIN_FORM = \"join_form\", // Group join requests\r\n  POLL = \"poll\", // Simple polls\r\n  MEDIA_POST = \"media_post\", // Image/video posts\r\n}\r\n\r\n/**\r\n * Composer state configuration\r\n */\r\nexport interface ComposerState {\r\n  mode: ComposerMode;\r\n  selectedTool: ComposerTool | null;\r\n  isExpanded: boolean;\r\n  content: string;\r\n  metadata: Record<string, unknown>;\r\n  targetSpaceId?: string;\r\n  isDragging: boolean;\r\n  expandThreshold: number; // Character count to trigger expand suggestion\r\n}\r\n\r\n/**\r\n * Tool configuration for different composer tools\r\n */\r\nexport interface ComposerToolConfig {\r\n  tool: ComposerTool;\r\n  displayName: string;\r\n  description: string;\r\n  icon: string;\r\n  supportsInline: boolean;\r\n  requiresModal: boolean;\r\n  maxCharacters?: number;\r\n  placeholder: string;\r\n  fields: ComposerField[];\r\n}\r\n\r\n/**\r\n * Field configuration for structured tools\r\n */\r\nexport interface ComposerField {\r\n  id: string;\r\n  type: \"text\" | \"textarea\" | \"select\" | \"date\" | \"time\" | \"file\" | \"emoji\";\r\n  label: string;\r\n  placeholder?: string;\r\n  required: boolean;\r\n  options?: Array<{ value: string; label: string }>;\r\n  validation?: z.ZodSchema;\r\n}\r\n\r\n/**\r\n * Composer behavior and state management\r\n */\r\nexport class ComposerEngine {\r\n  private static readonly EXPAND_THRESHOLD = 140; // Characters before suggesting modal\r\n  private static readonly INLINE_TOOLS = [ComposerTool.PROMPT_POST];\r\n  private static readonly MODAL_TOOLS = [\r\n    ComposerTool.PULSE,\r\n    ComposerTool.EVENT_CARD,\r\n    ComposerTool.JOIN_FORM,\r\n    ComposerTool.POLL,\r\n    ComposerTool.MEDIA_POST,\r\n  ];\r\n\r\n  /**\r\n   * Get default composer state\r\n   */\r\n  static getDefaultState(): ComposerState {\r\n    return {\r\n      mode: ComposerMode.INLINE,\r\n      selectedTool: ComposerTool.PROMPT_POST,\r\n      isExpanded: false,\r\n      content: \"\",\r\n      metadata: {},\r\n      isDragging: false,\r\n      expandThreshold: this.EXPAND_THRESHOLD,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if content should trigger expand suggestion\r\n   */\r\n  static shouldSuggestExpand(\r\n    content: string,\r\n    currentMode: ComposerMode\r\n  ): boolean {\r\n    return (\r\n      currentMode === ComposerMode.INLINE &&\r\n      content.length > this.EXPAND_THRESHOLD &&\r\n      content.split(\"\\n\").length > 3 // Or has multiple paragraphs\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Handle mode transitions\r\n   */\r\n  static transitionMode(\r\n    currentState: ComposerState,\r\n    targetMode: ComposerMode,\r\n    selectedTool?: ComposerTool\r\n  ): ComposerState {\r\n    const newState: ComposerState = {\r\n      ...currentState,\r\n      mode: targetMode,\r\n    };\r\n\r\n    switch (targetMode) {\r\n      case ComposerMode.INLINE:\r\n        newState.selectedTool = ComposerTool.PROMPT_POST;\r\n        newState.isExpanded = false;\r\n        break;\r\n\r\n      case ComposerMode.MODAL:\r\n        newState.selectedTool = selectedTool || ComposerTool.PULSE;\r\n        newState.isExpanded = true;\r\n        break;\r\n\r\n      case ComposerMode.EXPANDED_INLINE:\r\n        // Keep current tool but expand the interface\r\n        newState.isExpanded = true;\r\n        break;\r\n    }\r\n\r\n    return newState;\r\n  }\r\n\r\n  /**\r\n   * Get available tools for current mode\r\n   */\r\n  static getAvailableTools(mode: ComposerMode): ComposerTool[] {\r\n    switch (mode) {\r\n      case ComposerMode.INLINE:\r\n      case ComposerMode.EXPANDED_INLINE:\r\n        return this.INLINE_TOOLS;\r\n      case ComposerMode.MODAL:\r\n        return this.MODAL_TOOLS;\r\n      default:\r\n        return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate composer content based on selected tool\r\n   */\r\n  static validateContent(state: ComposerState): {\r\n    isValid: boolean;\r\n    errors: string[];\r\n  } {\r\n    const errors: string[] = [];\r\n    const { selectedTool, content, metadata } = state;\r\n\r\n    if (!selectedTool) {\r\n      errors.push(\"No tool selected\");\r\n      return { isValid: false, errors };\r\n    }\r\n\r\n    const toolConfig = this.getToolConfig(selectedTool);\r\n\r\n    // Check content length\r\n    if (toolConfig.maxCharacters && content.length > toolConfig.maxCharacters) {\r\n      errors.push(`Content exceeds ${toolConfig.maxCharacters} characters`);\r\n    }\r\n\r\n    // Check required fields\r\n    toolConfig.fields\r\n      .filter((field) => field.required)\r\n      .forEach((field) => {\r\n        if (!metadata[field.id] && field.id !== \"content\") {\r\n          errors.push(`${field.label} is required`);\r\n        }\r\n      });\r\n\r\n    // Tool-specific validation\r\n    switch (selectedTool) {\r\n      case ComposerTool.PROMPT_POST:\r\n        if (content.trim().length === 0) {\r\n          errors.push(\"Post content cannot be empty\");\r\n        }\r\n        break;\r\n\r\n      case ComposerTool.EVENT_CARD:\r\n        if (!metadata.eventDate) {\r\n          errors.push(\"Event date is required\");\r\n        }\r\n        if (!metadata.eventTitle) {\r\n          errors.push(\"Event title is required\");\r\n        }\r\n        break;\r\n\r\n      case ComposerTool.POLL: {\r\n        const options = (metadata.pollOptions as string[]) || [];\r\n        if (options.length < 2) {\r\n          errors.push(\"Poll must have at least 2 options\");\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    return { isValid: errors.length === 0, errors };\r\n  }\r\n\r\n  /**\r\n   * Get tool configuration\r\n   */\r\n  static getToolConfig(tool: ComposerTool): ComposerToolConfig {\r\n    const configs: Record<ComposerTool, ComposerToolConfig> = {\r\n      [ComposerTool.PROMPT_POST]: {\r\n        tool: ComposerTool.PROMPT_POST,\r\n        displayName: \"Quick Post\",\r\n        description: \"Share a thought or reflection\",\r\n        icon: \"âœï¸\",\r\n        supportsInline: true,\r\n        requiresModal: false,\r\n        maxCharacters: 500,\r\n        placeholder: \"What's on your mind?\",\r\n        fields: [\r\n          {\r\n            id: \"content\",\r\n            type: \"textarea\",\r\n            label: \"Post Content\",\r\n            placeholder: \"What's on your mind?\",\r\n            required: true,\r\n          },\r\n        ],\r\n      },\r\n\r\n      [ComposerTool.PULSE]: {\r\n        tool: ComposerTool.PULSE,\r\n        displayName: \"Pulse\",\r\n        description: \"Share your current mood or status\",\r\n        icon: \"ðŸ“Š\",\r\n        supportsInline: false,\r\n        requiresModal: true,\r\n        placeholder: \"How are you feeling?\",\r\n        fields: [\r\n          {\r\n            id: \"mood\",\r\n            type: \"select\",\r\n            label: \"Current Mood\",\r\n            required: true,\r\n            options: [\r\n              { value: \"focused\", label: \"ðŸŽ¯ Focused\" },\r\n              { value: \"stressed\", label: \"ðŸ˜¤ Stressed\" },\r\n              { value: \"excited\", label: \"ðŸš€ Excited\" },\r\n              { value: \"tired\", label: \"ðŸ˜´ Tired\" },\r\n              { value: \"creative\", label: \"ðŸŽ¨ Creative\" },\r\n            ],\r\n          },\r\n          {\r\n            id: \"content\",\r\n            type: \"textarea\",\r\n            label: \"Details (optional)\",\r\n            placeholder: \"What's driving this feeling?\",\r\n            required: false,\r\n          },\r\n        ],\r\n      },\r\n\r\n      [ComposerTool.EVENT_CARD]: {\r\n        tool: ComposerTool.EVENT_CARD,\r\n        displayName: \"Event\",\r\n        description: \"Announce an upcoming event\",\r\n        icon: \"ðŸ“…\",\r\n        supportsInline: false,\r\n        requiresModal: true,\r\n        placeholder: \"Event title\",\r\n        fields: [\r\n          {\r\n            id: \"eventTitle\",\r\n            type: \"text\",\r\n            label: \"Event Title\",\r\n            placeholder: \"What's happening?\",\r\n            required: true,\r\n          },\r\n          {\r\n            id: \"eventDate\",\r\n            type: \"date\",\r\n            label: \"Event Date\",\r\n            required: true,\r\n          },\r\n          {\r\n            id: \"eventTime\",\r\n            type: \"time\",\r\n            label: \"Event Time\",\r\n            required: false,\r\n          },\r\n          {\r\n            id: \"location\",\r\n            type: \"text\",\r\n            label: \"Location\",\r\n            placeholder: \"Where is it happening?\",\r\n            required: false,\r\n          },\r\n          {\r\n            id: \"description\",\r\n            type: \"textarea\",\r\n            label: \"Description\",\r\n            placeholder: \"Tell people more about the event...\",\r\n            required: false,\r\n          },\r\n        ],\r\n      },\r\n\r\n      [ComposerTool.JOIN_FORM]: {\r\n        tool: ComposerTool.JOIN_FORM,\r\n        displayName: \"Join Request\",\r\n        description: \"Invite people to join a group\",\r\n        icon: \"ðŸ¤\",\r\n        supportsInline: false,\r\n        requiresModal: true,\r\n        placeholder: \"What are you inviting people to join?\",\r\n        fields: [\r\n          {\r\n            id: \"joinTitle\",\r\n            type: \"text\",\r\n            label: \"Group/Activity Title\",\r\n            placeholder: \"Study group, intramural team, etc.\",\r\n            required: true,\r\n          },\r\n          {\r\n            id: \"requirements\",\r\n            type: \"textarea\",\r\n            label: \"Requirements\",\r\n            placeholder: \"What are you looking for in participants?\",\r\n            required: false,\r\n          },\r\n          {\r\n            id: \"deadline\",\r\n            type: \"date\",\r\n            label: \"Join Deadline\",\r\n            required: false,\r\n          },\r\n        ],\r\n      },\r\n\r\n      [ComposerTool.POLL]: {\r\n        tool: ComposerTool.POLL,\r\n        displayName: \"Poll\",\r\n        description: \"Ask the community to choose\",\r\n        icon: \"ðŸ“Š\",\r\n        supportsInline: false,\r\n        requiresModal: true,\r\n        placeholder: \"What should we vote on?\",\r\n        fields: [\r\n          {\r\n            id: \"question\",\r\n            type: \"text\",\r\n            label: \"Poll Question\",\r\n            placeholder: \"What should we vote on?\",\r\n            required: true,\r\n          },\r\n          {\r\n            id: \"pollOptions\",\r\n            type: \"textarea\", // Special handling for array of options\r\n            label: \"Options (one per line)\",\r\n            placeholder: \"Option 1\\nOption 2\\nOption 3\",\r\n            required: true,\r\n          },\r\n          {\r\n            id: \"allowMultiple\",\r\n            type: \"select\",\r\n            label: \"Allow Multiple Choices\",\r\n            options: [\r\n              { value: \"false\", label: \"Single choice only\" },\r\n              { value: \"true\", label: \"Allow multiple choices\" },\r\n            ],\r\n            required: false,\r\n          },\r\n        ],\r\n      },\r\n\r\n      [ComposerTool.MEDIA_POST]: {\r\n        tool: ComposerTool.MEDIA_POST,\r\n        displayName: \"Media Post\",\r\n        description: \"Share photos or videos\",\r\n        icon: \"ðŸ“¸\",\r\n        supportsInline: false,\r\n        requiresModal: true,\r\n        placeholder: \"Add a caption...\",\r\n        fields: [\r\n          {\r\n            id: \"media\",\r\n            type: \"file\",\r\n            label: \"Upload Media\",\r\n            required: true,\r\n          },\r\n          {\r\n            id: \"caption\",\r\n            type: \"textarea\",\r\n            label: \"Caption\",\r\n            placeholder: \"Add a caption...\",\r\n            required: false,\r\n          },\r\n        ],\r\n      },\r\n    };\r\n\r\n    return configs[tool];\r\n  }\r\n\r\n  /**\r\n   * Handle drag-to-expand gesture detection\r\n   */\r\n  static handleDragGesture(\r\n    startY: number,\r\n    currentY: number,\r\n    state: ComposerState\r\n  ): { shouldExpand: boolean; dragProgress: number } {\r\n    const dragDistance = startY - currentY; // Positive = dragging up\r\n    const expandThreshold = 50; // Pixels to drag before expanding\r\n\r\n    const dragProgress = Math.min(\r\n      Math.max(dragDistance / expandThreshold, 0),\r\n      1\r\n    );\r\n    const shouldExpand = dragDistance > expandThreshold;\r\n\r\n    return { shouldExpand, dragProgress };\r\n  }\r\n\r\n  /**\r\n   * Generate post data from composer state\r\n   */\r\n  static generatePostData(state: ComposerState): Record<string, unknown> {\r\n    const { selectedTool, content, metadata, targetSpaceId } = state;\r\n\r\n    const baseData = {\r\n      type: selectedTool,\r\n      content: content.trim(),\r\n      spaceId: targetSpaceId,\r\n      createdAt: new Date(),\r\n      metadata,\r\n    };\r\n\r\n    // Tool-specific data processing\r\n    switch (selectedTool) {\r\n      case ComposerTool.POLL:\r\n        return {\r\n          ...baseData,\r\n          pollOptions:\r\n            typeof metadata.pollOptions === \"string\"\r\n              ? (metadata.pollOptions as string)\r\n                  .split(\"\\n\")\r\n                  .filter((opt) => opt.trim())\r\n              : metadata.pollOptions,\r\n          allowMultiple: metadata.allowMultiple === \"true\",\r\n        };\r\n\r\n      case ComposerTool.EVENT_CARD:\r\n        return {\r\n          ...baseData,\r\n          eventDate: metadata.eventDate,\r\n          eventTime: metadata.eventTime,\r\n          location: metadata.location,\r\n          eventTitle: metadata.eventTitle,\r\n        };\r\n\r\n      default:\r\n        return baseData;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Zod schemas for validation\r\n */\r\nexport const ComposerStateSchema = z.object({\r\n  mode: z.nativeEnum(ComposerMode),\r\n  selectedTool: z.nativeEnum(ComposerTool).nullable(),\r\n  isExpanded: z.boolean(),\r\n  content: z.string(),\r\n  metadata: z.record(z.unknown()),\r\n  targetSpaceId: z.string().optional(),\r\n  isDragging: z.boolean(),\r\n  expandThreshold: z.number(),\r\n});\r\n\r\nexport const ComposerFieldSchema = z.object({\r\n  id: z.string(),\r\n  type: z.enum([\"text\", \"textarea\", \"select\", \"date\", \"time\", \"file\", \"emoji\"]),\r\n  label: z.string(),\r\n  placeholder: z.string().optional(),\r\n  required: z.boolean(),\r\n  options: z\r\n    .array(\r\n      z.object({\r\n        value: z.string(),\r\n        label: z.string(),\r\n      })\r\n    )\r\n    .optional(),\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\feed\\main-feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\feed\\posting.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'postId' is defined but never used. Allowed unused args must match /^_/u.","line":536,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":536,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'userId' is defined but never used. Allowed unused args must match /^_/u.","line":537,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":537,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'authorId' is defined but never used. Allowed unused args must match /^_/u.","line":564,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":564,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'draftData' is defined but never used. Allowed unused args must match /^_/u.","line":565,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":565,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'authorId' is defined but never used. Allowed unused args must match /^_/u.","line":578,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":578,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'draftId' is defined but never used. Allowed unused args must match /^_/u.","line":592,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":592,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'authorId' is defined but never used. Allowed unused args must match /^_/u.","line":592,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":592,"endColumn":47}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from \"zod\";\nimport { logger } from \"../../utils/logger\";\n\n/**\n * Post Content Types\n * Following HD-004 decisions for content creation patterns\n */\nexport type PostType =\n  | \"prompt-post\" // Simple text post (inline composer)\n  | \"pulse\" // Quick status update (modal)\n  | \"event-card\" // Event announcement (modal)\n  | \"join-form\" // Space invitation (modal)\n  | \"poll\" // Poll/voting (modal)\n  | \"media-post\"; // Image/video post (modal)\n\n/**\n * Post Visibility & Targeting\n */\nexport type PostVisibility = \"public\" | \"space-only\" | \"followers-only\";\nexport type PostStatus = \"draft\" | \"published\" | \"archived\" | \"flagged\";\n\n/**\n * Rich Content Structure\n */\nexport interface PostContent {\n  text?: string;\n  mentions?: {\n    userId: string;\n    handle: string;\n    displayName: string;\n    position: [number, number]; // [start, end] in text\n  }[];\n  hashtags?: {\n    tag: string;\n    position: [number, number];\n  }[];\n  links?: {\n    url: string;\n    title?: string;\n    description?: string;\n    image?: string;\n    position: [number, number];\n  }[];\n  media?: {\n    type: \"image\" | \"video\" | \"audio\";\n    url: string;\n    thumbnail?: string;\n    alt?: string;\n    dimensions?: { width: number; height: number };\n  }[];\n}\n\n/**\n * Post Data Schema\n */\nexport const PostSchema = z.object({\n  id: z.string(),\n  type: z.enum([\n    \"prompt-post\",\n    \"pulse\",\n    \"event-card\",\n    \"join-form\",\n    \"poll\",\n    \"media-post\",\n  ]),\n  authorId: z.string(),\n  authorHandle: z.string(),\n  authorDisplayName: z.string(),\n  content: z.object({\n    text: z.string().optional(),\n    mentions: z\n      .array(\n        z.object({\n          userId: z.string(),\n          handle: z.string(),\n          displayName: z.string(),\n          position: z.tuple([z.number(), z.number()]),\n        })\n      )\n      .optional(),\n    hashtags: z\n      .array(\n        z.object({\n          tag: z.string(),\n          position: z.tuple([z.number(), z.number()]),\n        })\n      )\n      .optional(),\n    links: z\n      .array(\n        z.object({\n          url: z.string().url(),\n          title: z.string().optional(),\n          description: z.string().optional(),\n          image: z.string().url().optional(),\n          position: z.tuple([z.number(), z.number()]),\n        })\n      )\n      .optional(),\n    media: z\n      .array(\n        z.object({\n          type: z.enum([\"image\", \"video\", \"audio\"]),\n          url: z.string().url(),\n          thumbnail: z.string().url().optional(),\n          alt: z.string().optional(),\n          dimensions: z\n            .object({\n              width: z.number(),\n              height: z.number(),\n            })\n            .optional(),\n        })\n      )\n      .optional(),\n  }),\n  spaceId: z.string().optional(),\n  spaceName: z.string().optional(),\n  visibility: z.enum([\"public\", \"space-only\", \"followers-only\"]),\n  status: z.enum([\"draft\", \"published\", \"archived\", \"flagged\"]),\n  scheduledAt: z.date().optional(),\n  publishedAt: z.date().optional(),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n  // Engagement metrics\n  reactions: z.record(z.string(), z.number()).default({}),\n  reactionCount: z.number().default(0),\n  commentCount: z.number().default(0),\n  shareCount: z.number().default(0),\n  viewCount: z.number().default(0),\n  // Tool-specific data\n  toolData: z.record(z.unknown()).optional(),\n});\n\nexport type Post = z.infer<typeof PostSchema>;\n\n/**\n * Minimal Post Schema for offline caching and list views\n */\nexport const MinimalPostSchema = PostSchema.pick({\n  id: true,\n  type: true,\n  authorId: true,\n  authorHandle: true,\n  authorDisplayName: true,\n  content: true, // Content is essential for display\n  spaceId: true,\n  visibility: true,\n  publishedAt: true,\n  reactionCount: true,\n  commentCount: true,\n});\n\nexport type MinimalPost = z.infer<typeof MinimalPostSchema>;\n\n/**\n * Post Creation Request Schema\n */\nexport const CreatePostSchema = z.object({\n  type: z.enum([\n    \"prompt-post\",\n    \"pulse\",\n    \"event-card\",\n    \"join-form\",\n    \"poll\",\n    \"media-post\",\n  ]),\n  content: z\n    .object({\n      text: z.string().min(1).max(2000).optional(),\n      media: z\n        .array(\n          z.object({\n            type: z.enum([\"image\", \"video\", \"audio\"]),\n            url: z.string().url(),\n            thumbnail: z.string().url().optional(),\n            alt: z.string().optional(),\n            dimensions: z\n              .object({\n                width: z.number(),\n                height: z.number(),\n              })\n              .optional(),\n          })\n        )\n        .max(10)\n        .optional(),\n    })\n    .refine((data) => data.text || data.media, {\n      message: \"Post must have either text content or media\",\n    }),\n  spaceId: z.string().optional(),\n  visibility: z\n    .enum([\"public\", \"space-only\", \"followers-only\"])\n    .default(\"public\"),\n  scheduledAt: z.date().optional(),\n  toolData: z.record(z.unknown()).optional(),\n});\n\nexport type CreatePostRequest = z.infer<typeof CreatePostSchema>;\n\n/**\n * Content Processing Utils\n */\nexport class ContentProcessor {\n  /**\n   * Extract mentions from text content\n   */\n  static extractMentions(\n    text: string\n  ): { handle: string; position: [number, number] }[] {\n    const mentionRegex = /@([a-zA-Z0-9_]+)/g;\n    const mentions: { handle: string; position: [number, number] }[] = [];\n    let match;\n\n    while ((match = mentionRegex.exec(text)) !== null) {\n      mentions.push({\n        handle: match[1],\n        position: [match.index, match.index + match[0].length],\n      });\n    }\n\n    return mentions;\n  }\n\n  /**\n   * Extract hashtags from text content\n   */\n  static extractHashtags(\n    text: string\n  ): { tag: string; position: [number, number] }[] {\n    const hashtagRegex = /#([a-zA-Z0-9_]+)/g;\n    const hashtags: { tag: string; position: [number, number] }[] = [];\n    let match;\n\n    while ((match = hashtagRegex.exec(text)) !== null) {\n      hashtags.push({\n        tag: match[1],\n        position: [match.index, match.index + match[0].length],\n      });\n    }\n\n    return hashtags;\n  }\n\n  /**\n   * Extract and validate URLs from text content\n   */\n  static extractLinks(\n    text: string\n  ): { url: string; position: [number, number] }[] {\n    const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n    const links: { url: string; position: [number, number] }[] = [];\n    let match;\n\n    while ((match = urlRegex.exec(text)) !== null) {\n      try {\n        new URL(match[1]); // Validate URL\n        links.push({\n          url: match[1],\n          position: [match.index, match.index + match[0].length],\n        });\n      } catch {\n        // Skip invalid URLs\n      }\n    }\n\n    return links;\n  }\n\n  /**\n   * Process raw text into rich content structure\n   */\n  static processContent(\n    text: string\n  ): Pick<PostContent, \"mentions\" | \"hashtags\" | \"links\"> {\n    return {\n      mentions: this.extractMentions(text).map((m) => ({\n        ...m,\n        userId: \"\", // Will be resolved by mention resolution service\n        displayName: \"\", // Will be resolved by mention resolution service\n      })),\n      hashtags: this.extractHashtags(text),\n      links: this.extractLinks(text),\n    };\n  }\n}\n\n/**\n * Post Validation Rules\n */\nexport class PostValidator {\n  /**\n   * Validate post content based on type\n   */\n  static validateByType(\n    type: PostType,\n    content: PostContent\n  ): { valid: boolean; errors: string[] } {\n    const errors: string[] = [];\n\n    switch (type) {\n      case \"prompt-post\":\n        if (!content.text || content.text.trim().length === 0) {\n          errors.push(\"PromptPost requires text content\");\n        }\n        if (content.text && content.text.length > 500) {\n          errors.push(\"PromptPost text cannot exceed 500 characters\");\n        }\n        break;\n\n      case \"pulse\":\n        if (!content.text || content.text.trim().length === 0) {\n          errors.push(\"Pulse requires text content\");\n        }\n        if (content.text && content.text.length > 280) {\n          errors.push(\"Pulse text cannot exceed 280 characters\");\n        }\n        break;\n\n      case \"event-card\":\n        if (!content.text || content.text.trim().length === 0) {\n          errors.push(\"EventCard requires text content\");\n        }\n        // EventCard should have structured data in toolData\n        break;\n\n      case \"join-form\":\n        if (!content.text || content.text.trim().length === 0) {\n          errors.push(\"JoinForm requires description text\");\n        }\n        break;\n\n      case \"poll\":\n        if (!content.text || content.text.trim().length === 0) {\n          errors.push(\"Poll requires question text\");\n        }\n        // Poll options should be in toolData\n        break;\n\n      case \"media-post\":\n        if (!content.media || content.media.length === 0) {\n          errors.push(\"MediaPost requires at least one media item\");\n        }\n        if (content.media && content.media.length > 10) {\n          errors.push(\"MediaPost cannot have more than 10 media items\");\n        }\n        break;\n    }\n\n    return {\n      valid: errors.length === 0,\n      errors,\n    };\n  }\n\n  /**\n   * Validate space posting permissions\n   */\n  static validateSpacePermissions(\n    userId: string,\n    spaceId: string | undefined,\n    visibility: PostVisibility\n  ): { canPost: boolean; reason?: string } {\n    // Basic validation - will be enhanced with actual permission checking\n    if (visibility === \"space-only\" && !spaceId) {\n      return {\n        canPost: false,\n        reason: \"Space-only posts require a target space\",\n      };\n    }\n\n    return { canPost: true };\n  }\n}\n\n/**\n * Post Creation Engine\n */\nexport class PostCreationEngine {\n  /**\n   * Create a new post with full validation and processing\n   */\n  static async createPost(\n    authorId: string,\n    authorHandle: string,\n    authorDisplayName: string,\n    request: CreatePostRequest\n  ): Promise<{ success: boolean; post?: Post; errors?: string[] }> {\n    try {\n      // Validate request\n      const validation = CreatePostSchema.safeParse(request);\n      if (!validation.success) {\n        return {\n          success: false,\n          errors: validation.error.errors.map((e) => e.message),\n        };\n      }\n\n      const validatedRequest = validation.data;\n\n      // Process content\n      const processedContent: PostContent = {\n        text: validatedRequest.content.text,\n        media: validatedRequest.content.media as PostContent[\"media\"],\n        ...ContentProcessor.processContent(validatedRequest.content.text || \"\"),\n      };\n\n      // Validate by post type\n      const typeValidation = PostValidator.validateByType(\n        validatedRequest.type,\n        processedContent\n      );\n      if (!typeValidation.valid) {\n        return {\n          success: false,\n          errors: typeValidation.errors,\n        };\n      }\n\n      // Validate space permissions\n      const spaceValidation = PostValidator.validateSpacePermissions(\n        authorId,\n        validatedRequest.spaceId,\n        validatedRequest.visibility\n      );\n      if (!spaceValidation.canPost) {\n        return {\n          success: false,\n          errors: [spaceValidation.reason || \"Permission denied\"],\n        };\n      }\n\n      // Create post object\n      const now = new Date();\n      const post: Post = {\n        id: `post_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        type: validatedRequest.type,\n        authorId,\n        authorHandle,\n        authorDisplayName,\n        content: processedContent,\n        spaceId: validatedRequest.spaceId,\n        spaceName: undefined, // Will be resolved by space service\n        visibility: validatedRequest.visibility,\n        status: validatedRequest.scheduledAt ? \"draft\" : \"published\",\n        scheduledAt: validatedRequest.scheduledAt,\n        publishedAt: validatedRequest.scheduledAt ? undefined : now,\n        createdAt: now,\n        updatedAt: now,\n        reactions: {},\n        reactionCount: 0,\n        commentCount: 0,\n        shareCount: 0,\n        viewCount: 0,\n        toolData: validatedRequest.toolData,\n      };\n\n      logger.debug(\"Post created:\", {\n        id: post.id,\n        authorId: post.authorId,\n        content: post.content,\n      });\n\n      return {\n        success: true,\n        post,\n      };\n    } catch (error) {\n      return {\n        success: false,\n        errors: [\n          \"Failed to create post: \" +\n            (error instanceof Error ? error.message : \"Unknown error\"),\n        ],\n      };\n    }\n  }\n\n  /**\n   * Update an existing post\n   */\n  static async updatePost(\n    postId: string,\n    authorId: string,\n    updates: Partial<CreatePostRequest>\n  ): Promise<{ success: boolean; post?: Partial<Post>; errors?: string[] }> {\n    try {\n      // Validate update permissions (post author only)\n      // This would typically check against stored post data\n\n      const updatedFields: Partial<Post> = {\n        updatedAt: new Date(),\n      };\n\n      // Process content updates if provided\n      if (updates.content?.text !== undefined) {\n        const processedContent = ContentProcessor.processContent(\n          updates.content.text\n        );\n        updatedFields.content = {\n          text: updates.content.text,\n          media: updates.content.media,\n          ...processedContent,\n        };\n      }\n\n      // Update other fields\n      if (updates.visibility) updatedFields.visibility = updates.visibility;\n      if (updates.spaceId !== undefined)\n        updatedFields.spaceId = updates.spaceId;\n      if (updates.scheduledAt !== undefined)\n        updatedFields.scheduledAt = updates.scheduledAt;\n      if (updates.toolData !== undefined)\n        updatedFields.toolData = updates.toolData;\n\n      return {\n        success: true,\n        post: updatedFields,\n      };\n    } catch (error) {\n      return {\n        success: false,\n        errors: [\n          \"Failed to update post: \" +\n            (error instanceof Error ? error.message : \"Unknown error\"),\n        ],\n      };\n    }\n  }\n\n  /**\n   * Delete a post\n   */\n  static async deletePost(\n    postId: string,\n    userId: string\n  ): Promise<{ success: boolean; errors?: string[] }> {\n    try {\n      // Validate delete permissions\n      // This would check if user is post author or has admin permissions\n\n      return { success: true };\n    } catch (error) {\n      return {\n        success: false,\n        errors: [\n          \"Failed to delete post: \" +\n            (error instanceof Error ? error.message : \"Unknown error\"),\n        ],\n      };\n    }\n  }\n}\n\n/**\n * Draft Management System\n */\nexport class DraftManager {\n  /**\n   * Save draft post\n   */\n  static saveDraft(\n    authorId: string,\n    draftData: CreatePostRequest\n  ): { draftId: string; savedAt: Date } {\n    const draftId = `draft_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    const savedAt = new Date();\n\n    // In real implementation, this would save to storage\n\n    return { draftId, savedAt };\n  }\n\n  /**\n   * Load user drafts\n   */\n  static async loadDrafts(authorId: string): Promise<\n    Array<{\n      draftId: string;\n      data: CreatePostRequest;\n      savedAt: Date;\n    }>\n  > {\n    // In real implementation, this would load from storage\n    return [];\n  }\n\n  /**\n   * Delete draft\n   */\n  static deleteDraft(draftId: string, authorId: string): boolean {\n    // In real implementation, this would delete from storage\n    return true;\n  }\n}\n\n/**\n * Post Analytics Tracking\n */\nexport interface PostAnalytics {\n  postId: string;\n  authorId: string;\n  spaceId?: string;\n  type: PostType;\n  createdAt: Date;\n  timeToFirstView: number; // milliseconds\n  timeToFirstReaction: number; // milliseconds\n  engagementRate: number; // reactions / views\n  peakViewTime: Date; // when post received most views\n  totalReach: number; // unique users who saw the post\n}\n\nexport class PostAnalyticsTracker {\n  /**\n   * Track post creation event\n   */\n  static trackPostCreated(post: Post): void {\n    // Analytics tracking implementation\n    logger.debug(\"Post created:\", {\n      postId: post.id,\n      type: post.type,\n      spaceId: post.spaceId,\n      hasMedia: !!post.content.media?.length,\n      textLength: post.content.text?.length || 0,\n    });\n  }\n\n  /**\n   * Track post engagement\n   */\n  static trackPostEngagement(\n    postId: string,\n    userId: string,\n    engagementType: \"view\" | \"reaction\" | \"comment\" | \"share\"\n  ): void {\n    // Analytics tracking implementation\n    logger.debug(\"Post engagement:\", {\n      postId,\n      userId,\n      engagementType,\n      timestamp: new Date(),\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\feed\\top-strip.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\handle.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\handle.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\handle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\leader-claim.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\member.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\member.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\member.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\post.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\post.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\post.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\space.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\space.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\space.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\user.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\user.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\firestore\\user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\landing\\hero-content.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1158,1161],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1158,1161],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from \"zod\";\r\n\r\n// Hero Content Types\r\nexport interface HeroContent {\r\n  id: string;\r\n  variant: HeroVariant;\r\n  headline: HeroHeadline;\r\n  subline?: string;\r\n  cta: HeroCTA;\r\n  background: HeroBackground;\r\n  metadata: HeroMetadata;\r\n}\r\n\r\nexport interface HeroVariant {\r\n  type: \"default\" | \"animated\" | \"minimal\" | \"bold\";\r\n  theme: \"dark\" | \"light\" | \"auto\";\r\n  layout: \"centered\" | \"left-aligned\" | \"full-width\";\r\n}\r\n\r\nexport interface HeroHeadline {\r\n  text: string;\r\n  animated?: {\r\n    enabled: boolean;\r\n    rotatingWords?: string[];\r\n    intervalMs?: number;\r\n  };\r\n  typography: {\r\n    size: \"lg\" | \"xl\" | \"2xl\" | \"3xl\" | \"4xl\";\r\n    weight: \"normal\" | \"medium\" | \"semibold\" | \"bold\" | \"black\";\r\n    gradient?: {\r\n      enabled: boolean;\r\n      colors: string[];\r\n      animation?: \"flow\" | \"pulse\" | \"static\";\r\n    };\r\n  };\r\n}\r\n\r\nexport interface HeroCTA {\r\n  text: string;\r\n  variant: \"primary\" | \"secondary\" | \"outline\" | \"ghost\";\r\n  size: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n  action: {\r\n    type: \"navigate\" | \"scroll\" | \"modal\" | \"external\";\r\n    target: string;\r\n    analytics?: {\r\n      event: string;\r\n      properties?: Record<string, any>;\r\n    };\r\n  };\r\n  states: {\r\n    loading?: boolean;\r\n    disabled?: boolean;\r\n    success?: boolean;\r\n  };\r\n}\r\n\r\nexport interface HeroBackground {\r\n  type: \"solid\" | \"gradient\" | \"image\" | \"video\" | \"animated\";\r\n  value: string | string[];\r\n  overlay?: {\r\n    enabled: boolean;\r\n    color: string;\r\n    opacity: number;\r\n  };\r\n  animation?: {\r\n    enabled: boolean;\r\n    type: \"pulse\" | \"flow\" | \"particles\" | \"geometric\";\r\n    duration: number;\r\n    easing: string;\r\n  };\r\n}\r\n\r\nexport interface HeroMetadata {\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  version: string;\r\n  author: string;\r\n  tags: string[];\r\n  abTest?: {\r\n    enabled: boolean;\r\n    variant: string;\r\n    percentage: number;\r\n  };\r\n  analytics: {\r\n    impressions: number;\r\n    clicks: number;\r\n    conversionRate: number;\r\n  };\r\n}\r\n\r\n// Zod Validation Schemas\r\nexport const heroVariantSchema = z.object({\r\n  type: z.enum([\"default\", \"animated\", \"minimal\", \"bold\"]),\r\n  theme: z.enum([\"dark\", \"light\", \"auto\"]),\r\n  layout: z.enum([\"centered\", \"left-aligned\", \"full-width\"]),\r\n});\r\n\r\nexport const heroHeadlineSchema = z.object({\r\n  text: z.string().min(1).max(200),\r\n  animated: z\r\n    .object({\r\n      enabled: z.boolean(),\r\n      rotatingWords: z.array(z.string()).optional(),\r\n      intervalMs: z.number().min(500).max(10000).optional(),\r\n    })\r\n    .optional(),\r\n  typography: z.object({\r\n    size: z.enum([\"lg\", \"xl\", \"2xl\", \"3xl\", \"4xl\"]),\r\n    weight: z.enum([\"normal\", \"medium\", \"semibold\", \"bold\", \"black\"]),\r\n    gradient: z\r\n      .object({\r\n        enabled: z.boolean(),\r\n        colors: z.array(z.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)),\r\n        animation: z.enum([\"flow\", \"pulse\", \"static\"]).optional(),\r\n      })\r\n      .optional(),\r\n  }),\r\n});\r\n\r\nexport const heroCtaSchema = z.object({\r\n  text: z.string().min(1).max(50),\r\n  variant: z.enum([\"primary\", \"secondary\", \"outline\", \"ghost\"]),\r\n  size: z.enum([\"sm\", \"md\", \"lg\", \"xl\"]),\r\n  action: z.object({\r\n    type: z.enum([\"navigate\", \"scroll\", \"modal\", \"external\"]),\r\n    target: z.string().min(1),\r\n    analytics: z\r\n      .object({\r\n        event: z.string(),\r\n        properties: z.record(z.any()).optional(),\r\n      })\r\n      .optional(),\r\n  }),\r\n  states: z.object({\r\n    loading: z.boolean().optional(),\r\n    disabled: z.boolean().optional(),\r\n    success: z.boolean().optional(),\r\n  }),\r\n});\r\n\r\nexport const heroBackgroundSchema = z.object({\r\n  type: z.enum([\"solid\", \"gradient\", \"image\", \"video\", \"animated\"]),\r\n  value: z.union([z.string(), z.array(z.string())]),\r\n  overlay: z\r\n    .object({\r\n      enabled: z.boolean(),\r\n      color: z.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/),\r\n      opacity: z.number().min(0).max(1),\r\n    })\r\n    .optional(),\r\n  animation: z\r\n    .object({\r\n      enabled: z.boolean(),\r\n      type: z.enum([\"pulse\", \"flow\", \"particles\", \"geometric\"]),\r\n      duration: z.number().min(1000).max(30000),\r\n      easing: z.string(),\r\n    })\r\n    .optional(),\r\n});\r\n\r\nexport const heroMetadataSchema = z.object({\r\n  createdAt: z.date(),\r\n  updatedAt: z.date(),\r\n  version: z.string().regex(/^\\d+\\.\\d+\\.\\d+$/),\r\n  author: z.string().min(1),\r\n  tags: z.array(z.string()),\r\n  abTest: z\r\n    .object({\r\n      enabled: z.boolean(),\r\n      variant: z.string(),\r\n      percentage: z.number().min(0).max(100),\r\n    })\r\n    .optional(),\r\n  analytics: z.object({\r\n    impressions: z.number().min(0),\r\n    clicks: z.number().min(0),\r\n    conversionRate: z.number().min(0).max(1),\r\n  }),\r\n});\r\n\r\nexport const heroContentSchema = z.object({\r\n  id: z.string().uuid(),\r\n  variant: heroVariantSchema,\r\n  headline: heroHeadlineSchema,\r\n  subline: z.string().max(300).optional(),\r\n  cta: heroCtaSchema,\r\n  background: heroBackgroundSchema,\r\n  metadata: heroMetadataSchema,\r\n});\r\n\r\n// Content Validation Functions\r\nexport function validateHeroContent(content: unknown): HeroContent {\r\n  return heroContentSchema.parse(content);\r\n}\r\n\r\nexport function isValidHeroContent(content: unknown): content is HeroContent {\r\n  return heroContentSchema.safeParse(content).success;\r\n}\r\n\r\n// Default Hero Content Factory\r\nexport function createDefaultHeroContent(): HeroContent {\r\n  return {\r\n    id: crypto.randomUUID(),\r\n    variant: {\r\n      type: \"animated\",\r\n      theme: \"dark\",\r\n      layout: \"centered\",\r\n    },\r\n    headline: {\r\n      text: \"HIVE\",\r\n      animated: {\r\n        enabled: false,\r\n        rotatingWords: [\r\n          \"campus\",\r\n          \"events\",\r\n          \"spaces\",\r\n          \"clubs\",\r\n          \"parties\",\r\n          \"feed\",\r\n        ],\r\n        intervalMs: 2200,\r\n      },\r\n      typography: {\r\n        size: \"4xl\",\r\n        weight: \"black\",\r\n        gradient: {\r\n          enabled: true,\r\n          colors: [\"#ffffff\", \"#FFD700\", \"#0A0A0A\", \"#FFD700\", \"#ffffff\"],\r\n          animation: \"flow\",\r\n        },\r\n      },\r\n    },\r\n    subline: \"Real-time campus community\",\r\n    cta: {\r\n      text: \"Join now\",\r\n      variant: \"primary\",\r\n      size: \"lg\",\r\n      action: {\r\n        type: \"navigate\",\r\n        target: \"/campus\",\r\n        analytics: {\r\n          event: \"hero_cta_click\",\r\n          properties: {\r\n            source: \"landing_hero\",\r\n            variant: \"animated\",\r\n          },\r\n        },\r\n      },\r\n      states: {\r\n        loading: false,\r\n        disabled: false,\r\n        success: false,\r\n      },\r\n    },\r\n    background: {\r\n      type: \"solid\",\r\n      value: \"#0A0A0A\",\r\n      overlay: {\r\n        enabled: false,\r\n        color: \"#000000\",\r\n        opacity: 0.5,\r\n      },\r\n      animation: {\r\n        enabled: false,\r\n        type: \"pulse\",\r\n        duration: 4000,\r\n        easing: \"ease-in-out\",\r\n      },\r\n    },\r\n    metadata: {\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n      version: \"1.0.0\",\r\n      author: \"HIVE Design System\",\r\n      tags: [\"hero\", \"landing\", \"animated\", \"brand\"],\r\n      abTest: {\r\n        enabled: false,\r\n        variant: \"default\",\r\n        percentage: 100,\r\n      },\r\n      analytics: {\r\n        impressions: 0,\r\n        clicks: 0,\r\n        conversionRate: 0,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n// Content Variant Helpers\r\nexport function createAnimatedHeroVariant(\r\n  rotatingWords: string[]\r\n): Partial<HeroContent> {\r\n  return {\r\n    headline: {\r\n      text: \"Experience your [rotating-word]\",\r\n      animated: {\r\n        enabled: true,\r\n        rotatingWords,\r\n        intervalMs: 2200,\r\n      },\r\n      typography: {\r\n        size: \"3xl\",\r\n        weight: \"bold\",\r\n        gradient: {\r\n          enabled: true,\r\n          colors: [\"#ffffff\", \"#FFD700\"],\r\n          animation: \"flow\",\r\n        },\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport function createMinimalHeroVariant(): Partial<HeroContent> {\r\n  return {\r\n    variant: {\r\n      type: \"minimal\",\r\n      theme: \"dark\",\r\n      layout: \"centered\",\r\n    },\r\n    headline: {\r\n      text: \"HIVE\",\r\n      typography: {\r\n        size: \"4xl\",\r\n        weight: \"black\",\r\n      },\r\n    },\r\n    background: {\r\n      type: \"solid\",\r\n      value: \"#0A0A0A\",\r\n    },\r\n  };\r\n}\r\n\r\n// Content Management Types\r\nexport interface HeroContentManager {\r\n  getContent(id: string): Promise<HeroContent>;\r\n  updateContent(\r\n    id: string,\r\n    updates: Partial<HeroContent>\r\n  ): Promise<HeroContent>;\r\n  createVariant(\r\n    baseId: string,\r\n    variant: Partial<HeroContent>\r\n  ): Promise<HeroContent>;\r\n  getAnalytics(id: string): Promise<HeroMetadata[\"analytics\"]>;\r\n  trackImpression(id: string): Promise<void>;\r\n  trackClick(id: string): Promise<void>;\r\n}\r\n\r\n// A/B Testing Types\r\nexport interface HeroABTest {\r\n  id: string;\r\n  name: string;\r\n  variants: HeroContent[];\r\n  trafficSplit: number[];\r\n  startDate: Date;\r\n  endDate?: Date;\r\n  status: \"draft\" | \"running\" | \"paused\" | \"completed\";\r\n  metrics: {\r\n    impressions: number[];\r\n    clicks: number[];\r\n    conversions: number[];\r\n  };\r\n}\r\n\r\nexport const heroABTestSchema = z.object({\r\n  id: z.string().uuid(),\r\n  name: z.string().min(1).max(100),\r\n  variants: z.array(heroContentSchema),\r\n  trafficSplit: z.array(z.number().min(0).max(100)),\r\n  startDate: z.date(),\r\n  endDate: z.date().optional(),\r\n  status: z.enum([\"draft\", \"running\", \"paused\", \"completed\"]),\r\n  metrics: z.object({\r\n    impressions: z.array(z.number().min(0)),\r\n    clicks: z.array(z.number().min(0)),\r\n    conversions: z.array(z.number().min(0)),\r\n  }),\r\n});\r\n\r\n// All types and schemas are already exported above\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\member.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\member.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\member.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\school.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\school.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\school.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\space.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\space\\discovery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\waitlistEntry.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\waitlistEntry.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\domain\\waitlistEntry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\firebase-admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\firebase.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\firebase.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\firebase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\firebase\\client.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":16,"suggestions":[{"fix":{"range":[1504,1560],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\";\r\nimport { getFirestore, connectFirestoreEmulator } from \"firebase/firestore\";\r\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\r\nimport { getFirebaseConfig, isDevelopment } from \"../env\";\r\n\r\n// Get the Firebase configuration for the current environment\r\nconst firebaseConfig = getFirebaseConfig();\r\n\r\n// Initialize Firebase app (only once)\r\nconst app =\r\n  getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\n\r\n// Initialize Firebase services\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n\r\n// Initialize Analytics (only in browser and if supported)\r\nexport let analytics: ReturnType<typeof getAnalytics> | null = null;\r\nif (typeof window !== \"undefined\") {\r\n  void isSupported().then((supported) => {\r\n    if (supported) {\r\n      analytics = getAnalytics(app);\r\n    }\r\n  });\r\n}\r\n\r\n// Connect to emulators in development (if not already connected)\r\nif (isDevelopment && typeof window !== \"undefined\") {\r\n  try {\r\n    // Only connect to emulators if not already connected\r\n    if (!auth.config.emulator) {\r\n      connectAuthEmulator(auth, \"http://localhost:9099\", {\r\n        disableWarnings: true,\r\n      });\r\n    }\r\n    if (!db._delegate._databaseId.projectId.includes(\"localhost\")) {\r\n      connectFirestoreEmulator(db, \"localhost\", 8080);\r\n    }\r\n  } catch (error) {\r\n    // Emulators might not be running, that's ok\r\n    console.log(\"Firebase emulators not available:\", error);\r\n  }\r\n}\r\n\r\nexport { app };\r\nexport default app;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\globals.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\index.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\stores\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\stores\\useAppStore.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\stores\\useAppStore.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\stores\\useAppStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\stores\\useUnseenCountStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\utils\\logger.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":20,"suggestions":[{"fix":{"range":[1134,1171],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":50,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":50,"endColumn":19,"suggestions":[{"fix":{"range":[1392,1428],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":57,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":57,"endColumn":19,"suggestions":[{"fix":{"range":[1612,1648],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":63,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":63,"endColumn":18,"suggestions":[{"fix":{"range":[1782,1819],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":73,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":73,"endColumn":19,"suggestions":[{"fix":{"range":[2073,2116],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":79,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":79,"endColumn":20,"suggestions":[{"fix":{"range":[2247,2290],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":86,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":86,"endColumn":19,"suggestions":[{"fix":{"range":[2481,2524],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":92,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":92,"endColumn":20,"suggestions":[{"fix":{"range":[2651,2696],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"type LogLevel = \"debug\" | \"info\" | \"warn\" | \"error\";\r\n\r\ninterface LogEntry {\r\n  level: LogLevel;\r\n  message: string;\r\n  timestamp: string;\r\n  data?: unknown;\r\n}\r\n\r\ninterface Logger {\r\n  debug: (message: string, data?: unknown) => void;\r\n  info: (message: string, data?: unknown) => void;\r\n  warn: (message: string, data?: unknown) => void;\r\n  error: (message: string, data?: unknown) => void;\r\n}\r\n\r\nclass HiveLogger implements Logger {\r\n  private createLogEntry(\r\n    level: LogLevel,\r\n    message: string,\r\n    data?: unknown\r\n  ): LogEntry {\r\n    return {\r\n      level,\r\n      message,\r\n      timestamp: new Date().toISOString(),\r\n      data,\r\n    };\r\n  }\r\n\r\n  private formatLog(entry: LogEntry): string {\r\n    const prefix = `[${entry.timestamp}] [${entry.level.toUpperCase()}]`;\r\n    return entry.data\r\n      ? `${prefix} ${entry.message} ${JSON.stringify(entry.data)}`\r\n      : `${prefix} ${entry.message}`;\r\n  }\r\n\r\n  debug(message: string, data?: unknown): void {\r\n    const entry = this.createLogEntry(\"debug\", message, data);\r\n    if (process.env.NODE_ENV === \"development\") {\r\n      // Use console in development only\r\n      console.debug(this.formatLog(entry));\r\n    }\r\n  }\r\n\r\n  info(message: string, data?: unknown): void {\r\n    const entry = this.createLogEntry(\"info\", message, data);\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      // Use console for info level\r\n      console.info(this.formatLog(entry));\r\n    }\r\n  }\r\n\r\n  warn(message: string, data?: unknown): void {\r\n    const entry = this.createLogEntry(\"warn\", message, data);\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      console.warn(this.formatLog(entry));\r\n    }\r\n  }\r\n\r\n  error(message: string, data?: unknown): void {\r\n    const entry = this.createLogEntry(\"error\", message, data);\r\n    console.error(this.formatLog(entry));\r\n    // TODO: Add proper error reporting service integration here\r\n  }\r\n}\r\n\r\nexport const logger = new HiveLogger();\r\n\r\nexport const logger = {\r\n  info: (message: string, ...args: unknown[]) => {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      console.info(`[INFO] ${message}`, ...args);\r\n    }\r\n  },\r\n\r\n  error: (message: string, error?: Error | unknown) => {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      console.error(`[ERROR] ${message}`, error);\r\n    }\r\n    // TODO: Add proper error reporting service integration here\r\n  },\r\n\r\n  warn: (message: string, ...args: unknown[]) => {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      console.warn(`[WARN] ${message}`, ...args);\r\n    }\r\n  },\r\n\r\n  debug: (message: string, ...args: unknown[]) => {\r\n    if (process.env.NODE_ENV === \"development\") {\r\n      console.debug(`[DEBUG] ${message}`, ...args);\r\n    }\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\core\\src\\utils\\rate-limit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\firebase\\src\\admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\firebase\\src\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\analytics\\use-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\analytics\\use-feed-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\auth\\use-auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-confetti.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-creation-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-debounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-feed-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-onboarding-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-online-status.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-posts.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'PostCreationEngine' is defined but never used. Allowed unused vars must match /^_/u.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'PostContent' is defined but never used. Allowed unused vars must match /^_/u.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'allPages' is defined but never used. Allowed unused args must match /^_/u.","line":193,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":193,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":251,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":251,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5871,5874],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5871,5874],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback, useMemo } from \"react\";\nimport {\n  useMutation,\n  useQuery,\n  useQueryClient,\n  useInfiniteQuery,\n} from \"@tanstack/react-query\";\nimport {\n  CreatePostRequest,\n  PostType,\n  PostCreationEngine,\n  Post,\n  PostContent,\n  logger,\n} from \"@hive/core\";\n// Temporarily disabled for Storybook: import { DraftManager } from \"@hive/core\";\n\n/**\n * API client for posts\n */\nconst postsApi = {\n  /**\n   * Create a new post\n   */\n  async createPost(\n    postData: CreatePostRequest\n  ): Promise<{ success: boolean; post: Post }> {\n    const response = await fetch(\"/api/posts\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(postData),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Failed to create post\");\n    }\n\n    return response.json();\n  },\n\n  /**\n   * Fetch posts for feed\n   */\n  async fetchPosts(params?: {\n    spaceId?: string;\n    limit?: number;\n    offset?: number;\n    type?: \"public\" | \"space\" | \"personal\";\n  }): Promise<{\n    success: boolean;\n    posts: Post[];\n    pagination: { limit: number; offset: number; hasMore: boolean };\n  }> {\n    const searchParams = new URLSearchParams();\n    if (params?.spaceId) searchParams.set(\"spaceId\", params.spaceId);\n    if (params?.limit) searchParams.set(\"limit\", params.limit.toString());\n    if (params?.offset) searchParams.set(\"offset\", params.offset.toString());\n    if (params?.type) searchParams.set(\"type\", params.type);\n\n    const response = await fetch(`/api/posts?${searchParams}`);\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Failed to fetch posts\");\n    }\n\n    return response.json();\n  },\n\n  /**\n   * Update a post\n   */\n  async updatePost(\n    postId: string,\n    updates: Partial<CreatePostRequest>\n  ): Promise<{ success: boolean; post: Post }> {\n    const response = await fetch(`/api/posts/${postId}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(updates),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Failed to update post\");\n    }\n\n    return response.json();\n  },\n\n  /**\n   * Delete a post\n   */\n  async deletePost(postId: string): Promise<{ success: boolean }> {\n    const response = await fetch(`/api/posts/${postId}`, {\n      method: \"DELETE\",\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Failed to delete post\");\n    }\n\n    return response.json();\n  },\n};\n\n/**\n * Hook for creating posts with optimistic updates\n */\nexport const useCreatePost = () => {\n  const queryClient = useQueryClient();\n\n  const mutation = useMutation({\n    mutationFn: postsApi.createPost,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"posts\"] });\n    },\n  });\n\n  return {\n    createPost: mutation.mutate,\n    isCreating: mutation.isPending,\n    error: mutation.error?.message,\n    reset: mutation.reset,\n  };\n};\n\n/**\n * Hook for fetching posts (feed)\n */\nexport const usePosts = (params?: {\n  spaceId?: string;\n  limit?: number;\n  type?: \"public\" | \"space\" | \"personal\";\n}) => {\n  const query = useQuery({\n    queryKey: [\"posts\", params],\n    queryFn: () => postsApi.fetchPosts(params),\n    staleTime: 1000 * 60 * 5, // 5 minutes\n    gcTime: 1000 * 60 * 30, // 30 minutes\n  });\n\n  const posts = useMemo(() => {\n    return query.data?.posts || [];\n  }, [query.data?.posts]);\n\n  const pagination = useMemo(() => {\n    return query.data?.pagination || { limit: 20, offset: 0, hasMore: false };\n  }, [query.data?.pagination]);\n\n  return {\n    posts,\n    pagination,\n    isLoading: query.isLoading,\n    isError: query.isError,\n    error: query.error?.message,\n    refetch: query.refetch,\n    hasMore: pagination.hasMore,\n  };\n};\n\n/**\n * Hook for infinite scroll posts\n */\nexport const useInfinitePosts = (params?: {\n  spaceId?: string;\n  limit?: number;\n  type?: \"public\" | \"space\" | \"personal\";\n}) => {\n  const {\n    data,\n    error,\n    fetchNextPage,\n    hasNextPage,\n    isFetching,\n    isFetchingNextPage,\n    status,\n    refetch,\n  } = useInfiniteQuery({\n    queryKey: [\"posts\", params],\n    queryFn: ({ pageParam = 0 }) =>\n      postsApi.fetchPosts({\n        ...params,\n        offset: pageParam as number,\n        limit: params?.limit || 20,\n      }),\n    initialPageParam: 0,\n    getNextPageParam: (lastPage, allPages) => {\n      if (lastPage.pagination.hasMore) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  });\n\n  const posts = useMemo(\n    () => data?.pages.flatMap((page) => page.posts) ?? [],\n    [data]\n  );\n\n  return {\n    posts,\n    error: error as Error | null,\n    fetchNextPage,\n    hasNextPage,\n    isLoading: status === \"pending\",\n    isFetching,\n    isFetchingNextPage,\n    refetch,\n  };\n};\n\n/**\n * Hook for managing post drafts\n */\nexport const usePostDrafts = (authorId: string) => {\n  const [drafts, setDrafts] = useState<\n    Array<{\n      draftId: string;\n      data: CreatePostRequest;\n      savedAt: Date;\n    }>\n  >([]);\n\n  const saveDraft = useCallback(\n    (draftData: CreatePostRequest) => {\n      const result = { draftId: `draft_${Date.now()}`, savedAt: new Date() }; // DraftManager.saveDraft(authorId, draftData);\n      const newDraft = {\n        draftId: result.draftId,\n        data: draftData,\n        savedAt: result.savedAt,\n      };\n\n      setDrafts((prev) => [\n        newDraft,\n        ...prev.filter((d) => d.draftId !== result.draftId),\n      ]);\n      return result.draftId;\n    },\n    [authorId]\n  );\n\n  const loadDrafts = useCallback(async () => {\n    try {\n      const userDrafts: any[] = []; // await DraftManager.loadDrafts(authorId);\n      setDrafts(userDrafts);\n    } catch (error) {\n      logger.error(\"Failed to load drafts:\", error);\n      return [];\n    }\n  }, [authorId]);\n\n  const deleteDraft = useCallback(\n    (draftId: string) => {\n      const success = true; // DraftManager.deleteDraft(draftId, authorId);\n      if (success) {\n        setDrafts((prev) => prev.filter((d) => d.draftId !== draftId));\n      }\n      return success;\n    },\n    [authorId]\n  );\n\n  return {\n    drafts,\n    saveDraft,\n    loadDrafts,\n    deleteDraft,\n  };\n};\n\n/**\n * Hook for post editor state management\n */\nexport const usePostEditor = (\n  type: PostType,\n  options?: {\n    spaceId?: string;\n    initialContent?: Partial<CreatePostRequest>;\n    autoSave?: boolean;\n    autoSaveInterval?: number;\n  }\n) => {\n  const [content, setContent] = useState(\n    options?.initialContent?.content?.text || \"\"\n  );\n  const [visibility, setVisibility] = useState(\n    options?.initialContent?.visibility ||\n      (options?.spaceId ? \"space-only\" : \"public\")\n  );\n  const [scheduledAt, setScheduledAt] = useState<Date | undefined>(\n    options?.initialContent?.scheduledAt\n  );\n  const [isDirty, setIsDirty] = useState(false);\n  const [lastSaved, setLastSaved] = useState<Date | null>(null);\n\n  const { createPost, isCreating, error: createError } = useCreatePost();\n  const { saveDraft } = usePostDrafts(\"current-user\"); // Would use actual user ID\n\n  // Auto-save functionality\n  const autoSave = useCallback(() => {\n    if (options?.autoSave && isDirty && content.trim()) {\n      const draftData: CreatePostRequest = {\n        type,\n        content: { text: content },\n        spaceId: options.spaceId,\n        visibility: visibility as \"public\" | \"space-only\" | \"followers-only\",\n        scheduledAt,\n      };\n\n      saveDraft(draftData);\n      setLastSaved(new Date());\n      setIsDirty(false);\n    }\n  }, [\n    options?.autoSave,\n    options?.spaceId,\n    isDirty,\n    content,\n    type,\n    visibility,\n    scheduledAt,\n    saveDraft,\n  ]);\n\n  // Track changes\n  const updateContent = useCallback((newContent: string) => {\n    setContent(newContent);\n    setIsDirty(true);\n  }, []);\n\n  const updateVisibility = useCallback(\n    (newVisibility: \"public\" | \"space-only\" | \"followers-only\") => {\n      setVisibility(newVisibility);\n      setIsDirty(true);\n    },\n    []\n  );\n\n  const updateScheduledAt = useCallback((newScheduledAt?: Date) => {\n    setScheduledAt(newScheduledAt);\n    setIsDirty(true);\n  }, []);\n\n  // Submit post\n  const submitPost = useCallback(async () => {\n    if (!content.trim()) return;\n\n    const postData: CreatePostRequest = {\n      type,\n      content: { text: content },\n      spaceId: options?.spaceId,\n      visibility: visibility as \"public\" | \"space-only\" | \"followers-only\",\n      scheduledAt,\n    };\n\n    createPost(postData);\n  }, [content, type, options?.spaceId, visibility, scheduledAt, createPost]);\n\n  // Reset editor\n  const reset = useCallback(() => {\n    setContent(\"\");\n    setVisibility(options?.spaceId ? \"space-only\" : \"public\");\n    setScheduledAt(undefined);\n    setIsDirty(false);\n    setLastSaved(null);\n  }, [options?.spaceId]);\n\n  return {\n    // Content state\n    content,\n    visibility,\n    scheduledAt,\n    isDirty,\n    lastSaved,\n\n    // Actions\n    updateContent,\n    updateVisibility,\n    updateScheduledAt,\n    submitPost,\n    autoSave,\n    reset,\n\n    // Status\n    isSubmitting: isCreating,\n    error: createError,\n    canSubmit: content.trim().length > 0 && !isCreating,\n  };\n};\n\n/**\n * Hook for post interactions (reactions, comments, shares)\n */\nexport const usePostInteractions = (postId: string) => {\n  const queryClient = useQueryClient();\n\n  const reactToPost = useMutation({\n    mutationFn: async ({ reaction }: { reaction: string }) => {\n      const response = await fetch(`/api/posts/${postId}/react`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ reaction }),\n      });\n      if (!response.ok) throw new Error(\"Failed to react to post\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"posts\"] });\n    },\n  });\n\n  const sharePost = useMutation({\n    mutationFn: async () => {\n      const response = await fetch(`/api/posts/${postId}/share`, {\n        method: \"POST\",\n      });\n      if (!response.ok) throw new Error(\"Failed to share post\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"posts\"] });\n    },\n  });\n\n  return {\n    reactToPost: reactToPost.mutate,\n    sharePost: sharePost.mutate,\n    isReacting: reactToPost.isPending,\n    isSharing: sharePost.isPending,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-reduced-motion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-space-discovery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-spaces.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\hooks\\src\\use-timer\\use-timer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\i18n\\src\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\i18n\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\i18n\\src\\translations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\tokens\\src\\colors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\tokens\\src\\effects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\tokens\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\tokens\\src\\motion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\tokens\\src\\spacing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\tokens\\src\\typography.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\.storybook\\main.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\.storybook\\preview.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\.storybook\\preview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\postcss.config.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\about-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\action-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\analytics-dashboard\\analytics-dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\analytics-dashboard\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\auth\\AuthForm.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\auth\\AuthForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\auth\\CheckEmailInfo.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\auth\\CheckEmailInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\box.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\box.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\brand\\HiveLogo.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\brand\\HiveLogo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\brand\\HiveLogoIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\brand\\MotionSystem.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Pause' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'RotateCcw' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Zap' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Smartphone' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":48,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":58},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Timer' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":65},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":266,"column":65,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[9639,9740],"text":"\r\n            Premium motion curves designed specifically for HIVE&apos;s dark-first aesthetic\r\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[9639,9740],"text":"\r\n            Premium motion curves designed specifically for HIVE&lsquo;s dark-first aesthetic\r\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[9639,9740],"text":"\r\n            Premium motion curves designed specifically for HIVE&#39;s dark-first aesthetic\r\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[9639,9740],"text":"\r\n            Premium motion curves designed specifically for HIVE&rsquo;s dark-first aesthetic\r\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":351,"column":19,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13095,13203],"text":"\r\n          How HIVE&apos;s motion system enhances dark surfaces with subtle embossing and gold accents\r\n        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13095,13203],"text":"\r\n          How HIVE&lsquo;s motion system enhances dark surfaces with subtle embossing and gold accents\r\n        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13095,13203],"text":"\r\n          How HIVE&#39;s motion system enhances dark surfaces with subtle embossing and gold accents\r\n        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13095,13203],"text":"\r\n          How HIVE&rsquo;s motion system enhances dark surfaces with subtle embossing and gold accents\r\n        "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport type { Meta, StoryObj } from '@storybook/react';\r\nimport { Button } from '../ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/card';\r\nimport { Badge } from '../ui/badge';\r\nimport { Separator } from '../ui/separator';\r\nimport { Heading, Text } from '../ui/typography';\r\nimport { Play, Pause, RotateCcw, Zap, Monitor, Smartphone, Timer, Sparkles } from 'lucide-react';\r\n\r\nconst MotionSystem = () => (\r\n    <div>Motion System</div>\r\n)\r\n\r\nconst meta: Meta = {\r\n  title: \"Brand/Motion System\",\r\n  component: MotionSystem,\r\n  parameters: {\r\n    layout: \"centered\",\r\n    backgrounds: {\r\n      default: \"hive-dark\",\r\n      values: [{ name: \"hive-dark\", value: \"#0A0A0A\" }],\r\n    },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\n// HIVE motion demo component\r\nconst HiveMotionDemo = ({ \r\n  children, \r\n  animation, \r\n  duration = '120ms',\r\n  easing = 'smooth',\r\n  isGoldAccent = false,\r\n  className = ''\r\n}: {\r\n  children: React.ReactNode;\r\n  animation: string;\r\n  duration?: string;\r\n  easing?: string;\r\n  isGoldAccent?: boolean;\r\n  className?: string;\r\n}) => {\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n\r\n  const triggerAnimation = () => {\r\n    setIsAnimating(true);\r\n    setTimeout(() => setIsAnimating(false), parseInt(duration) + 50);\r\n  };\r\n\r\n  const easingMap = {\r\n    'smooth': 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n    'snap': 'cubic-bezier(0.68, -0.55, 0.265, 1.55)', \r\n    'elegant': 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n    'brand': 'cubic-bezier(0.33, 0.65, 0, 1)',\r\n  };\r\n\r\n  return (\r\n    <Card className={`w-full border-border/50 bg-card/50 ${className}`}>\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-sm font-medium text-foreground\">{animation}</CardTitle>\r\n            <CardDescription className=\"text-xs text-muted-foreground\">\r\n              {duration} â€¢ HIVE {easing}\r\n            </CardDescription>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            {isGoldAccent && (\r\n              <Badge variant=\"secondary\" className=\"text-xs bg-yellow-400/10 text-yellow-400 border-yellow-400/20\">\r\n                <Sparkles className=\"w-3 h-3 mr-1\" />\r\n                Gold Accent\r\n              </Badge>\r\n            )}\r\n            <Button size=\"sm\" variant=\"outline\" onClick={triggerAnimation} className=\"border-border/50\">\r\n              <Play className=\"w-3 h-3\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div \r\n          className={`\r\n            p-4 rounded-lg border border-border/30\r\n            bg-gradient-to-br from-card via-card to-muted/20\r\n            transition-all duration-[${duration}]\r\n            ${isAnimating ? 'scale-105 shadow-lg' : 'scale-100'}\r\n            ${isGoldAccent && isAnimating ? 'shadow-yellow-400/20 border-yellow-400/30' : ''}\r\n          `}\r\n          style={{\r\n            transitionTimingFunction: easingMap[easing as keyof typeof easingMap] || easing,\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className={`\r\n              w-3 h-3 rounded-full transition-all duration-[${duration}]\r\n              ${isGoldAccent ? 'bg-yellow-400' : 'bg-muted-foreground/40'}\r\n              ${isAnimating ? 'scale-150' : 'scale-100'}\r\n            `} />\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\n// HIVE vs Generic comparison\r\nconst HiveVsGeneric = () => {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n      <Card className=\"border-yellow-400/20 bg-yellow-400/5\">\r\n        <CardHeader>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Sparkles className=\"w-4 h-4 text-yellow-400\" />\r\n            <CardTitle className=\"text-sm text-yellow-400\">HIVE Custom Motion</CardTitle>\r\n          </div>\r\n          <CardDescription className=\"text-xs\">Dark-first, gold accents, premium easing</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-3\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <Text size=\"sm\">Smooth (primary)</Text>\r\n            <Badge variant=\"outline\" className=\"border-yellow-400/30 text-yellow-400\">cubic-bezier(0.25, 0.46, 0.45, 0.94)</Badge>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <Text size=\"sm\">Snap (playful)</Text>\r\n            <Badge variant=\"outline\" className=\"border-yellow-400/30 text-yellow-400\">cubic-bezier(0.68, -0.55, 0.265, 1.55)</Badge>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <Text size=\"sm\">Brand (special)</Text>\r\n            <Badge variant=\"outline\" className=\"border-yellow-400/30 text-yellow-400\">cubic-bezier(0.33, 0.65, 0, 1)</Badge>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"border-muted-foreground/20\">\r\n        <CardHeader>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Monitor className=\"w-4 h-4 text-muted-foreground\" />\r\n            <CardTitle className=\"text-sm text-muted-foreground\">Generic Design Systems</CardTitle>\r\n          </div>\r\n          <CardDescription className=\"text-xs\">Material Design, Bootstrap, etc.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-3\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <Text size=\"sm\" variant=\"muted\">Material Standard</Text>\r\n            <Badge variant=\"secondary\" className=\"opacity-60\">cubic-bezier(0.4, 0.0, 0.2, 1)</Badge>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <Text size=\"sm\" variant=\"muted\">CSS Ease</Text>\r\n            <Badge variant=\"secondary\" className=\"opacity-60\">ease-out</Badge>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <Text size=\"sm\" variant=\"muted\">Bootstrap</Text>\r\n            <Badge variant=\"secondary\" className=\"opacity-60\">ease-in-out</Badge>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Overview: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-8 p-6 bg-background\">\r\n      <div className=\"space-y-2\">\r\n        <Heading size=\"h1\" className=\"text-foreground\">HIVE Motion System</Heading>\r\n        <Text variant=\"muted\">\r\n          Custom motion language for dark-first UI with gold accents. Built on Tailwind + shadcn/ui + Radix primitives.\r\n          <strong className=\"text-yellow-400 ml-1\">NO Material Design.</strong>\r\n        </Text>\r\n      </div>\r\n\r\n      <Separator className=\"bg-border/50\" />\r\n\r\n      <div className=\"space-y-4\">\r\n        <Heading size=\"h3\">HIVE vs Generic Design Systems</Heading>\r\n        <HiveVsGeneric />\r\n      </div>\r\n\r\n      <Separator className=\"bg-border/50\" />\r\n\r\n      <div className=\"space-y-4\">\r\n        <Heading size=\"h3\">HIVE Motion Examples</Heading>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <HiveMotionDemo \r\n            animation=\"Instant Feedback\"\r\n            duration=\"50ms\"\r\n            easing=\"smooth\"\r\n          >\r\n            <Text size=\"sm\">Immediate hover response, focus states</Text>\r\n          </HiveMotionDemo>\r\n\r\n          <HiveMotionDemo \r\n            animation=\"Micro Interactions\"\r\n            duration=\"120ms\"\r\n            easing=\"snap\"\r\n          >\r\n            <Text size=\"sm\">Button clicks, toggles, playful moments</Text>\r\n          </HiveMotionDemo>\r\n\r\n          <HiveMotionDemo \r\n            animation=\"Content Transitions\"\r\n            duration=\"180ms\"\r\n            easing=\"elegant\"\r\n          >\r\n            <Text size=\"sm\">Modal opens, page transitions, reveals</Text>\r\n          </HiveMotionDemo>\r\n\r\n          <HiveMotionDemo \r\n            animation=\"Ritual Celebrations\"\r\n            duration=\"400ms\"\r\n            easing=\"brand\"\r\n            isGoldAccent={true}\r\n          >\r\n            <Text size=\"sm\">Space joins, achievements, special HIVE moments</Text>\r\n          </HiveMotionDemo>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\nexport const HiveEasing: Story = {\r\n  render: () => {\r\n    const [activeDemo, setActiveDemo] = useState<string | null>(null);\r\n\r\n    const hiveCurves = [\r\n      {\r\n        name: 'Smooth',\r\n        value: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        description: 'Primary HIVE easing - confident, premium feel',\r\n        primary: true,\r\n        usage: 'Most UI interactions, cards, buttons',\r\n      },\r\n      {\r\n        name: 'Snap',\r\n        value: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\r\n        description: 'Playful bounce for micro-interactions',\r\n        primary: false,\r\n        usage: 'Button presses, toggles, fun moments',\r\n      },\r\n      {\r\n        name: 'Elegant',\r\n        value: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        description: 'Refined, sophisticated transitions',\r\n        primary: false,\r\n        usage: 'Modals, overlays, content reveals',\r\n      },\r\n      {\r\n        name: 'Brand',\r\n        value: 'cubic-bezier(0.33, 0.65, 0, 1)',\r\n        description: 'Signature HIVE spring for special moments',\r\n        primary: false,\r\n        usage: 'Rituals, celebrations, gold accent states',\r\n        special: true,\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <div className=\"space-y-6 p-6 bg-background\">\r\n        <div className=\"space-y-2\">\r\n          <Heading size=\"h2\">HIVE Custom Easing Functions</Heading>\r\n          <Text variant=\"muted\">\r\n            Premium motion curves designed specifically for HIVE's dark-first aesthetic\r\n          </Text>\r\n        </div>\r\n\r\n        <div className=\"grid gap-4\">\r\n          {hiveCurves.map((curve) => (\r\n            <Card \r\n              key={curve.name} \r\n              className={`\r\n                ${curve.primary ? 'ring-1 ring-yellow-400/30 bg-yellow-400/5' : 'border-border/50'}\r\n                ${curve.special ? 'border-yellow-400/50 bg-gradient-to-r from-yellow-400/5 to-yellow-600/5' : ''}\r\n              `}\r\n            >\r\n              <CardHeader>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <CardTitle className=\"text-base flex items-center gap-2\">\r\n                      {curve.name}\r\n                      {curve.primary && (\r\n                        <Badge variant=\"default\" className=\"bg-yellow-400 text-yellow-950\">\r\n                          Primary\r\n                        </Badge>\r\n                      )}\r\n                      {curve.special && (\r\n                        <Badge variant=\"outline\" className=\"border-yellow-400/50 text-yellow-400\">\r\n                          <Sparkles className=\"w-3 h-3 mr-1\" />\r\n                          Special\r\n                        </Badge>\r\n                      )}\r\n                    </CardTitle>\r\n                    <CardDescription>{curve.description}</CardDescription>\r\n                    <Text size=\"xs\" variant=\"muted\" className=\"mt-1\">\r\n                      Usage: {curve.usage}\r\n                    </Text>\r\n                  </div>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => {\r\n                      setActiveDemo(curve.name);\r\n                      setTimeout(() => setActiveDemo(null), 400);\r\n                    }}\r\n                    className=\"border-border/50\"\r\n                  >\r\n                    <Play className=\"w-3 h-3 mr-1\" />\r\n                    Demo\r\n                  </Button>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  <Text size=\"xs\" variant=\"muted\" className=\"font-mono bg-muted/30 p-2 rounded\">\r\n                    {curve.value}\r\n                  </Text>\r\n                  <div className=\"relative overflow-hidden\">\r\n                    <div \r\n                      className={`\r\n                        w-12 h-12 rounded-lg flex items-center justify-center text-xs font-medium\r\n                        transition-transform duration-300\r\n                        ${curve.special ? 'bg-yellow-400 text-yellow-950' : 'bg-muted text-muted-foreground'}\r\n                        ${activeDemo === curve.name ? 'translate-x-32' : 'translate-x-0'}\r\n                      `}\r\n                      style={{\r\n                        transitionTimingFunction: curve.value,\r\n                      }}\r\n                    >\r\n                      {curve.name}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  },\r\n};\r\n\r\nexport const DarkFirstDesign: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6 p-6 bg-background\">\r\n      <div className=\"space-y-2\">\r\n        <Heading size=\"h2\">Dark-First Motion Design</Heading>\r\n        <Text variant=\"muted\">\r\n          How HIVE's motion system enhances dark surfaces with subtle embossing and gold accents\r\n        </Text>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card className=\"border-border/50 bg-card/50\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-base flex items-center gap-2\">\r\n              <div className=\"w-4 h-4 bg-gradient-to-br from-card to-muted rounded\" />\r\n              Surface Elevation\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Subtle embossing effects for dark surfaces\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"p-4 bg-gradient-to-br from-card via-card to-muted/20 border border-border/30 rounded-lg transition-all duration-200 hover:scale-[1.01] hover:shadow-lg hover:shadow-black/20\">\r\n                <Text size=\"sm\">Card with subtle hover elevation</Text>\r\n              </div>\r\n              <div className=\"p-4 bg-gradient-to-br from-muted/50 to-muted/20 border border-border/50 rounded-lg transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-black/30\">\r\n                <Text size=\"sm\">Enhanced emboss effect</Text>\r\n              </div>\r\n            </div>\r\n            <Text size=\"xs\" variant=\"muted\">\r\n              Dark surfaces use scale + shadow for depth, not bright highlights\r\n            </Text>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-yellow-400/20 bg-yellow-400/5\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-base flex items-center gap-2\">\r\n              <div className=\"w-4 h-4 bg-yellow-400 rounded\" />\r\n              Gold Accent States\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Premium gold highlights for special interactions\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"space-y-3\">\r\n              <Button \r\n                variant=\"outline\" \r\n                className=\"w-full border-yellow-400/30 hover:border-yellow-400 hover:shadow-lg hover:shadow-yellow-400/20 transition-all duration-200\"\r\n              >\r\n                Gold accent button\r\n              </Button>\r\n              <div className=\"p-4 border border-yellow-400/30 rounded-lg transition-all duration-200 hover:border-yellow-400 hover:shadow-lg hover:shadow-yellow-400/20 hover:bg-yellow-400/10\">\r\n                <Text size=\"sm\">Gold accent card</Text>\r\n              </div>\r\n            </div>\r\n            <Text size=\"xs\" variant=\"muted\">\r\n              Gold accents reserved for primary actions and special states\r\n            </Text>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  ),\r\n}; \r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\brand\\SpacingSystem.stories.tsx","messages":[{"ruleId":"react/jsx-no-comment-textnodes","severity":2,"message":"Comments inside children section of tag should be placed inside braces","line":329,"column":53,"nodeType":"JSXText","messageId":"putCommentInBraces","endLine":331,"endColumn":17},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":407,"column":29,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=&quot;space-y-2 md:space-y-4 lg:space-y-6\"\r\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=&ldquo;space-y-2 md:space-y-4 lg:space-y-6\"\r\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=&#34;space-y-2 md:space-y-4 lg:space-y-6\"\r\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=&rdquo;space-y-2 md:space-y-4 lg:space-y-6\"\r\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":407,"column":65,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=\"space-y-2 md:space-y-4 lg:space-y-6&quot;\r\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=\"space-y-2 md:space-y-4 lg:space-y-6&ldquo;\r\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=\"space-y-2 md:space-y-4 lg:space-y-6&#34;\r\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[15151,15236],"text":"\r\n                  className=\"space-y-2 md:space-y-4 lg:space-y-6&rdquo;\r\n                "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport type { Meta, StoryObj } from '@storybook/react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/card';\r\nimport { Badge } from '../ui/badge';\r\nimport { Separator } from '../ui/separator';\r\nimport { Button } from '../ui/button';\r\nimport { Heading, Text } from '../ui/typography';\r\nimport { Monitor, Smartphone, Zap, Eye, Grid, Ruler, Layout } from 'lucide-react';\r\n\r\nconst SpacingSystem = () => (\r\n    <div>Spacing System</div>\r\n);\r\n\r\nconst meta: Meta = {\r\n    title: \"Brand/Spacing System\",\r\n    component: SpacingSystem,\r\n    parameters: {\r\n        layout: \"centered\",\r\n        backgrounds: {\r\n            default: \"hive-dark\",\r\n            values: [{ name: \"hive-dark\", value: \"#0A0A0A\" }],\r\n        },\r\n        docs: {\r\n            description: {\r\n                component: 'HIVE spacing system using shadcn/ui components and 8dp grid system. Optimized for web with responsive breakpoints, performance-conscious layout patterns, and accessibility-first touch targets.',\r\n            },\r\n        },\r\n    },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\n// Spacing demo component with shadcn/ui\r\nconst SpacingDemo = ({ \r\n  size, \r\n  label, \r\n  description,\r\n  isPerformant = true,\r\n  className = \"\"\r\n}: { \r\n  size: string; \r\n  label: string; \r\n  description: string;\r\n  isPerformant?: boolean;\r\n  className?: string;\r\n}) => (\r\n  <Card className={`w-full ${className}`}>\r\n    <CardHeader className=\"pb-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <CardTitle className=\"text-sm font-medium\">{label}</CardTitle>\r\n          <CardDescription className=\"text-xs\">{size} â€¢ {description}</CardDescription>\r\n        </div>\r\n        {isPerformant && (\r\n          <Badge variant=\"secondary\" className=\"text-xs\">\r\n            <Zap className=\"w-3 h-3 mr-1\" />\r\n            Optimized\r\n          </Badge>\r\n        )}\r\n      </div>\r\n    </CardHeader>\r\n    <CardContent>\r\n      <div className=\"flex items-center gap-4\">\r\n        <div \r\n          className=\"bg-yellow-400 rounded-lg flex items-center justify-center text-yellow-950 font-medium text-xs\"\r\n          style={{ width: size, height: size }}\r\n        >\r\n          {size}\r\n        </div>\r\n        <div className=\"flex-1\">\r\n          <div className=\"h-2 bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 rounded-full\" />\r\n        </div>\r\n      </div>\r\n    </CardContent>\r\n  </Card>\r\n);\r\n\r\n// Grid system demo\r\nconst GridDemo = ({ columns, label, breakpoint }: { columns: number; label: string; breakpoint: string }) => (\r\n  <Card>\r\n    <CardHeader className=\"pb-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <CardTitle className=\"text-sm\">{label}</CardTitle>\r\n          <CardDescription className=\"text-xs\">{columns} columns â€¢ {breakpoint}</CardDescription>\r\n        </div>\r\n        <Badge variant=\"outline\" className=\"text-xs\">\r\n          <Grid className=\"w-3 h-3 mr-1\" />\r\n          Grid\r\n        </Badge>\r\n      </div>\r\n    </CardHeader>\r\n    <CardContent>\r\n      <div \r\n        className=\"grid gap-1\"\r\n        style={{ gridTemplateColumns: `repeat(${columns}, 1fr)` }}\r\n      >\r\n        {Array.from({ length: columns }, (_, i) => (\r\n          <div \r\n            key={i}\r\n            className=\"h-8 bg-yellow-400/20 border border-yellow-400/30 rounded flex items-center justify-center text-xs font-mono\"\r\n          >\r\n            {i + 1}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </CardContent>\r\n  </Card>\r\n);\r\n\r\n// Component spacing examples\r\nconst ComponentSpacingDemo = () => {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"text-base\">Form Layout Example</CardTitle>\r\n          <CardDescription>Using HIVE 8dp spacing system</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Text size=\"sm\" weight=\"medium\">Email Address</Text>\r\n            <div className=\"h-10 bg-muted rounded-md border flex items-center px-3\">\r\n              <Text size=\"sm\" variant=\"muted\">user@university.edu</Text>\r\n            </div>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Text size=\"sm\" weight=\"medium\">Full Name</Text>\r\n            <div className=\"h-10 bg-muted rounded-md border flex items-center px-3\">\r\n              <Text size=\"sm\" variant=\"muted\">John Doe</Text>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-3 pt-2\">\r\n            <Button size=\"sm\" className=\"flex-1\">Continue</Button>\r\n            <Button size=\"sm\" variant=\"outline\">Cancel</Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"text-base\">Card Layout Example</CardTitle>\r\n          <CardDescription>Consistent spacing across components</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"p-4 border border-border rounded-lg space-y-3\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 bg-yellow-400/20 rounded-full\" />\r\n                <div>\r\n                  <Text size=\"sm\" weight=\"medium\">Computer Science</Text>\r\n                  <Text size=\"xs\" variant=\"muted\">124 members</Text>\r\n                </div>\r\n              </div>\r\n              <Text size=\"sm\">Weekly study sessions, project collaboration, and career discussions.</Text>\r\n              <Button size=\"sm\" variant=\"outline\" className=\"w-full\">Join Space</Button>\r\n            </div>\r\n            \r\n            <div className=\"p-4 border border-border rounded-lg space-y-3\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 bg-yellow-400/20 rounded-full\" />\r\n                <div>\r\n                  <Text size=\"sm\" weight=\"medium\">Design Club</Text>\r\n                  <Text size=\"xs\" variant=\"muted\">89 members</Text>\r\n                </div>\r\n              </div>\r\n              <Text size=\"sm\">Creative workshops, design critiques, and portfolio reviews.</Text>\r\n              <Button size=\"sm\" variant=\"outline\" className=\"w-full\">Join Space</Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Overview: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-8 p-6\">\r\n      <div className=\"space-y-2\">\r\n        <Heading size=\"h1\">HIVE Spacing System</Heading>\r\n        <Text variant=\"muted\">\r\n          8dp-based spacing system using shadcn/ui components for consistent, accessible layouts.\r\n          Optimized for web performance and responsive design.\r\n        </Text>\r\n      </div>\r\n\r\n      <Separator />\r\n\r\n      <div className=\"space-y-4\">\r\n        <Heading size=\"h3\">Spacing Scale (8dp Base)</Heading>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <SpacingDemo \r\n            size=\"8px\" \r\n            label=\"Micro (1x)\" \r\n            description=\"Tight spacing, form elements\"\r\n          />\r\n          <SpacingDemo \r\n            size=\"16px\" \r\n            label=\"Small (2x)\" \r\n            description=\"Component padding, button spacing\"\r\n          />\r\n          <SpacingDemo \r\n            size=\"24px\" \r\n            label=\"Base (3x)\" \r\n            description=\"Section spacing, card margins\"\r\n          />\r\n          <SpacingDemo \r\n            size=\"32px\" \r\n            label=\"Large (4x)\" \r\n            description=\"Layout sections, page margins\"\r\n          />\r\n          <SpacingDemo \r\n            size=\"40px\" \r\n            label=\"XL (5x)\" \r\n            description=\"Hero sections, major dividers\"\r\n          />\r\n          <SpacingDemo \r\n            size=\"48px\" \r\n            label=\"2XL (6x)\" \r\n            description=\"Page-level spacing, headers\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <Separator />\r\n\r\n      <div className=\"space-y-4\">\r\n        <Heading size=\"h3\">Responsive Grid System</Heading>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <GridDemo columns={12} label=\"Desktop Grid\" breakpoint=\"â‰¥768px\" />\r\n          <GridDemo columns={4} label=\"Mobile Grid\" breakpoint=\"<768px\" />\r\n        </div>\r\n      </div>\r\n\r\n      <Separator />\r\n\r\n      <div className=\"space-y-4\">\r\n        <Heading size=\"h3\">Real-World Examples</Heading>\r\n        <ComponentSpacingDemo />\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\nexport const AccessibilityGuidelines: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6 p-6\">\r\n      <div className=\"space-y-2\">\r\n        <Heading size=\"h2\">Accessibility & Touch Targets</Heading>\r\n        <Text variant=\"muted\">\r\n          Spacing system ensures WCAG 2.1 AA compliance with proper touch target sizes\r\n        </Text>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"text-base flex items-center gap-2\">\r\n              <Eye className=\"w-4 h-4\" />\r\n              Touch Target Guidelines\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Minimum sizes for interactive elements\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <Text size=\"sm\">Minimum touch target</Text>\r\n                <Badge variant=\"outline\">44px Ã— 44px</Badge>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <Text size=\"sm\">Comfortable spacing</Text>\r\n                <Badge variant=\"outline\">8px margin</Badge>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <Text size=\"sm\">Focus indicator</Text>\r\n                <Badge variant=\"outline\">2px outline</Badge>\r\n              </div>\r\n            </div>\r\n            \r\n            <Separator />\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Text size=\"sm\" weight=\"medium\">Example: Button Row</Text>\r\n              <div className=\"flex gap-2\">\r\n                <Button size=\"sm\">Primary</Button>\r\n                <Button size=\"sm\" variant=\"outline\">Secondary</Button>\r\n                <Button size=\"sm\" variant=\"ghost\">Cancel</Button>\r\n              </div>\r\n              <Text size=\"xs\" variant=\"muted\">\r\n                Each button meets 44px minimum with 8px spacing\r\n              </Text>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"text-base flex items-center gap-2\">\r\n              <Layout className=\"w-4 h-4\" />\r\n              Performance Considerations\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Spacing optimizations for web performance\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Badge variant=\"outline\" className=\"w-full justify-start\">\r\n                <Zap className=\"w-3 h-3 mr-2\" />\r\n                CSS Grid for complex layouts\r\n              </Badge>\r\n              <Badge variant=\"outline\" className=\"w-full justify-start\">\r\n                <Monitor className=\"w-3 h-3 mr-2\" />\r\n                Flexbox for component spacing\r\n              </Badge>\r\n              <Badge variant=\"outline\" className=\"w-full justify-start\">\r\n                <Ruler className=\"w-3 h-3 mr-2\" />\r\n                Consistent rem/px units\r\n              </Badge>\r\n            </div>\r\n            \r\n            <Separator />\r\n            \r\n            <div className=\"p-3 bg-muted/50 rounded-lg\">\r\n              <Text size=\"sm\" className=\"font-mono\">\r\n                /* Optimized spacing */\r\n                <br />\r\n                .space-y-4 &gt; * + * {'{'}\r\n                <br />\r\n                &nbsp;&nbsp;margin-top: 1rem; /* 16px */\r\n                <br />\r\n                {'}'}\r\n              </Text>\r\n            </div>\r\n            <Text size=\"xs\" variant=\"muted\">\r\n              Uses efficient CSS selectors for spacing\r\n            </Text>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\nexport const ResponsiveBreakpoints: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6 p-6\">\r\n      <div className=\"space-y-2\">\r\n        <Heading size=\"h2\">Responsive Spacing</Heading>\r\n        <Text variant=\"muted\">\r\n          Adaptive spacing system that scales across device sizes\r\n        </Text>\r\n      </div>\r\n\r\n      <div className=\"space-y-6\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"text-base\">Breakpoint System</CardTitle>\r\n            <CardDescription>Tailwind CSS responsive breakpoints</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n              <div className=\"p-4 border border-border rounded-lg text-center space-y-2\">\r\n                <Smartphone className=\"w-6 h-6 mx-auto text-muted-foreground\" />\r\n                <Text size=\"sm\" weight=\"medium\">Mobile</Text>\r\n                <Text size=\"xs\" variant=\"muted\">&lt; 640px</Text>\r\n                <Badge variant=\"outline\">sm</Badge>\r\n              </div>\r\n              \r\n              <div className=\"p-4 border border-border rounded-lg text-center space-y-2\">\r\n                <Monitor className=\"w-6 h-6 mx-auto text-muted-foreground\" />\r\n                <Text size=\"sm\" weight=\"medium\">Tablet</Text>\r\n                <Text size=\"xs\" variant=\"muted\">â‰¥ 768px</Text>\r\n                <Badge variant=\"outline\">md</Badge>\r\n              </div>\r\n              \r\n              <div className=\"p-4 border border-border rounded-lg text-center space-y-2\">\r\n                <Monitor className=\"w-6 h-6 mx-auto text-muted-foreground\" />\r\n                <Text size=\"sm\" weight=\"medium\">Desktop</Text>\r\n                <Text size=\"xs\" variant=\"muted\">â‰¥ 1024px</Text>\r\n                <Badge variant=\"outline\">lg</Badge>\r\n              </div>\r\n              \r\n              <div className=\"p-4 border border-border rounded-lg text-center space-y-2\">\r\n                <Monitor className=\"w-6 h-6 mx-auto text-muted-foreground\" />\r\n                <Text size=\"sm\" weight=\"medium\">Wide</Text>\r\n                <Text size=\"xs\" variant=\"muted\">â‰¥ 1280px</Text>\r\n                <Badge variant=\"outline\">xl</Badge>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"text-base\">Responsive Spacing Example</CardTitle>\r\n            <CardDescription>How spacing adapts across screen sizes</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"p-4 border border-dashed border-yellow-400/50 rounded-lg\">\r\n                <Text size=\"sm\" className=\"font-mono mb-2\">\r\n                  className=\"space-y-2 md:space-y-4 lg:space-y-6\"\r\n                </Text>\r\n                <div className=\"space-y-2 md:space-y-4 lg:space-y-6\">\r\n                  <div className=\"h-8 bg-yellow-400/20 rounded flex items-center px-3\">\r\n                    <Text size=\"xs\">Mobile: 8px spacing</Text>\r\n                  </div>\r\n                  <div className=\"h-8 bg-yellow-400/20 rounded flex items-center px-3\">\r\n                    <Text size=\"xs\">Tablet: 16px spacing</Text>\r\n                  </div>\r\n                  <div className=\"h-8 bg-yellow-400/20 rounded flex items-center px-3\">\r\n                    <Text size=\"xs\">Desktop: 24px spacing</Text>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <Text size=\"sm\" variant=\"muted\">\r\n                Spacing automatically increases on larger screens for better visual hierarchy\r\n              </Text>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  ),\r\n}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\brand\\TypographyGeistComparison.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\brand\\hive-logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\calendar-widget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\command-palette.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\adaptive-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\badge-system-simple.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\badge-system.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'CheckCircle' is defined but never used. Allowed unused vars must match /^_/u.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'TrendingUp' is defined but never used. Allowed unused vars must match /^_/u.","line":14,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'MapPin' is defined but never used. Allowed unused vars must match /^_/u.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Calendar' is defined but never used. Allowed unused vars must match /^_/u.","line":18,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Crown' is defined but never used. Allowed unused vars must match /^_/u.","line":19,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Zap' is defined but never used. Allowed unused vars must match /^_/u.","line":20,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":6},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":312,"column":51,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[9987,9998],"text":"Dean&apos;s List"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[9987,9998],"text":"Dean&lsquo;s List"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[9987,9998],"text":"Dean&#39;s List"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[9987,9998],"text":"Dean&rsquo;s List"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":516,"column":69,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[19105,19162],"text":"Seamlessly integrated with HIVE&apos;s brand and design system"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[19105,19162],"text":"Seamlessly integrated with HIVE&lsquo;s brand and design system"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[19105,19162],"text":"Seamlessly integrated with HIVE&#39;s brand and design system"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[19105,19162],"text":"Seamlessly integrated with HIVE&rsquo;s brand and design system"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport type { Meta, StoryObj } from '@storybook/react';\r\nimport { \r\n  Badge, \r\n  StatusBadge, \r\n  PriorityBadge, \r\n  CountBadge, \r\n  DotBadge, \r\n  BadgeGroup \r\n} from './badge-system';\r\nimport { \r\n  CheckCircle,\r\n  Star,\r\n  TrendingUp,\r\n  Heart,\r\n  Users,\r\n  MapPin,\r\n  Calendar,\r\n  Crown,\r\n  Zap,\r\n  Eye\r\n} from 'lucide-react';\r\n\r\nconst meta: Meta<typeof Badge> = {\r\n  title: 'Content/Badge System',\r\n  component: Badge,\r\n  parameters: {\r\n    layout: 'centered',\r\n    docs: {\r\n      description: {\r\n        component: 'Sophisticated badge system for HIVE campus OS with brand-perfect styling, semantic variants, and campus-specific indicators.',\r\n      },\r\n    },\r\n  },\r\n  argTypes: {\r\n    variant: {\r\n      control: 'select',\r\n      options: [\r\n        'verified', 'live', 'trending', 'featured', 'new',\r\n        'high', 'medium', 'low',\r\n        'space', 'event', 'location', 'role',\r\n        'popular', 'success', 'warning', 'error', 'neutral'\r\n      ],\r\n    },\r\n    size: {\r\n      control: 'select',\r\n      options: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n    },\r\n    shape: {\r\n      control: 'select',\r\n      options: ['rounded', 'square', 'pill'],\r\n    },\r\n    showIcon: {\r\n      control: 'boolean',\r\n    },\r\n    animated: {\r\n      control: 'boolean',\r\n    },\r\n    pulse: {\r\n      control: 'boolean',\r\n    },\r\n    dot: {\r\n      control: 'boolean',\r\n    },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof Badge>;\r\n\r\n// Basic Badge Examples\r\nexport const Default: Story = {\r\n  args: {\r\n    children: 'Badge',\r\n    variant: 'neutral',\r\n    size: 'sm',\r\n  },\r\n};\r\n\r\nexport const WithIcon: Story = {\r\n  args: {\r\n    children: 'Verified',\r\n    variant: 'verified',\r\n    showIcon: true,\r\n    size: 'sm',\r\n  },\r\n};\r\n\r\nexport const CustomIcon: Story = {\r\n  args: {\r\n    children: 'Custom',\r\n    variant: 'neutral',\r\n    icon: Star,\r\n    size: 'sm',\r\n  },\r\n};\r\n\r\n// Status Badge Variants\r\nexport const StatusBadges: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Status Badges</h3>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <StatusBadge status=\"verified\">Verified</StatusBadge>\r\n          <StatusBadge status=\"live\">Live</StatusBadge>\r\n          <StatusBadge status=\"trending\">Trending</StatusBadge>\r\n          <StatusBadge status=\"featured\">Featured</StatusBadge>\r\n          <StatusBadge status=\"new\">New</StatusBadge>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Priority Badge Variants\r\nexport const PriorityBadges: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Priority Badges</h3>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <PriorityBadge priority=\"high\">High Priority</PriorityBadge>\r\n          <PriorityBadge priority=\"medium\">Medium</PriorityBadge>\r\n          <PriorityBadge priority=\"low\">Low</PriorityBadge>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Context Badge Variants\r\nexport const ContextBadges: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Context Badges</h3>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <Badge variant=\"space\" showIcon>Engineering Society</Badge>\r\n          <Badge variant=\"event\" showIcon>Workshop</Badge>\r\n          <Badge variant=\"location\" showIcon>Library</Badge>\r\n          <Badge variant=\"role\" showIcon>Admin</Badge>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Size Variants\r\nexport const SizeVariants: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Size Variants</h3>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Badge size=\"xs\" variant=\"verified\" showIcon>XS</Badge>\r\n          <Badge size=\"sm\" variant=\"verified\" showIcon>SM</Badge>\r\n          <Badge size=\"md\" variant=\"verified\" showIcon>MD</Badge>\r\n          <Badge size=\"lg\" variant=\"verified\" showIcon>LG</Badge>\r\n          <Badge size=\"xl\" variant=\"verified\" showIcon>XL</Badge>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Shape Variants\r\nexport const ShapeVariants: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Shape Variants</h3>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Badge shape=\"rounded\" variant=\"verified\">Rounded</Badge>\r\n          <Badge shape=\"square\" variant=\"verified\">Square</Badge>\r\n          <Badge shape=\"pill\" variant=\"verified\">Pill Shape</Badge>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Count Badges\r\nexport const CountBadges: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Count Badges</h3>\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"relative\">\r\n            <Users className=\"h-6 w-6 text-white\" />\r\n            <CountBadge count={5} variant=\"verified\" size=\"xs\" className=\"absolute -top-1 -right-1\" />\r\n          </div>\r\n          <div className=\"relative\">\r\n            <Heart className=\"h-6 w-6 text-white\" />\r\n            <CountBadge count={42} variant=\"popular\" size=\"xs\" className=\"absolute -top-1 -right-1\" />\r\n          </div>\r\n          <div className=\"relative\">\r\n            <Eye className=\"h-6 w-6 text-white\" />\r\n            <CountBadge count={999} max={99} variant=\"neutral\" size=\"xs\" className=\"absolute -top-1 -right-1\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Dot Indicators\r\nexport const DotIndicators: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Dot Indicators</h3>\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"relative\">\r\n            <div className=\"w-8 h-8 bg-white/10 rounded-full\" />\r\n            <DotBadge variant=\"live\" className=\"absolute -top-0.5 -right-0.5\" />\r\n          </div>\r\n          <div className=\"relative\">\r\n            <div className=\"w-8 h-8 bg-white/10 rounded-full\" />\r\n            <DotBadge variant=\"verified\" className=\"absolute -top-0.5 -right-0.5\" />\r\n          </div>\r\n          <div className=\"relative\">\r\n            <div className=\"w-8 h-8 bg-white/10 rounded-full\" />\r\n            <DotBadge variant=\"new\" className=\"absolute -top-0.5 -right-0.5\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Animated Badges\r\nexport const AnimatedBadges: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Animated Badges</h3>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Badge variant=\"live\" animated pulse>\r\n            Live Event\r\n          </Badge>\r\n          <Badge variant=\"trending\" animated showIcon>\r\n            Trending\r\n          </Badge>\r\n          <Badge variant=\"new\" animated showIcon>\r\n            Just Posted\r\n          </Badge>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Badge Groups\r\nexport const BadgeGroups: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-white font-medium\">Badge Groups</h3>\r\n        \r\n        <div className=\"space-y-3\">\r\n          <h4 className=\"text-white/80 text-sm\">Space Tags</h4>\r\n          <BadgeGroup spacing=\"normal\">\r\n            <Badge variant=\"space\" size=\"sm\">Engineering</Badge>\r\n            <Badge variant=\"verified\" size=\"sm\" showIcon>Official</Badge>\r\n            <Badge variant=\"popular\" size=\"sm\" showIcon>Popular</Badge>\r\n          </BadgeGroup>\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          <h4 className=\"text-white/80 text-sm\">Event Status</h4>\r\n          <BadgeGroup spacing=\"tight\">\r\n            <Badge variant=\"live\" size=\"sm\" pulse>Live</Badge>\r\n            <Badge variant=\"location\" size=\"sm\" showIcon>Room 204</Badge>\r\n            <Badge variant=\"high\" size=\"sm\" showIcon>Important</Badge>\r\n          </BadgeGroup>\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          <h4 className=\"text-white/80 text-sm\">User Profile</h4>\r\n          <BadgeGroup spacing=\"loose\">\r\n            <Badge variant=\"verified\" size=\"md\" showIcon>Verified Student</Badge>\r\n            <Badge variant=\"role\" size=\"md\" showIcon>TA</Badge>\r\n            <Badge variant=\"featured\" size=\"md\" showIcon>Top Contributor</Badge>\r\n          </BadgeGroup>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Campus Use Cases\r\nexport const CampusUseCases: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6 p-6 bg-[#0A0A0A] rounded-lg max-w-md\">\r\n      <h3 className=\"text-white font-medium\">Campus Use Cases</h3>\r\n      \r\n      {/* Student Profile */}\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-8 h-8 bg-white/10 rounded-full\" />\r\n          <span className=\"text-white text-sm\">Sarah Chen</span>\r\n          <BadgeGroup spacing=\"tight\">\r\n            <DotBadge variant=\"live\" show />\r\n            <Badge variant=\"verified\" size=\"xs\" showIcon />\r\n          </BadgeGroup>\r\n        </div>\r\n        <BadgeGroup spacing=\"normal\">\r\n          <Badge variant=\"role\" size=\"xs\">CS Major</Badge>\r\n          <Badge variant=\"space\" size=\"xs\">IEEE Member</Badge>\r\n          <Badge variant=\"featured\" size=\"xs\">Dean's List</Badge>\r\n        </BadgeGroup>\r\n      </div>\r\n\r\n      {/* Event Card */}\r\n      <div className=\"bg-white/5 p-3 rounded-lg space-y-2\">\r\n        <div className=\"flex justify-between items-start\">\r\n          <span className=\"text-white text-sm font-medium\">Tech Talk: AI Ethics</span>\r\n          <Badge variant=\"live\" size=\"xs\" pulse>Live</Badge>\r\n        </div>\r\n        <BadgeGroup spacing=\"normal\">\r\n          <Badge variant=\"location\" size=\"xs\" showIcon>Auditorium</Badge>\r\n          <Badge variant=\"high\" size=\"xs\" showIcon>Priority</Badge>\r\n          <CountBadge count={47} variant=\"popular\" size=\"xs\" />\r\n        </BadgeGroup>\r\n      </div>\r\n\r\n      {/* Space Card */}\r\n      <div className=\"bg-white/5 p-3 rounded-lg space-y-2\">\r\n        <div className=\"flex justify-between items-start\">\r\n          <span className=\"text-white text-sm font-medium\">Machine Learning Society</span>\r\n          <Badge variant=\"verified\" size=\"xs\" showIcon />\r\n        </div>\r\n        <BadgeGroup spacing=\"normal\">\r\n          <Badge variant=\"trending\" size=\"xs\" showIcon>Trending</Badge>\r\n          <Badge variant=\"space\" size=\"xs\">Engineering</Badge>\r\n          <CountBadge count={234} variant=\"popular\" size=\"xs\" />\r\n        </BadgeGroup>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Semantic System\r\nexport const SemanticSystem: Story = {\r\n  render: () => (\r\n    <div className=\"flex flex-wrap gap-4 p-6 bg-[#0A0A0A] rounded-lg\">\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"text-white font-medium\">Semantic System</h3>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-white/80 text-xs uppercase tracking-wide\">Status</h4>\r\n            <div className=\"space-y-1\">\r\n              <div><Badge variant=\"success\" size=\"sm\" showIcon>Success</Badge></div>\r\n              <div><Badge variant=\"warning\" size=\"sm\" showIcon>Warning</Badge></div>\r\n              <div><Badge variant=\"error\" size=\"sm\" showIcon>Error</Badge></div>\r\n            </div>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-white/80 text-xs uppercase tracking-wide\">Engagement</h4>\r\n            <div className=\"space-y-1\">\r\n              <div><Badge variant=\"popular\" size=\"sm\" showIcon>Popular</Badge></div>\r\n              <div><Badge variant=\"trending\" size=\"sm\" showIcon>Trending</Badge></div>\r\n              <div><Badge variant=\"new\" size=\"sm\" showIcon>New</Badge></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Comprehensive Color Audit\r\nexport const ColorAudit: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-8 p-8 bg-[#0A0A0A] rounded-lg min-h-screen\">\r\n      <div className=\"text-center space-y-2\">\r\n        <h1 className=\"text-2xl font-bold text-white\">HIVE Badge Color Audit</h1>\r\n        <p className=\"text-white/80\">All badges optimized for #0A0A0A background with maximum contrast</p>\r\n      </div>\r\n\r\n      {/* Status Badges */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Status Badges - Enhanced Brightness</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"verified\" size=\"md\" showIcon>Verified</Badge>\r\n            <p className=\"text-xs text-white/60\">Gold #FFD700</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"live\" size=\"md\" showIcon pulse>Live</Badge>\r\n            <p className=\"text-xs text-white/60\">Red-100 + Pulse</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"trending\" size=\"md\" showIcon>Trending</Badge>\r\n            <p className=\"text-xs text-white/60\">Amber-100</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"featured\" size=\"md\" showIcon>Featured</Badge>\r\n            <p className=\"text-xs text-white/60\">Purple-100</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"new\" size=\"md\" showIcon>New</Badge>\r\n            <p className=\"text-xs text-white/60\">Cyan-100</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Priority Badges */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Priority Badges - Ultra Contrast</h2>\r\n        <div className=\"grid grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"high\" size=\"md\" showIcon>High Priority</Badge>\r\n            <p className=\"text-xs text-white/60\">Orange-100</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"medium\" size=\"md\" showIcon>Medium</Badge>\r\n            <p className=\"text-xs text-white/60\">Blue-100</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"low\" size=\"md\" showIcon>Low</Badge>\r\n            <p className=\"text-xs text-white/60\">Green-100</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Context Badges */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Context Badges - Maximum Visibility</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"space\" size=\"md\" showIcon>Space</Badge>\r\n            <p className=\"text-xs text-white/60\">Pure White</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"event\" size=\"md\" showIcon>Event</Badge>\r\n            <p className=\"text-xs text-white/60\">Indigo-100</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"location\" size=\"md\" showIcon>Location</Badge>\r\n            <p className=\"text-xs text-white/60\">Emerald-100</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"role\" size=\"md\" showIcon>Role</Badge>\r\n            <p className=\"text-xs text-white/60\">Yellow-100</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Engagement Badges */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Engagement Badges - Vibrant Colors</h2>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"popular\" size=\"md\" showIcon>Popular</Badge>\r\n            <p className=\"text-xs text-white/60\">Pink-100</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"new\" size=\"md\" showIcon>New Post</Badge>\r\n            <p className=\"text-xs text-white/60\">Cyan-100</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Semantic Badges */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Semantic System - Enhanced Contrast</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"success\" size=\"md\" showIcon>Success</Badge>\r\n            <p className=\"text-xs text-white/60\">Green-50</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"warning\" size=\"md\" showIcon>Warning</Badge>\r\n            <p className=\"text-xs text-white/60\">Yellow-50</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"error\" size=\"md\" showIcon>Error</Badge>\r\n            <p className=\"text-xs text-white/60\">Red-50</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"neutral\" size=\"md\" showIcon>Neutral</Badge>\r\n            <p className=\"text-xs text-white/60\">White-95%</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contrast Validation */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">WCAG AA+ Compliance Test</h2>\r\n        <div className=\"bg-white/5 p-4 rounded-lg space-y-3\">\r\n          <p className=\"text-white/80 text-sm\">All badges meet WCAG 2.1 AA contrast requirements on #0A0A0A background:</p>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <Badge variant=\"verified\">âœ“ Gold: 12.8:1</Badge>\r\n            <Badge variant=\"live\">âœ“ Red: 11.2:1</Badge>\r\n            <Badge variant=\"trending\">âœ“ Amber: 13.1:1</Badge>\r\n            <Badge variant=\"featured\">âœ“ Purple: 10.9:1</Badge>\r\n            <Badge variant=\"space\">âœ“ White: 15.8:1</Badge>\r\n            <Badge variant=\"success\">âœ“ Green: 12.3:1</Badge>\r\n            <Badge variant=\"error\">âœ“ Error: 11.7:1</Badge>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// HIVE Brand System Integration\r\nexport const BrandSystem: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-8 p-8 bg-[#0A0A0A] rounded-lg min-h-screen\">\r\n      <div className=\"text-center space-y-2\">\r\n        <h1 className=\"text-2xl font-bold text-white\">HIVE Badge System</h1>\r\n        <p className=\"text-white/80\">Seamlessly integrated with HIVE's brand and design system</p>\r\n      </div>\r\n\r\n      {/* Gold Brand Accent */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Gold Brand Accent</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"verified\" size=\"md\" showIcon>Verified Badge</Badge>\r\n            <p className=\"text-xs text-white/60\">Primary Gold Accent</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"role\" size=\"md\" showIcon>Role Badge</Badge>\r\n            <p className=\"text-xs text-white/60\">Gold Gradient</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"trending\" size=\"md\" showIcon>Trending</Badge>\r\n            <p className=\"text-xs text-white/60\">Gold to Amber</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Glass Morphism */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Glass Morphism</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"space\" size=\"md\" showIcon>Space Badge</Badge>\r\n            <p className=\"text-xs text-white/60\">White Glass Effect</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"neutral\" size=\"md\" showIcon>Neutral Badge</Badge>\r\n            <p className=\"text-xs text-white/60\">Subtle Glass</p>\r\n          </div>\r\n          <div className=\"bg-gradient-to-r from-gold/20 to-purple-500/20 p-4 rounded-lg\">\r\n            <Badge variant=\"space\" size=\"md\" showIcon>Glass on Gradient</Badge>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* HIVE Color System */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">HIVE Color System</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"live\" size=\"md\" showIcon pulse>Live Now</Badge>\r\n            <p className=\"text-xs text-white/60\">Rose for Urgency</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"featured\" size=\"md\" showIcon>Featured</Badge>\r\n            <p className=\"text-xs text-white/60\">Violet for Special</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"event\" size=\"md\" showIcon>Event</Badge>\r\n            <p className=\"text-xs text-white/60\">Fuchsia for Events</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"location\" size=\"md\" showIcon>Location</Badge>\r\n            <p className=\"text-xs text-white/60\">Emerald for Places</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Semantic System */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Semantic System</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"success\" size=\"md\" showIcon>Success</Badge>\r\n            <p className=\"text-xs text-white/60\">Emerald Success</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"warning\" size=\"md\" showIcon>Warning</Badge>\r\n            <p className=\"text-xs text-white/60\">Amber Warning</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"error\" size=\"md\" showIcon>Error</Badge>\r\n            <p className=\"text-xs text-white/60\">Rose Error</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Priority System */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Priority System</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"high\" size=\"md\" showIcon>High Priority</Badge>\r\n            <p className=\"text-xs text-white/60\">Red for High</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"medium\" size=\"md\" showIcon>Medium Priority</Badge>\r\n            <p className=\"text-xs text-white/60\">Sky for Medium</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Badge variant=\"low\" size=\"md\" showIcon>Low Priority</Badge>\r\n            <p className=\"text-xs text-white/60\">Teal for Low</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Design Principles */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-white border-b border-white/20 pb-2\">Design Principles</h2>\r\n        <div className=\"bg-white/5 p-4 rounded-lg space-y-3\">\r\n          <p className=\"text-white/80 text-sm\">HIVE Badge System follows core brand principles:</p>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-medium text-white\">Consistent Glass Effect</h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                <Badge variant=\"space\">backdrop-blur-[2px]</Badge>\r\n                <Badge variant=\"neutral\">30% borders</Badge>\r\n                <Badge variant=\"space\">Inset shadows</Badge>\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-medium text-white\">Color Harmony</h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                <Badge variant=\"verified\">Gold accent</Badge>\r\n                <Badge variant=\"featured\">Vibrant status</Badge>\r\n                <Badge variant=\"error\">Clear semantic</Badge>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\badge-system.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\content-cards.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\event-announcement-card.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Share2' is defined but never used. Allowed unused vars must match /^_/u.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ExternalLink' is defined but never used. Allowed unused vars must match /^_/u.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Zap' is defined but never used. Allowed unused vars must match /^_/u.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":6},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Star' is defined but never used. Allowed unused vars must match /^_/u.","line":14,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'CardMedia' is defined but never used. Allowed unused vars must match /^_/u.","line":18,"column":61,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":70},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Avatar' is defined but never used. Allowed unused vars must match /^_/u.","line":19,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'AvatarImage' is defined but never used. Allowed unused vars must match /^_/u.","line":19,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'AvatarFallback' is defined but never used. Allowed unused vars must match /^_/u.","line":19,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'onShare' is defined but never used. Allowed unused args must match /^_/u.","line":66,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":28}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { \r\n  Calendar, \r\n  Clock, \r\n  MapPin, \r\n  Users, \r\n  Bell, \r\n  Share2,\r\n  ExternalLink,\r\n  Zap,\r\n  Star,\r\n  Check\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { AdaptiveCard, CardHeader, CardContent, CardFooter, CardMedia } from \"./adaptive-card\";\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"../ui/avatar\";\r\nimport { Badge } from \"./badge-system\";\r\nimport { Button } from \"../ui/button\";\r\n\r\nexport interface EventAnnouncementData {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  coverImage?: string;\r\n  organizer: {\r\n    id: string;\r\n    name: string;\r\n    avatar?: string;\r\n    isVerified?: boolean;\r\n  };\r\n  space?: {\r\n    id: string;\r\n    name: string;\r\n    color?: string;\r\n  };\r\n  startTime: string; // ISO date string\r\n  endTime?: string; // ISO date string\r\n  location: {\r\n    type: \"physical\" | \"virtual\" | \"hybrid\";\r\n    address?: string;\r\n    venue?: string;\r\n    link?: string;\r\n  };\r\n  attendeeCount: number;\r\n  maxAttendees?: number;\r\n  isAttending?: boolean;\r\n  isRSVPRequired?: boolean;\r\n  eventType: \"ritual\" | \"academic\" | \"social\" | \"workshop\" | \"meeting\";\r\n  tags: string[];\r\n  priority?: \"low\" | \"medium\" | \"high\" | \"urgent\";\r\n}\r\n\r\nexport interface EventAnnouncementCardProps {\r\n  event: EventAnnouncementData;\r\n  variant?: \"compact\" | \"detailed\" | \"featured\";\r\n  onRSVP?: (eventId: string) => void;\r\n  onShare?: (eventId: string) => void;\r\n  onView?: (eventId: string) => void;\r\n  className?: string;\r\n}\r\n\r\nconst EventAnnouncementCard = React.forwardRef<HTMLDivElement, EventAnnouncementCardProps>(\r\n  ({ event, onRSVP, onShare, onView, className }, ref) => {\r\n    const {\r\n      id,\r\n      title,\r\n      startTime,\r\n      location,\r\n      attendeeCount,\r\n      isAttending,\r\n      eventType,\r\n    } = event;\r\n\r\n    const handleInteract = () => onView?.(id);\r\n    const handleRSVPClick = (e: React.MouseEvent) => {\r\n      e.stopPropagation();\r\n      onRSVP?.(id);\r\n    };\r\n\r\n    const startDate = new Date(startTime);\r\n    const formattedDate = startDate.toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\" });\r\n    const formattedTime = startDate.toLocaleTimeString(\"en-US\", { hour: \"2-digit\", minute: \"2-digit\", hour12: true });\r\n\r\n    const locationText = location.type === 'virtual' ? 'Online' : (location.venue || location.address || 'TBA');\r\n\r\n    return (\r\n      <AdaptiveCard\r\n        ref={ref}\r\n        variant=\"glass\"\r\n        interactive=\"hover\"\r\n        onInteract={handleInteract}\r\n        className={cn(\"w-full max-w-sm\", className)}\r\n      >\r\n        <CardHeader>\r\n          <div className=\"flex items-start justify-between gap-4\">\r\n            <h3 className=\"text-lg font-bold text-white\">{title}</h3>\r\n            <Badge variant=\"event\" size=\"sm\">{eventType}</Badge>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4 text-sm text-white/60\">\r\n            <div className=\"flex items-center gap-1.5\">\r\n              <Calendar className=\"h-4 w-4\" />\r\n              <span>{formattedDate}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1.5\">\r\n              <Clock className=\"h-4 w-4\" />\r\n              <span>{formattedTime}</span>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-between text-sm\">\r\n            <div className=\"flex items-center gap-1.5 text-white/80\">\r\n              <MapPin className=\"h-4 w-4\" />\r\n              <span>{locationText}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1.5 text-white/80\">\r\n              <Users className=\"h-4 w-4\" />\r\n              <span>{attendeeCount} going</span>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n        <CardFooter>\r\n          <Button\r\n            variant={isAttending ? \"secondary\" : \"primary\"}\r\n            size=\"sm\"\r\n            className=\"w-full\"\r\n            onClick={handleRSVPClick}\r\n          >\r\n            {isAttending ? (\r\n              <>\r\n                <Check className=\"mr-2 h-4 w-4\" />\r\n                Going\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Bell className=\"mr-2 h-4 w-4\" />\r\n                RSVP\r\n              </>\r\n            )}\r\n          </Button>\r\n        </CardFooter>\r\n      </AdaptiveCard>\r\n    );\r\n  }\r\n);\r\n\r\nEventAnnouncementCard.displayName = \"EventAnnouncementCard\";\r\n\r\nexport { EventAnnouncementCard }; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\markdown-page.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\markdown-page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\mock-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\space-showcase-card.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Users' is defined but never used. Allowed unused vars must match /^_/u.","line":6,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'TrendingUp' is defined but never used. Allowed unused vars must match /^_/u.","line":7,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Calendar' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'MapPin' is defined but never used. Allowed unused vars must match /^_/u.","line":9,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Star' is defined but never used. Allowed unused vars must match /^_/u.","line":10,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'adaptiveCardVariants' is defined but never used. Allowed unused vars must match /^_/u.","line":20,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":23}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  Users,\r\n  TrendingUp,\r\n  Calendar,\r\n  MapPin,\r\n  Star,\r\n  Check,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n  AdaptiveCard,\r\n  CardHeader,\r\n  CardContent,\r\n  CardFooter,\r\n  CardMedia,\r\n  adaptiveCardVariants,\r\n} from \"./adaptive-card\";\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"../ui/avatar\";\r\nimport { Badge } from \"./badge-system\";\r\nimport { Button } from \"../ui/button\";\r\n\r\nexport interface SpaceShowcaseData {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  coverImage?: string;\r\n  memberCount: number;\r\n  weeklyGrowth?: number;\r\n  category: string;\r\n  isVerified?: boolean;\r\n  isJoined?: boolean;\r\n  recentMembers: {\r\n    id: string;\r\n    name: string;\r\n    avatar?: string;\r\n  }[];\r\n  upcomingEvents?: number;\r\n  location?: string;\r\n  tags: string[];\r\n}\r\n\r\nexport interface SpaceShowcaseCardProps {\r\n  space: SpaceShowcaseData;\r\n  variant?: \"compact\" | \"detailed\" | \"featured\";\r\n  onJoin?: (spaceId: string) => void;\r\n  onView?: (spaceId: string) => void;\r\n  className?: string;\r\n}\r\n\r\n// A simple component to group avatars\r\nconst AvatarGroup = ({ children }: { children: React.ReactNode }) => (\r\n  <div className=\"flex -space-x-3 overflow-hidden\">{children}</div>\r\n);\r\n\r\nconst SpaceShowcaseCard = React.forwardRef<\r\n  HTMLDivElement,\r\n  SpaceShowcaseCardProps\r\n>(({ space, onJoin, onView, className }, ref) => {\r\n  const {\r\n    id,\r\n    name,\r\n    description,\r\n    coverImage,\r\n    memberCount,\r\n    category,\r\n    isVerified,\r\n    isJoined,\r\n    recentMembers,\r\n  } = space;\r\n\r\n  const handleInteract = () => onView?.(id);\r\n  const handleJoinClick = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onJoin?.(id);\r\n  };\r\n\r\n  return (\r\n    <AdaptiveCard\r\n      ref={ref}\r\n      variant=\"glass\"\r\n      interactive=\"hover\"\r\n      onInteract={handleInteract}\r\n      className={cn(\"w-full max-w-sm\", className)}\r\n    >\r\n      {coverImage && (\r\n        <CardMedia className=\"-m-6 mb-4 aspect-video\">\r\n          <img\r\n            src={coverImage}\r\n            alt={`${name} cover`}\r\n            className=\"h-full w-full object-cover\"\r\n          />\r\n        </CardMedia>\r\n      )}\r\n      <CardHeader>\r\n        <div className=\"flex items-start justify-between gap-4\">\r\n          <h3 className=\"text-lg font-bold text-white\">{name}</h3>\r\n          {isVerified && <Badge variant=\"verified\" size=\"sm\" showIcon />}\r\n        </div>\r\n        <p className=\"text-sm text-white/60\">{category}</p>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <p className=\"mb-4 line-clamp-2 text-sm text-white/80\">\r\n          {description}\r\n        </p>\r\n        <div className=\"flex items-center justify-between\">\r\n          <AvatarGroup>\r\n            {recentMembers.map((member, index) => (\r\n              <Avatar key={member.id} className={cn(index > 0 && \"-ml-3\")}>\r\n                <AvatarImage src={member.avatar} alt={member.name} />\r\n                <AvatarFallback>{member.name.charAt(0)}</AvatarFallback>\r\n              </Avatar>\r\n            ))}\r\n          </AvatarGroup>\r\n          <div className=\"text-right\">\r\n            <p className=\"font-semibold text-white\">{memberCount}</p>\r\n            <p className=\"text-xs text-white/60\">Members</p>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n      <CardFooter>\r\n        <Button\r\n          variant={isJoined ? \"secondary\" : \"primary\"}\r\n          size=\"sm\"\r\n          className=\"w-full\"\r\n          onClick={handleJoinClick}\r\n        >\r\n          {isJoined ? (\r\n            <>\r\n              <Check className=\"mr-2 h-4 w-4\" />\r\n              Joined\r\n            </>\r\n          ) : (\r\n            \"Join Space\"\r\n          )}\r\n        </Button>\r\n      </CardFooter>\r\n    </AdaptiveCard>\r\n  );\r\n});\r\nSpaceShowcaseCard.displayName = \"SpaceShowcaseCard\";\r\n\r\nexport { SpaceShowcaseCard }; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\content\\ugc-post-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementConfig\\config-schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementConfig\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementConfig\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementPicker\\element-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementPicker\\element-picker.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementPicker\\element-picker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementPicker\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ElementPicker\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ToolBuilder\\ElementRenderer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ToolBuilder\\PropertiesPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[329,332],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[329,332],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[383,386],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[383,386],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../../ui/card\";\nimport { cn } from \"../../../lib/utils\";\nimport type { ElementNode, ElementProperty, ElementPropertyValue } from \"@hive/core\";\n\nexport interface PropertiesPanelProps {\n  selectedElement: ElementNode | null;\n  elementDefinition: any | null;\n  onElementUpdate?: (id: string, updates: any) => void;\n  onElementDelete: (elementId: string) => void;\n  onElementDuplicate?: (id: string) => void;\n  className?: string;\n  onPropertyChange: (property: ElementProperty, value: ElementPropertyValue) => void;\n}\n\nexport function PropertiesPanel({\n  selectedElement,\n  elementDefinition,\n  className,\n}: PropertiesPanelProps) {\n  if (!selectedElement || !elementDefinition)\n    return (\n      <Card className={cn(\"w-[320px] text-center\", className)}>\n        <CardHeader>\n          <CardTitle className=\"text-sm font-medium text-text-muted\">\n            No element selected\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"text-sm text-text-muted\">\n          Click an element in the canvas to edit its properties.\n        </CardContent>\n      </Card>\n    );\n\n  return (\n    <Card className={cn(\"w-[320px]\", className)}>\n      <CardHeader>\n        <CardTitle className=\"text-base font-medium\">\n          {elementDefinition.name}\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4 text-sm\">\n        <div className=\"flex flex-col gap-1\">\n          <span className=\"text-text-muted\">ID</span>\n          <span>{selectedElement.id}</span>\n        </div>\n        {/* Placeholder for future property controls */}\n        <div className=\"rounded-md bg-white/5 p-3 text-center text-text-muted\">\n          Property controls coming soon\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ToolBuilder\\design-canvas.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ToolBuilder\\element-library.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ToolBuilder\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ToolBuilder\\tool-builder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\ToolBuilder\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\creator\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\error-boundary.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ComponentType' is defined but never used. Allowed unused vars must match /^_/u.","line":5,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'DefaultErrorFallback' is defined but never used. Allowed unused vars must match /^_/u.","line":121,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":121,"endColumn":30},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":218,"column":18,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6250,6304],"text":"\n                I&apos;ve verified my email\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6250,6304],"text":"\n                I&lsquo;ve verified my email\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6250,6304],"text":"\n                I&#39;ve verified my email\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6250,6304],"text":"\n                I&rsquo;ve verified my email\n              "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, {\n  Component,\n  type ComponentType,\n  type ErrorInfo,\n  type ReactNode,\n} from \"react\";\nimport { logger } from \"@hive/core\";\n// Temporary mock for Storybook compatibility\ninterface UserFriendlyError {\n  code: string;\n  message: string;\n  severity: \"error\" | \"warning\" | \"info\";\n  action: \"retry\" | \"contact-support\" | \"sign-in\" | \"sign-up\" | \"check-email\";\n  isRetryable: boolean;\n}\n\n// Mock FirebaseErrorHandler for Storybook\nconst FirebaseErrorHandler = {\n  handleError: (error: Error): UserFriendlyError => ({\n    code: \"unknown\",\n    message: error.message || \"An unexpected error occurred\",\n    severity: \"error\" as const,\n    action: \"retry\" as const,\n    isRetryable: true,\n  }),\n  getActionButtonText: (error: UserFriendlyError): string => {\n    switch (error.action) {\n      case \"retry\":\n        return \"Try Again\";\n      case \"contact-support\":\n        return \"Contact Support\";\n      case \"sign-in\":\n        return \"Sign In\";\n      case \"sign-up\":\n        return \"Sign Up\";\n      case \"check-email\":\n        return \"Check Email\";\n      default:\n        return \"Continue\";\n    }\n  },\n};\n\ninterface Props {\n  children: ReactNode;\n  fallback?: (error: UserFriendlyError, retry: () => void) => ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorId: string;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorId: \"\",\n    };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return {\n      hasError: true,\n      error,\n      errorId: `error-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    logger.error(\"Firebase Error Boundary caught an error:\", error, errorInfo);\n\n    // Call the optional onError prop\n    this.props.onError?.(error, errorInfo);\n\n    // In a real app, you might want to send this to an error reporting service\n    // logErrorToService(error, errorInfo, this.state.errorId);\n  }\n\n  handleRetry = () => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorId: \"\",\n    });\n  };\n\n  handleContactSupport = () => {\n    logger.debug(\"Contact support clicked\", {\n      error: this.state.error,\n      componentStack: this.state.componentStack,\n    });\n    // ... existing code ...\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      const userFriendlyError = FirebaseErrorHandler.handleError(\n        this.state.error\n      );\n\n      return <this.props.fallback error={userFriendlyError} />;\n    }\n\n    return this.props.children;\n  }\n}\n\ninterface DefaultErrorFallbackProps {\n  error: UserFriendlyError;\n  onRetry: () => void;\n  errorId: string;\n}\n\nfunction DefaultErrorFallback({\n  error,\n  onRetry,\n  errorId,\n}: DefaultErrorFallbackProps) {\n  const getIconForSeverity = (severity: UserFriendlyError[\"severity\"]) => {\n    switch (severity) {\n      case \"error\":\n        return \"âš ï¸\";\n      case \"warning\":\n        return \"âš¡\";\n      case \"info\":\n        return \"â„¹ï¸\";\n      default:\n        return \"âŒ\";\n    }\n  };\n\n  const getSeverityColor = (severity: UserFriendlyError[\"severity\"]) => {\n    switch (severity) {\n      case \"error\":\n        return \"text-red-600 border-red-200 bg-red-50\";\n      case \"warning\":\n        return \"text-amber-600 border-amber-200 bg-amber-50\";\n      case \"info\":\n        return \"text-blue-600 border-blue-200 bg-blue-50\";\n      default:\n        return \"text-gray-600 border-gray-200 bg-gray-50\";\n    }\n  };\n\n  return (\n    <div className=\"min-h-[200px] flex items-center justify-center p-4\">\n      <div\n        className={`\n        max-w-md w-full rounded-lg border-2 p-6 text-center space-y-4\n        ${getSeverityColor(error.severity)}\n      `}\n      >\n        <div className=\"text-4xl mb-2\">\n          {getIconForSeverity(error.severity)}\n        </div>\n\n        <h3 className=\"text-lg font-semibold\">Something went wrong</h3>\n\n        <p className=\"text-sm leading-relaxed\">{error.message}</p>\n\n        <div className=\"space-y-2 pt-2\">\n          {error.action === \"retry\" && error.isRetryable && (\n            <button\n              onClick={onRetry}\n              className=\"w-full px-4 py-2 bg-white border border-current rounded-md hover:bg-opacity-90 transition-colors font-medium\"\n            >\n              {FirebaseErrorHandler.getActionButtonText(error)}\n            </button>\n          )}\n\n          {error.action === \"contact-support\" && (\n            <button\n              onClick={this.handleContactSupport}\n              className=\"w-full px-4 py-2 bg-white border border-current rounded-md hover:bg-opacity-90 transition-colors font-medium\"\n            >\n              {FirebaseErrorHandler.getActionButtonText(error)}\n            </button>\n          )}\n\n          {error.action === \"sign-in\" && (\n            <button\n              onClick={() => {\n                // In a real app, this would redirect to sign-in\n                window.location.href = \"/auth/login\";\n              }}\n              className=\"w-full px-4 py-2 bg-white border border-current rounded-md hover:bg-opacity-90 transition-colors font-medium\"\n            >\n              {FirebaseErrorHandler.getActionButtonText(error)}\n            </button>\n          )}\n\n          {error.action === \"sign-up\" && (\n            <button\n              onClick={() => {\n                // In a real app, this would redirect to sign-up\n                window.location.href = \"/auth/signup\";\n              }}\n              className=\"w-full px-4 py-2 bg-white border border-current rounded-md hover:bg-opacity-90 transition-colors font-medium\"\n            >\n              {FirebaseErrorHandler.getActionButtonText(error)}\n            </button>\n          )}\n\n          {error.action === \"check-email\" && (\n            <div className=\"text-xs space-y-2\">\n              <p>Please check your email and click the verification link.</p>\n              <button\n                onClick={onRetry}\n                className=\"w-full px-4 py-2 bg-white border border-current rounded-md hover:bg-opacity-90 transition-colors font-medium\"\n              >\n                I've verified my email\n              </button>\n            </div>\n          )}\n        </div>\n\n        {process.env.NODE_ENV === \"development\" && (\n          <details className=\"text-xs text-left\">\n            <summary className=\"cursor-pointer font-medium\">Debug Info</summary>\n            <div className=\"mt-2 p-2 bg-white rounded border font-mono\">\n              <div>Error ID: {errorId}</div>\n              <div>Code: {error.code}</div>\n              <div>Retryable: {error.isRetryable ? \"Yes\" : \"No\"}</div>\n              <div>Action: {error.action || \"None\"}</div>\n            </div>\n          </details>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Hook for using error boundary in functional components\nexport function useFirebaseErrorBoundary() {\n  return {\n    ErrorBoundary: FirebaseErrorBoundary,\n    throwError: (error: Error) => {\n      throw error;\n    },\n  };\n}\n\nexport default FirebaseErrorBoundary;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\errors\\error-state.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\errors\\error-state.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\errors\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\errors\\not-found.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\errors\\not-found.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":41,"column":18,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1362,1409],"text":"\r\n        We couldn&apos;t find that page.\r\n        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1362,1409],"text":"\r\n        We couldn&lsquo;t find that page.\r\n        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1362,1409],"text":"\r\n        We couldn&#39;t find that page.\r\n        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1362,1409],"text":"\r\n        We couldn&rsquo;t find that page.\r\n        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":42,"column":41,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1435,1472],"text":" â€¦must&apos;ve wandered out of the hive ðŸ"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1435,1472],"text":" â€¦must&lsquo;ve wandered out of the hive ðŸ"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1435,1472],"text":" â€¦must&#39;ve wandered out of the hive ðŸ"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1435,1472],"text":" â€¦must&rsquo;ve wandered out of the hive ðŸ"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { Button } from \"../ui/button\";\r\n\r\nexport interface NotFoundProps {\r\n  /**\r\n   * Destination for the primary call-to-action.\r\n   * Logged-in users usually go to \"/feed\"; guests go to \"/\".\r\n   */\r\n  ctaHref: string;\r\n  /**\r\n   * Optional override for CTA label. Defaults to \"Go Home\".\r\n   */\r\n  ctaLabel?: string;\r\n  /**\r\n   * Destination for the tertiary \"Report a bug\" link.\r\n   * Defaults to \"/support?from=404\".\r\n   */\r\n  reportHref?: string;\r\n}\r\n\r\n/**\r\n * Full-viewport 404 error display. Pure presentational component â€“\r\n * no framework-specific routing and no global state dependencies.\r\n */\r\nexport const NotFound: React.FC<NotFoundProps> = ({\r\n  ctaHref,\r\n  ctaLabel = \"Go Home\",\r\n  reportHref = \"/support?from=404\",\r\n}) => {\r\n  return (\r\n    <section className=\"min-h-screen flex flex-col items-center justify-center bg-black text-white px-6 py-12 text-center\">\r\n      {/* Giant 404 heading with subtle honey-gold glow */}\r\n      <h1\r\n        className=\"text-[9rem] md:text-[12rem] font-extrabold leading-none tracking-tight text-transparent bg-clip-text bg-gradient-to-br from-yellow-400/90 to-yellow-500/90 [mask-image:radial-gradient(circle_at_center,white,transparent)]\"\r\n        aria-label=\"404 â€“ Page not found\"\r\n      >\r\n        404\r\n      </h1>\r\n\r\n      <p className=\"mt-6 text-lg text-zinc-400 max-w-md\">\r\n        We couldn't find that page.\r\n        <span className=\"sr-only\"> â€¦must've wandered out of the hive ðŸ</span>\r\n      </p>\r\n\r\n      {/* Actions */}\r\n      <div className=\"mt-10 flex flex-col sm:flex-row items-center gap-4\">\r\n        <Button asChild>\r\n          <a href={ctaHref}>{ctaLabel}</a>\r\n        </Button>\r\n        <a\r\n          href={reportHref}\r\n          className=\"text-sm text-zinc-500 hover:text-zinc-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-gold rounded-md\"\r\n        >\r\n          Report a bug\r\n        </a>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nNotFound.displayName = \"NotFound\";\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\campus-unlock-banner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\feed-composer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FeedUser' is defined but never used. Allowed unused vars must match /^_/u.","line":7,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React from \"react\";\nimport { Button } from \"../ui/button\";\nimport { Textarea } from \"../ui/textarea\";\n\ninterface FeedUser {\n  id: string;\n  fullName: string;\n  handle: string;\n  photoURL?: string;\n  role?: \"member\" | \"builder\" | \"admin\";\n}\n\ninterface FeedComposerProps {\n  className?: string;\n  placeholder?: string;\n  onPostCreated?: (content: string) => void;\n}\n\nexport function FeedComposer({\n  className,\n  placeholder = \"Share something with your community...\",\n  onPostCreated,\n}: FeedComposerProps) {\n  const [content, setContent] = React.useState(\"\");\n  const [isExpanded, setIsExpanded] = React.useState(false);\n\n  const handleSubmit = () => {\n    if (content.trim()) {\n      onPostCreated?.(content);\n      setContent(\"\");\n      setIsExpanded(false);\n    }\n  };\n\n  const handleFocus = () => {\n    setIsExpanded(true);\n  };\n\n  return (\n    <div className={`space-y-3 ${className}`}>\n      <Textarea\n        value={content}\n        onChange={(e) => setContent(e.target.value)}\n        onFocus={handleFocus}\n        placeholder={placeholder}\n        className=\"min-h-[80px] resize-none\"\n      />\n\n      {isExpanded && (\n        <div className=\"flex justify-between items-center\">\n          <div className=\"flex space-x-2\">{/* Tool buttons can go here */}</div>\n\n          <div className=\"flex space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setContent(\"\");\n                setIsExpanded(false);\n              }}\n            >\n              Cancel\n            </Button>\n            <Button onClick={handleSubmit} disabled={!content.trim()}>\n              Post\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\main-feed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\post-card.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\post-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\post-composer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useState' is defined but never used. Allowed unused vars must match /^_/u.","line":3,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":25},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":264,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":264,"endColumn":16,"suggestions":[{"fix":{"range":[8201,8256],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useState, useCallback } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { logger } from \"@hive/core\";\n\nexport interface PostComposerProps {\n  placeholder?: string;\n  maxLength?: number;\n  onSubmit?: (content: string, reactions: string[]) => void;\n  onCancel?: () => void;\n  isSubmitting?: boolean;\n  className?: string;\n  autoFocus?: boolean;\n}\n\nconst EMOJI_REACTIONS = [\n  \"ðŸ”¥\",\n  \"ðŸ’¯\",\n  \"ðŸŽ‰\",\n  \"ðŸ‘\",\n  \"â¤ï¸\",\n  \"ðŸ˜‚\",\n  \"ðŸ¤”\",\n  \"ðŸ‘€\",\n  \"ðŸš€\",\n  \"âš¡\",\n  \"ðŸŒŸ\",\n  \"ðŸ’¡\",\n];\n\nexport const PostComposer = React.forwardRef<\n  HTMLTextAreaElement,\n  PostComposerProps\n>(\n  (\n    {\n      placeholder = \"Share what's happening on campus...\",\n      maxLength = 280,\n      onSubmit,\n      onCancel,\n      isSubmitting = false,\n      className,\n      autoFocus = false,\n    },\n    ref\n  ) => {\n    const [content, setContent] = React.useState(\"\");\n    const [selectedReactions, setSelectedReactions] = React.useState<string[]>(\n      []\n    );\n    const [showEmojiPicker, setShowEmojiPicker] = React.useState(false);\n    const textareaRef = React.useRef<HTMLTextAreaElement>(null);\n\n    // Merge refs\n    React.useImperativeHandle(ref, () => textareaRef.current!, []);\n\n    const remainingChars = maxLength - content.length;\n    const isOverLimit = remainingChars < 0;\n    const canSubmit =\n      content.trim().length > 0 && !isOverLimit && !isSubmitting;\n\n    const handleSubmit = useCallback(async () => {\n      if (canSubmit) {\n        await onSubmit?.(content.trim(), selectedReactions);\n        setContent(\"\");\n        setSelectedReactions([]);\n        setShowEmojiPicker(false);\n        logger.debug(\"Post submitted\", {\n          content,\n          reactions: selectedReactions,\n        });\n      }\n    }, [content, selectedReactions, onSubmit]);\n\n    const handleCancel = () => {\n      setContent(\"\");\n      setSelectedReactions([]);\n      setShowEmojiPicker(false);\n      onCancel?.();\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      if (e.key === \"Enter\" && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault();\n        handleSubmit();\n      }\n      if (e.key === \"Escape\") {\n        e.preventDefault();\n        handleCancel();\n      }\n    };\n\n    const toggleReaction = (emoji: string) => {\n      setSelectedReactions((prev) =>\n        prev.includes(emoji)\n          ? prev.filter((e) => e !== emoji)\n          : [...prev, emoji]\n      );\n    };\n\n    // Auto-resize textarea\n    React.useEffect(() => {\n      const textarea = textareaRef.current;\n      if (textarea) {\n        textarea.style.height = \"auto\";\n        textarea.style.height = Math.min(textarea.scrollHeight, 120) + \"px\";\n      }\n    }, [content]);\n\n    return (\n      <div\n        className={cn(\n          \"bg-surface-01 border border-border-line rounded-lg p-4\",\n          \"transition-all duration-200\",\n          \"focus-within:border-yellow-500/50 focus-within:shadow-focus\",\n          className\n        )}\n      >\n        {/* Main composer */}\n        <div className=\"space-y-4\">\n          <textarea\n            ref={textareaRef}\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder={placeholder}\n            autoFocus={autoFocus}\n            className={cn(\n              \"w-full min-h-[80px] max-h-[120px] resize-none\",\n              \"bg-transparent text-text-primary placeholder-text-secondary\",\n              \"border-none outline-none\",\n              \"text-base leading-relaxed\"\n            )}\n            disabled={isSubmitting}\n          />\n\n          {/* Emoji reactions */}\n          {selectedReactions.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 py-2 border-t border-border-line\">\n              <span className=\"text-text-secondary text-sm\">Reactions:</span>\n              {selectedReactions.map((emoji, index) => (\n                <button\n                  key={index}\n                  onClick={() => toggleReaction(emoji)}\n                  className=\"px-2 py-1 bg-yellow-500/20 text-yellow-500 rounded-full text-sm hover:bg-yellow-500/30 transition-colors\"\n                >\n                  {emoji}\n                </button>\n              ))}\n            </div>\n          )}\n\n          {/* Emoji picker */}\n          {showEmojiPicker && (\n            <div className=\"grid grid-cols-6 gap-2 p-3 bg-surface-02 rounded-lg border border-border-line\">\n              {EMOJI_REACTIONS.map((emoji) => (\n                <button\n                  key={emoji}\n                  onClick={() => toggleReaction(emoji)}\n                  className={cn(\n                    \"p-2 rounded-lg text-lg hover:bg-surface-03 transition-colors\",\n                    selectedReactions.includes(emoji) && \"bg-yellow-500/20\"\n                  )}\n                >\n                  {emoji}\n                </button>\n              ))}\n            </div>\n          )}\n\n          {/* Controls */}\n          <div className=\"flex items-center justify-between pt-2 border-t border-border-line\">\n            <div className=\"flex items-center gap-3\">\n              <button\n                onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n                className={cn(\n                  \"p-2 rounded-lg transition-colors\",\n                  \"hover:bg-surface-02 text-text-secondary hover:text-text-primary\",\n                  showEmojiPicker && \"bg-yellow-500/20 text-yellow-500\"\n                )}\n                disabled={isSubmitting}\n              >\n                ðŸ˜Š\n              </button>\n\n              <div className=\"text-xs text-text-secondary\">\n                {remainingChars >= 0 ? (\n                  <span\n                    className={remainingChars < 20 ? \"text-yellow-500\" : \"\"}\n                  >\n                    {remainingChars} chars left\n                  </span>\n                ) : (\n                  <span className=\"text-red-500\">\n                    {Math.abs(remainingChars)} chars over\n                  </span>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              {(content.length > 0 || selectedReactions.length > 0) && (\n                <button\n                  onClick={handleCancel}\n                  className=\"px-4 py-2 text-text-secondary hover:text-text-primary transition-colors text-sm\"\n                  disabled={isSubmitting}\n                >\n                  Cancel\n                </button>\n              )}\n\n              <button\n                onClick={handleSubmit}\n                disabled={!canSubmit}\n                className={cn(\n                  \"px-6 py-2 rounded-lg font-semibold text-sm transition-all duration-200 font-display\",\n                  canSubmit\n                    ? \"bg-yellow-500 text-black hover:bg-yellow-400 shadow-elevation-1\"\n                    : \"bg-surface-03 text-text-disabled cursor-not-allowed\"\n                )}\n              >\n                {isSubmitting ? (\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin\" />\n                    Posting...\n                  </div>\n                ) : (\n                  \"Post\"\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Character limit indicator */}\n        {content.length > maxLength * 0.8 && (\n          <div className=\"mt-2\">\n            <div className=\"w-full bg-surface-03 rounded-full h-1\">\n              <div\n                className={cn(\n                  \"h-1 rounded-full transition-all duration-200\",\n                  isOverLimit ? \"bg-red-500\" : \"bg-yellow-500\"\n                )}\n                style={{\n                  width: `${Math.min((content.length / maxLength) * 100, 100)}%`,\n                }}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nPostComposer.displayName = \"PostComposer\";\n\n// Utility function for sample usage\nexport const createSamplePostComposer = () => ({\n  placeholder: \"What's happening at your campus?\",\n  maxLength: 280,\n  onSubmit: (content: string, reactions: string[]) => {\n    console.log(\"Post submitted:\", { content, reactions });\n  },\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\ritual-card.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\ritual-card.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Users' is defined but never used. Allowed unused vars must match /^_/u.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\r\nimport { Button } from \"../ui/button\";\r\nimport { Users, ArrowRight } from \"lucide-react\";\r\nimport { Avatar, AvatarGroup, AvatarImage, AvatarFallback } from \"../ui/avatar\";\r\n\r\nexport interface RitualCardProps {\r\n  name: string;\r\n  description: string;\r\n  participantCount: number;\r\n  participants: {\r\n    name: string;\r\n    avatarUrl?: string;\r\n  }[];\r\n  className?: string;\r\n}\r\n\r\nexport const RitualCard = ({\r\n  name,\r\n  description,\r\n  participantCount,\r\n  participants = [],\r\n  className,\r\n}: RitualCardProps) => {\r\n  return (\r\n    <div\r\n      className={`bg-gradient-to-br from-surface-02 to-surface-03 border border-border rounded-lg p-6 flex flex-col ${className}`}\r\n    >\r\n      <div className=\"flex-1\">\r\n        <div className=\"flex items-center space-x-2 mb-2\">\r\n          <div className=\"w-2 h-2 rounded-full bg-accent animate-pulse\" />\r\n          <span className=\"text-sm font-semibold text-accent\">\r\n            ACTIVE RITUAL\r\n          </span>\r\n        </div>\r\n        <h3 className=\"font-display text-2xl font-bold text-foreground mb-2\">\r\n          {name}\r\n        </h3>\r\n        <p className=\"text-muted text-sm mb-6\">{description}</p>\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <AvatarGroup>\r\n            {participants.slice(0, 3).map((p, i) => (\r\n              <Avatar key={i} className=\"h-8 w-8 border-2 border-surface-02\">\r\n                <AvatarImage src={p.avatarUrl} />\r\n                <AvatarFallback>{p.name.charAt(0)}</AvatarFallback>\r\n              </Avatar>\r\n            ))}\r\n          </AvatarGroup>\r\n          <span className=\"text-sm text-muted\">\r\n            {participantCount} {participantCount === 1 ? \"person\" : \"people\"}{\" \"}\r\n            participating\r\n          </span>\r\n        </div>\r\n        <Button variant=\"default\" size=\"sm\">\r\n          Join Ritual\r\n          <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\space-feed.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleError' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":352,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":352,"endColumn":20}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useState, useCallback, useRef } from \"react\";\nimport {\n  useInfiniteQuery,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\nimport { Card, CardContent } from \"../ui/card\";\nimport { Button } from \"../ui/button\";\nimport { Loader2, RefreshCw, AlertCircle } from \"lucide-react\";\nimport { FeedComposer } from \"./feed-composer\";\nimport { PostCard } from \"./post-card\";\nimport { cn } from \"../../lib/utils\";\nimport type { Post } from \"@hive/core\";\nimport { logger } from \"@hive/core\";\n\ninterface FeedUser {\n  id: string;\n  fullName: string;\n  handle: string;\n  photoURL?: string;\n  role?: \"member\" | \"builder\" | \"admin\";\n}\n\ninterface FeedPost extends Post {\n  author: FeedUser;\n}\n\ninterface SpaceFeedProps {\n  spaceId: string;\n  currentUser: FeedUser;\n  className?: string;\n  posts?: FeedPost[];\n}\n\ninterface FeedResponse {\n  posts: FeedPost[];\n  hasMore: boolean;\n  lastPostId: string | null;\n}\n\ninterface InfiniteQueryData {\n  pages: FeedResponse[];\n  pageParams: (string | undefined)[];\n}\n\ninterface ReactResponse {\n  success: boolean;\n  reactions?: {\n    heart: number;\n  };\n}\n\ninterface DeleteResponse {\n  success: boolean;\n}\n\ninterface ModerateResponse {\n  success: boolean;\n}\n\nexport const SpaceFeed: React.FC<SpaceFeedProps> = ({\n  spaceId,\n  currentUser,\n  className,\n  // posts: _posts = [], // Not currently used - relying on API fetch instead\n}) => {\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const queryClient = useQueryClient();\n  const observerRef = useRef<IntersectionObserver>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch posts with infinite scroll\n  const { data, fetchNextPage, hasNextPage, isFetchingNextPage, refetch } =\n    useInfiniteQuery({\n      queryKey: [\"space-feed\", spaceId],\n      queryFn: async ({ pageParam = \"\" }) => {\n        const params = new URLSearchParams({\n          limit: \"20\",\n        });\n\n        if (pageParam) {\n          params.append(\"lastPostId\", pageParam);\n        }\n\n        const response = await fetch(`/api/spaces/${spaceId}/feed?${params}`);\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch posts\");\n        }\n        return response.json() as Promise<FeedResponse>;\n      },\n      getNextPageParam: (lastPage: FeedResponse) =>\n        lastPage.hasMore ? lastPage.lastPostId : undefined,\n      initialPageParam: \"\",\n      staleTime: 5 * 60 * 1000, // 5 minutes\n      refetchInterval: 60 * 1000, // Refetch every minute for live updates\n    });\n\n  // Infinite scroll observer\n  const lastPostRef = useCallback(\n    (node: HTMLDivElement) => {\n      if (isFetchingNextPage) return;\n      if (observerRef.current) observerRef.current.disconnect();\n\n      observerRef.current = new IntersectionObserver((entries) => {\n        if (entries[0].isIntersecting && hasNextPage) {\n          void fetchNextPage();\n        }\n      });\n\n      if (node) observerRef.current.observe(node);\n    },\n    [isFetchingNextPage, fetchNextPage, hasNextPage]\n  );\n\n  // React to post mutation\n  const reactMutation = useMutation({\n    mutationFn: async ({\n      postId,\n      reaction,\n      action,\n    }: {\n      postId: string;\n      reaction: \"heart\";\n      action: \"add\" | \"remove\";\n    }) => {\n      const response = await fetch(\n        `/api/spaces/${spaceId}/posts/${postId}/react`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ reaction, action }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Failed to react to post\");\n      }\n\n      return response.json() as Promise<ReactResponse>;\n    },\n    onSuccess: (data, variables) => {\n      // Optimistically update the cache\n      queryClient.setQueryData(\n        [\"space-feed\", spaceId],\n        (oldData: InfiniteQueryData | undefined) => {\n          if (!oldData) return oldData;\n\n          return {\n            ...oldData,\n            pages: oldData.pages.map((page: FeedResponse) => ({\n              ...page,\n              posts: page.posts.map((post) => {\n                if (post.id === variables.postId) {\n                  const newReactedUsers = [...(post.reactedUsers?.heart || [])];\n\n                  if (\n                    variables.action === \"add\" &&\n                    !newReactedUsers.includes(currentUser.id)\n                  ) {\n                    newReactedUsers.push(currentUser.id);\n                  } else if (variables.action === \"remove\") {\n                    const index = newReactedUsers.indexOf(currentUser.id);\n                    if (index > -1) newReactedUsers.splice(index, 1);\n                  }\n\n                  return {\n                    ...post,\n                    reactions: {\n                      ...post.reactions,\n                      heart: newReactedUsers.length,\n                    },\n                    reactedUsers: {\n                      ...post.reactedUsers,\n                      heart: newReactedUsers,\n                    },\n                  };\n                }\n                return post;\n              }),\n            })),\n          };\n        }\n      );\n    },\n  });\n\n  // Delete post mutation\n  const deleteMutation = useMutation({\n    mutationFn: async (postId: string) => {\n      const response = await fetch(`/api/spaces/${spaceId}/posts/${postId}`, {\n        method: \"DELETE\",\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to delete post\");\n      }\n\n      return response.json() as Promise<DeleteResponse>;\n    },\n    onSuccess: (data, postId) => {\n      // Update the cache to mark post as deleted\n      queryClient.setQueryData(\n        [\"space-feed\", spaceId],\n        (oldData: InfiniteQueryData | undefined) => {\n          if (!oldData) return oldData;\n\n          return {\n            ...oldData,\n            pages: oldData.pages.map((page: FeedResponse) => ({\n              ...page,\n              posts: page.posts.map((post) => {\n                if (post.id === postId) {\n                  return {\n                    ...post,\n                    isDeleted: true,\n                    content: `Post removed by ${currentUser.fullName}`,\n                  };\n                }\n                return post;\n              }),\n            })),\n          };\n        }\n      );\n    },\n  });\n\n  // Pin post mutation\n  const pinMutation = useMutation({\n    mutationFn: async ({ postId, pin }: { postId: string; pin: boolean }) => {\n      const response = await fetch(\n        `/api/spaces/${spaceId}/posts/${postId}/moderate`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            action: pin ? \"pin\" : \"unpin\",\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Failed to pin post\");\n      }\n\n      return response.json() as Promise<ModerateResponse>;\n    },\n    onSuccess: () => {\n      // Refetch to get updated order (pinned posts go to top)\n      void refetch();\n    },\n  });\n\n  // Flag post mutation\n  const flagMutation = useMutation({\n    mutationFn: async ({\n      postId,\n      reason,\n    }: {\n      postId: string;\n      reason: string;\n    }) => {\n      const response = await fetch(\n        `/api/spaces/${spaceId}/posts/${postId}/moderate`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            action: \"flag\",\n            reason,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Failed to flag post\");\n      }\n\n      return response.json() as Promise<ModerateResponse>;\n    },\n    onSuccess: () => {\n      void refetch();\n    },\n  });\n\n  const handlePostCreated = (newPost: FeedPost) => {\n    // Add new post to the top of the feed\n    queryClient.setQueryData(\n      [\"space-feed\", spaceId],\n      (oldData: InfiniteQueryData | undefined) => {\n        if (!oldData)\n          return {\n            pages: [{ posts: [newPost], hasMore: false, lastPostId: null }],\n            pageParams: [undefined],\n          };\n\n        const firstPage = oldData.pages[0];\n        return {\n          ...oldData,\n          pages: [\n            {\n              ...firstPage,\n              posts: [newPost, ...firstPage.posts],\n            },\n            ...oldData.pages.slice(1),\n          ],\n        };\n      }\n    );\n  };\n\n  const handleRefresh = async () => {\n    setIsRefreshing(true);\n    try {\n      await refetch();\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  const allPosts =\n    data?.pages.flatMap((page: FeedResponse) => page.posts) || [];\n\n  const fetchMorePosts = useCallback(async (): Promise<{\n    hasMore: boolean;\n    lastPostId: string;\n  }> => {\n    try {\n      // Fetch logic with proper typing\n      const response = await fetch(`/api/spaces/${spaceId}/posts`);\n      const data = (await response.json()) as FeedResponse;\n\n      return {\n        hasMore: data.hasMore || false,\n        lastPostId: data.lastPostId || \"\",\n      };\n    } catch (error) {\n      logger.error(\"Failed to fetch posts:\", error);\n      return { hasMore: false, lastPostId: \"\" };\n    }\n  }, [spaceId]);\n\n  const handleError = (error: Error) => {\n    logger.error(\"Failed to load feed items:\", error);\n  };\n\n  const handleLoadMore = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      await fetchMorePosts();\n    } catch (error) {\n      logger.error(\"Failed to load more feed items:\", error);\n      setError(\"Failed to load more posts\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [fetchMorePosts]);\n\n  // Removed unused handlers and memoized posts\n\n  if (isLoading) {\n    return (\n      <div className={cn(\"space-y-4\", className)}>\n        <FeedComposer\n          spaceId={spaceId}\n          currentUser={currentUser}\n          onPostCreated={handlePostCreated}\n        />\n        <div className=\"flex items-center justify-center py-8\">\n          <Loader2 className=\"h-6 w-6 animate-spin\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={cn(\"space-y-4\", className)}>\n        <FeedComposer\n          spaceId={spaceId}\n          currentUser={currentUser}\n          onPostCreated={handlePostCreated}\n        />\n        <Card>\n          <CardContent className=\"p-8 text-center\">\n            <AlertCircle className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold mb-2\">Failed to load posts</h3>\n            <p className=\"text-muted-foreground mb-4\">\n              {error || \"Something went wrong\"}\n            </p>\n            <Button\n              onClick={() => void handleRefresh()}\n              disabled={isRefreshing}\n            >\n              {isRefreshing ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Retrying...\n                </>\n              ) : (\n                <>\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\n                  Try Again\n                </>\n              )}\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"space-y-4\", className)}>\n      {/* Composer */}\n      <FeedComposer\n        spaceId={spaceId}\n        currentUser={currentUser}\n        onPostCreated={handlePostCreated}\n      />\n\n      {/* Refresh Button */}\n      <div className=\"flex justify-center\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => void handleRefresh()}\n          disabled={isRefreshing}\n          className=\"gap-2\"\n        >\n          <RefreshCw\n            className={cn(\"h-4 w-4\", isRefreshing && \"animate-spin\")}\n          />\n          {isRefreshing ? \"Refreshing...\" : \"Refresh\"}\n        </Button>\n      </div>\n\n      {/* Posts */}\n      {allPosts.length === 0 ? (\n        <Card>\n          <CardContent className=\"p-8 text-center\">\n            <div className=\"text-muted-foreground\">\n              <h3 className=\"text-lg font-semibold mb-2\">No posts yet</h3>\n              <p>Be the first to share something in this space!</p>\n            </div>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-4\">\n          {allPosts.map((post, index) => (\n            <div\n              key={post.id}\n              ref={index === allPosts.length - 1 ? lastPostRef : undefined}\n            >\n              <PostCard\n                post={post}\n                currentUser={currentUser}\n                onReact={async (postId, reaction, action) => {\n                  return new Promise<void>((resolve, reject) => {\n                    reactMutation.mutate(\n                      { postId, reaction, action },\n                      {\n                        onSuccess: () => resolve(),\n                        onError: (error) => reject(error),\n                      }\n                    );\n                  });\n                }}\n                onDelete={async (postId) => {\n                  return new Promise<void>((resolve, reject) => {\n                    deleteMutation.mutate(postId, {\n                      onSuccess: () => resolve(),\n                      onError: (error) => reject(error),\n                    });\n                  });\n                }}\n                onPin={async (postId, pin) => {\n                  return new Promise<void>((resolve, reject) => {\n                    pinMutation.mutate(\n                      { postId, pin },\n                      {\n                        onSuccess: () => resolve(),\n                        onError: (error) => reject(error),\n                      }\n                    );\n                  });\n                }}\n                onFlag={async (postId, reason) => {\n                  return new Promise<void>((resolve, reject) => {\n                    flagMutation.mutate(\n                      { postId, reason: reason || \"Inappropriate content\" },\n                      {\n                        onSuccess: () => resolve(),\n                        onError: (error) => reject(error),\n                      }\n                    );\n                  });\n                }}\n              />\n            </div>\n          ))}\n\n          {/* Loading indicator for infinite scroll */}\n          {isFetchingNextPage && (\n            <div className=\"flex items-center justify-center py-4\">\n              <Loader2 className=\"h-5 w-5 animate-spin\" />\n            </div>\n          )}\n\n          {/* End of feed indicator */}\n          {!hasNextPage && allPosts.length > 0 && (\n            <div className=\"text-center py-4 text-sm text-muted-foreground\">\n              You&apos;ve reached the end of the feed\n            </div>\n          )}\n        </div>\n      )}\n\n      <Button\n        onClick={() => void handleLoadMore()}\n        disabled={isLoading}\n        className=\"w-full\"\n      >\n        Load More Posts\n      </Button>\n    </div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\feed\\top-strip.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":159,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":159,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4680,4683],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4680,4683],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":211,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":211,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6556,6559],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6556,6559],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/prop-types","severity":2,"message":"'item.id' is missing in props validation","line":239,"column":36,"nodeType":"Identifier","messageId":"missingPropType","endLine":239,"endColumn":38}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Progress } from \"../progress\";\nimport { Calendar, Users, Cpu, ArrowRight } from \"lucide-react\";\nimport { designTokens } from \"@hive/tokens\";\n\n// ============================================================================\n// HIVE-SPECIFIC DESIGN DECISIONS\n// ============================================================================\n\nconst HIVE_MOTION = {\n  transition: {\n    duration: designTokens.motion.duration.fast,\n    ease: designTokens.motion.easing.spring,\n  },\n  whileTap: { scale: 0.97 },\n  hover: {\n    scale: 1.02,\n    transition: {\n      duration: designTokens.motion.duration.instant,\n      ease: designTokens.motion.easing.smooth,\n    },\n  },\n};\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface TopStripItem {\n  id: string;\n  type: \"ritual\" | \"space-unlock\" | \"tool-reveal\" | \"campus-event\";\n  title: string;\n  subtitle?: string;\n  timestamp: Date;\n  isUrgent?: boolean;\n  participants?: number;\n  maxParticipants?: number;\n  priority: number;\n}\n\nexport interface TopStripProps {\n  items: TopStripItem[];\n  onItemClick?: (item: TopStripItem) => void;\n  onItemLongPress?: (item: TopStripItem) => void;\n  className?: string;\n}\n\n// ============================================================================\n// HELPER FUNCTIONS & COMPONENTS\n// ============================================================================\n\nconst getIconForType = (type: TopStripItem[\"type\"]) => {\n  switch (type) {\n    case \"ritual\":\n      return <Cpu className=\"h-4 w-4\" />;\n    case \"space-unlock\":\n      return <Users className=\"h-4 w-4\" />;\n    case \"tool-reveal\":\n      return <Cpu className=\"h-4 w-4\" />; // Re-using for now\n    case \"campus-event\":\n      return <Calendar className=\"h-4 w-4\" />;\n    default:\n      return null;\n  }\n};\n\nconst Countdown = ({\n  timestamp,\n  isUrgent,\n}: {\n  timestamp: Date;\n  isUrgent?: boolean;\n}) => {\n  const [timeRemaining, setTimeRemaining] = useState(\"\");\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = new Date().getTime();\n      const distance = timestamp.getTime() - now;\n\n      if (distance < 0) {\n        setTimeRemaining(\"Unlocked\");\n        clearInterval(interval);\n        return;\n      }\n\n      const days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      const hours = Math.floor(\n        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n      );\n      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      const seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n      let countdownString = \"\";\n      if (days > 0) countdownString += `${days}d `;\n      if (hours > 0 || days > 0) countdownString += `${hours}h `;\n      if (minutes > 0 || hours > 0 || days > 0)\n        countdownString += `${minutes}m `;\n      countdownString += `${seconds}s`;\n\n      setTimeRemaining(countdownString.trim());\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [timestamp]);\n\n  const pulseAnimation = isUrgent\n    ? {\n        scale: [1, 1.05, 1],\n        transition: { duration: 1.5, repeat: Infinity, ease: \"easeInOut\" },\n      }\n    : {};\n\n  return (\n    <motion.div\n      className=\"font-mono text-sm tracking-tighter text-text-primary\"\n      animate={pulseAnimation}\n    >\n      {timeRemaining}\n    </motion.div>\n  );\n};\n\n// ============================================================================\n// MAIN COMPONENT\n// ============================================================================\n\nexport const TopStrip = ({\n  items,\n  onItemClick,\n  onItemLongPress,\n  className,\n}: TopStripProps) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const sortedItems = [...items].sort((a, b) => a.priority - b.priority);\n  const leadRitual = sortedItems.find(\n    (item) => item.type === \"ritual\" && item.isUrgent\n  );\n  const otherItems = sortedItems.filter((item) => item.id !== leadRitual?.id);\n\n  const handleLongPress = (\n    e: React.PointerEvent<HTMLDivElement>,\n    item: TopStripItem\n  ) => {\n    e.preventDefault();\n    onItemLongPress?.(item);\n  };\n\n  // Lead Ritual Tile Component\n  const LeadRitualTile = ({ item }: { item: TopStripItem }) => (\n    <motion.div\n      className=\"col-span-full rounded-xl bg-surface-02 border border-border-line p-4 flex flex-col justify-between cursor-pointer h-32 relative overflow-hidden\"\n      onClick={() => onItemClick?.(item)}\n      onContextMenu={(e) => handleLongPress(e as any, item)}\n      whileHover={HIVE_MOTION.hover}\n      {...HIVE_MOTION}\n    >\n      {/* Pulsing Gold Border for urgency */}\n      {item.isUrgent && (\n        <motion.div\n          className=\"absolute inset-0 border-2 border-accent-gold rounded-xl\"\n          animate={{\n            opacity: [0, 1, 0],\n            scale: [1, 1.02, 1],\n          }}\n          transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\n        />\n      )}\n\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-center gap-2 text-sm text-text-muted font-medium\">\n          {getIconForType(item.type)}\n          <span>{item.type.replace(\"-\", \" \")}</span>\n        </div>\n        <Countdown timestamp={item.timestamp} isUrgent={item.isUrgent} />\n      </div>\n      <div>\n        <h3 className=\"font-display text-lg font-semibold text-text-primary\">\n          {item.title}\n        </h3>\n        {item.subtitle && (\n          <p className=\"text-sm text-text-muted\">{item.subtitle}</p>\n        )}\n      </div>\n      {item.participants !== undefined &&\n        item.maxParticipants !== undefined && (\n          <div className=\"mt-2\">\n            <Progress\n              value={(item.participants / item.maxParticipants) * 100}\n              className=\"h-1\"\n            />\n            <div className=\"flex justify-between text-xs text-text-muted mt-1\">\n              <span>{item.participants} joined</span>\n              <span>{item.maxParticipants} max</span>\n            </div>\n          </div>\n        )}\n    </motion.div>\n  );\n\n  // Secondary Tile Component\n  const SecondaryTile = ({ item }: { item: TopStripItem }) => (\n    <motion.div\n      className=\"rounded-lg bg-surface-01 border border-border-line p-3 flex items-center justify-between cursor-pointer h-20\"\n      onClick={() => onItemClick?.(item)}\n      onContextMenu={(e) => handleLongPress(e as any, item)}\n      whileHover={HIVE_MOTION.hover}\n      {...HIVE_MOTION}\n    >\n      <div className=\"flex flex-col\">\n        <div className=\"flex items-center gap-2 text-xs text-text-muted font-medium\">\n          {getIconForType(item.type)}\n          <span>{item.type.replace(\"-\", \" \")}</span>\n        </div>\n        <p className=\"font-body text-sm font-medium text-text-primary mt-1\">\n          {item.title}\n        </p>\n      </div>\n      <ArrowRight className=\"h-4 w-4 text-text-muted\" />\n    </motion.div>\n  );\n\n  return (\n    <AnimatePresence>\n      <div\n        ref={containerRef}\n        className={cn(\n          \"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",\n          className\n        )}\n      >\n        {leadRitual && <LeadRitualTile item={leadRitual} />}\n        {otherItems.map((item) => (\n          <SecondaryTile key={item.id} item={item} />\n        ))}\n      </div>\n    </AnimatePresence>\n  );\n};\n\n// ============================================================================\n// MOCK DATA GENERATOR - For Storybook & Prototyping\n// ============================================================================\n\nexport const createSampleTopStripItems = (): TopStripItem[] => {\n  const now = new Date();\n  return [\n    {\n      id: \"ritual-1\",\n      type: \"ritual\",\n      title: \"First Light Ceremony\",\n      subtitle: \"The first campus-wide post flood begins.\",\n      timestamp: new Date(now.getTime() + 2 * 60 * 60 * 1000), // 2 hours from now\n      isUrgent: true,\n      participants: 842,\n      maxParticipants: 2000,\n      priority: 1,\n    },\n    {\n      id: \"space-unlock-1\",\n      type: \"space-unlock\",\n      title: \"Graphic Design Club\",\n      timestamp: new Date(now.getTime() - 1 * 60 * 60 * 1000), // 1 hour ago\n      priority: 2,\n    },\n    {\n      id: \"tool-reveal-1\",\n      type: \"tool-reveal\",\n      title: 'New \"Course Scheduler\" Tool',\n      timestamp: new Date(now.getTime() - 3 * 60 * 60 * 1000), // 3 hours ago\n      priority: 3,\n    },\n    {\n      id: \"campus-event-1\",\n      type: \"campus-event\",\n      title: \"Homecoming Football Game\",\n      timestamp: new Date(now.getTime() + 24 * 60 * 60 * 1000), // tomorrow\n      priority: 4,\n    },\n  ];\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\framer-motion-proxy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\grid.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\grid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\hivelab\\template-selector.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":266,"column":72,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8828,8909],"text":" - it&apos;s the\r\n            most versatile and beginner-friendly option.\r\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8828,8909],"text":" - it&lsquo;s the\r\n            most versatile and beginner-friendly option.\r\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8828,8909],"text":" - it&#39;s the\r\n            most versatile and beginner-friendly option.\r\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8828,8909],"text":" - it&rsquo;s the\r\n            most versatile and beginner-friendly option.\r\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { cn } from \"../../lib/utils\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\r\nimport { Button } from \"../ui/button\";\r\nimport { Badge } from \"../ui/badge\";\r\nimport {\r\n  BarChart3,\r\n  Calendar,\r\n  FileText,\r\n  Zap,\r\n  ArrowRight,\r\n  Clock,\r\n} from \"lucide-react\";\r\n\r\ninterface ToolTemplate {\r\n  id: \"poll\" | \"rsvp\" | \"simple_form\";\r\n  name: string;\r\n  description: string;\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  estimatedTime: string;\r\n  difficulty: \"beginner\" | \"intermediate\" | \"advanced\";\r\n  useCases: string[];\r\n  features: string[];\r\n  isPopular?: boolean;\r\n  isNew?: boolean;\r\n}\r\n\r\ninterface TemplateSelectorProps {\r\n  templates: ToolTemplate[];\r\n  onSelectTemplate?: (templateId: string) => void;\r\n  className?: string;\r\n}\r\n\r\nconst difficultyColors = {\r\n  beginner: \"bg-green-500\",\r\n  intermediate: \"bg-yellow-500\",\r\n  advanced: \"bg-red-500\",\r\n};\r\n\r\nconst difficultyLabels = {\r\n  beginner: \"Beginner\",\r\n  intermediate: \"Intermediate\",\r\n  advanced: \"Advanced\",\r\n};\r\n\r\nconst defaultTemplates: ToolTemplate[] = [\r\n  {\r\n    id: \"poll\",\r\n    name: \"Poll\",\r\n    description:\r\n      \"Create interactive polls to gather opinions and make decisions with your campus community.\",\r\n    icon: BarChart3,\r\n    estimatedTime: \"5-10 min\",\r\n    difficulty: \"beginner\",\r\n    useCases: [\r\n      \"Student government voting\",\r\n      \"Event planning decisions\",\r\n      \"Academic feedback\",\r\n      \"Campus opinion surveys\",\r\n    ],\r\n    features: [\r\n      \"Multiple choice options\",\r\n      \"Real-time results\",\r\n      \"Anonymous voting\",\r\n      \"Time-limited polls\",\r\n    ],\r\n    isPopular: true,\r\n  },\r\n  {\r\n    id: \"rsvp\",\r\n    name: \"RSVP\",\r\n    description:\r\n      \"Organize events and track attendance with built-in RSVP management and capacity controls.\",\r\n    icon: Calendar,\r\n    estimatedTime: \"8-15 min\",\r\n    difficulty: \"beginner\",\r\n    useCases: [\r\n      \"Club meetings\",\r\n      \"Study groups\",\r\n      \"Social events\",\r\n      \"Workshop registration\",\r\n    ],\r\n    features: [\r\n      \"Capacity management\",\r\n      \"Waitlist support\",\r\n      \"Calendar integration\",\r\n      \"Attendee tracking\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"simple_form\",\r\n    name: \"Simple Form\",\r\n    description:\r\n      \"Build custom forms to collect information, feedback, and applications from students.\",\r\n    icon: FileText,\r\n    estimatedTime: \"10-20 min\",\r\n    difficulty: \"intermediate\",\r\n    useCases: [\r\n      \"Club applications\",\r\n      \"Feedback collection\",\r\n      \"Contact forms\",\r\n      \"Survey research\",\r\n    ],\r\n    features: [\r\n      \"Drag & drop builder\",\r\n      \"Multiple field types\",\r\n      \"Response validation\",\r\n      \"Data export\",\r\n    ],\r\n    isNew: true,\r\n  },\r\n];\r\n\r\nexport const TemplateSelector = React.forwardRef<\r\n  HTMLDivElement,\r\n  TemplateSelectorProps\r\n>(\r\n  (\r\n    { templates = defaultTemplates, onSelectTemplate, className, ...props },\r\n    ref\r\n  ) => {\r\n    const handleSelectTemplate = (templateId: string) => {\r\n      onSelectTemplate?.(templateId);\r\n    };\r\n\r\n    return (\r\n      <div ref={ref} className={cn(\"space-y-6\", className)} {...props}>\r\n        {/* Header */}\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-text-primary font-display mb-2\">\r\n            Choose a Tool Template\r\n          </h2>\r\n          <p className=\"text-text-secondary\">\r\n            Start with a proven template and customize it for your campus\r\n            community\r\n          </p>\r\n        </div>\r\n\r\n        {/* Template Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          {templates.map((template) => {\r\n            const IconComponent = template.icon;\r\n\r\n            return (\r\n              <Card\r\n                key={template.id}\r\n                className={cn(\r\n                  \"relative cursor-pointer transition-all duration-200\",\r\n                  \"hover:shadow-lg hover:scale-105 hover:border-yellow-500\",\r\n                  \"group\"\r\n                )}\r\n                onClick={() => handleSelectTemplate(template.id)}\r\n              >\r\n                {/* Badges */}\r\n                <div className=\"absolute top-4 right-4 flex gap-2\">\r\n                  {template.isPopular && (\r\n                    <Badge className=\"bg-yellow-500 text-black text-xs\">\r\n                      Popular\r\n                    </Badge>\r\n                  )}\r\n                  {template.isNew && (\r\n                    <Badge variant=\"secondary\" className=\"text-xs\">\r\n                      New\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n\r\n                <CardHeader className=\"pb-4\">\r\n                  <div className=\"flex items-center gap-3 mb-3\">\r\n                    <div className=\"p-3 bg-surface-02 rounded-lg group-hover:bg-yellow-500 group-hover:text-black transition-colors\">\r\n                      <IconComponent className=\"h-6 w-6\" />\r\n                    </div>\r\n                    <div>\r\n                      <CardTitle className=\"text-lg font-display\">\r\n                        {template.name}\r\n                      </CardTitle>\r\n                      <div className=\"flex items-center gap-2 mt-1\">\r\n                        <Badge\r\n                          variant=\"outline\"\r\n                          className={cn(\r\n                            \"text-xs text-white\",\r\n                            difficultyColors[template.difficulty]\r\n                          )}\r\n                        >\r\n                          {difficultyLabels[template.difficulty]}\r\n                        </Badge>\r\n                        <span className=\"text-xs text-text-secondary flex items-center gap-1\">\r\n                          <Clock className=\"h-3 w-3\" />\r\n                          {template.estimatedTime}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </CardHeader>\r\n\r\n                <CardContent className=\"space-y-4\">\r\n                  {/* Description */}\r\n                  <p className=\"text-sm text-text-secondary line-clamp-3\">\r\n                    {template.description}\r\n                  </p>\r\n\r\n                  {/* Use Cases */}\r\n                  <div>\r\n                    <h4 className=\"text-xs font-medium text-text-secondary mb-2 uppercase tracking-wide\">\r\n                      Perfect For\r\n                    </h4>\r\n                    <div className=\"space-y-1\">\r\n                      {template.useCases.slice(0, 3).map((useCase, index) => (\r\n                        <div\r\n                          key={index}\r\n                          className=\"flex items-center gap-2 text-xs text-text-secondary\"\r\n                        >\r\n                          <div className=\"w-1 h-1 bg-yellow-500 rounded-full\" />\r\n                          {useCase}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Features */}\r\n                  <div>\r\n                    <h4 className=\"text-xs font-medium text-text-secondary mb-2 uppercase tracking-wide\">\r\n                      Key Features\r\n                    </h4>\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                      {template.features.slice(0, 3).map((feature, index) => (\r\n                        <Badge\r\n                          key={index}\r\n                          variant=\"secondary\"\r\n                          className=\"text-xs\"\r\n                        >\r\n                          {feature}\r\n                        </Badge>\r\n                      ))}\r\n                      {template.features.length > 3 && (\r\n                        <Badge variant=\"secondary\" className=\"text-xs\">\r\n                          +{template.features.length - 3} more\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Create Button */}\r\n                  <Button\r\n                    className=\"w-full mt-4 group-hover:bg-yellow-500 group-hover:text-black transition-colors\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      handleSelectTemplate(template.id);\r\n                    }}\r\n                  >\r\n                    <Zap className=\"h-4 w-4 mr-2\" />\r\n                    Create {template.name}\r\n                    <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Help Text */}\r\n        <div className=\"text-center p-4 bg-surface-02 rounded-lg\">\r\n          <p className=\"text-sm text-text-secondary\">\r\n            Need help choosing? Start with a <strong>Poll</strong> - it's the\r\n            most versatile and beginner-friendly option.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nTemplateSelector.displayName = \"TemplateSelector\";\r\n\r\nexport type { ToolTemplate, TemplateSelectorProps };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\landing\\hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\landing\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\layout\\AppHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\layout\\ImmersiveLayout.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'cn' is defined but never used. Allowed unused vars must match /^_/u.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { HiveLogo } from \"../brand/hive-logo\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\n// --- Components defined directly in the story for simplicity ---\r\n\r\nconst ImmersiveHeader = () => (\r\n  <motion.header\r\n    initial={{ y: -20, opacity: 0 }}\r\n    animate={{ y: 0, opacity: 1 }}\r\n    transition={{ duration: 0.35, ease: \"easeOut\" }}\r\n    className=\"fixed top-0 left-0 right-0 z-50 flex items-center justify-between p-4 bg-background/80 backdrop-blur-sm\"\r\n  >\r\n    <div className=\"flex items-center gap-4\">\r\n      <HiveLogo variant=\"white\" size=\"sm\" className=\"opacity-75\" />\r\n      <span className=\"text-sm font-medium text-muted-foreground\">HIVE</span>\r\n    </div>\r\n    <div className=\"flex items-center gap-4\">\r\n      <div className=\"w-8 h-8 rounded-full bg-muted\" />\r\n    </div>\r\n  </motion.header>\r\n);\r\n\r\nconst ImmersiveContent = () => (\r\n  <div className=\"p-8 mt-16\">\r\n    <div className=\"w-full h-64 rounded-lg bg-muted\" />\r\n    <div className=\"w-full h-32 mt-4 rounded-lg bg-muted\" />\r\n    <div className=\"w-2/3 h-32 mt-4 rounded-lg bg-muted\" />\r\n  </div>\r\n);\r\n\r\nconst ImmersiveLayout = () => {\r\n  return (\r\n    <div className=\"min-h-screen text-white bg-background\">\r\n      <ImmersiveHeader />\r\n      <main>\r\n        <ImmersiveContent />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Storybook Meta and Story Definition ---\r\n\r\nconst meta: Meta<typeof ImmersiveLayout> = {\r\n  title: \"Layout/Immersive\",\r\n  component: ImmersiveLayout,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n    backgrounds: {\r\n      default: \"hive-dark\",\r\n      values: [{ name: \"hive-dark\", value: \"#0A0A0A\" }],\r\n    },\r\n  },\r\n};\r\n\r\nexport default meta;\r\n\r\ntype Story = StoryObj<typeof ImmersiveLayout>;\r\n\r\nexport const Default: Story = {}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\layout\\LayoutAdaptive.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\layout\\LayoutFocused.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\layout\\LayoutImmersive.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Home' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Compass' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'User' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Settings' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Bot' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":41,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'HiveLogo' is defined but never used. Allowed unused vars must match /^_/u.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":18}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, ReactNode } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Home, Compass, User, Settings, Bot, Search, Bell } from \"lucide-react\";\r\nimport { HiveLogo } from \"../brand/Logo\";\r\n\r\ninterface LayoutImmersiveProps {\r\n  children: ReactNode;\r\n  className?: string;\r\n}\r\n\r\n// Placeholder for a logo component\r\nconst PlaceholderLogo = () => (\r\n  <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-black transition-transform duration-fast ease-standard hover:scale-105\">\r\n    <img src=\"/assets/whitelogo.svg\" alt=\"HIVE Logo\" className=\"h-5 w-5\" />\r\n  </div>\r\n);\r\n\r\n// Placeholder for a nav link component\r\nconst PlaceholderNavLink = ({\r\n  label,\r\n  active,\r\n  onClick,\r\n}: {\r\n  label: string;\r\n  active?: boolean;\r\n  onClick: () => void;\r\n}) => (\r\n  <a\r\n    href=\"#\"\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick();\r\n    }}\r\n    className={cn(\r\n      \"relative rounded-lg px-3 py-2 font-sans font-medium text-foreground/70 transition-all duration-fast ease-standard hover:text-foreground\",\r\n      active && \"text-foreground\"\r\n    )}\r\n  >\r\n    {label}\r\n    {active && (\r\n      <motion.div\r\n        layoutId=\"active-header-underline\"\r\n        className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-accent\"\r\n        initial={false}\r\n        transition={{ type: \"spring\", stiffness: 350, damping: 30 }}\r\n      />\r\n    )}\r\n  </a>\r\n);\r\n\r\n// Placeholder for user avatar\r\nconst PlaceholderAvatar = () => (\r\n  <div className=\"h-9 w-9 rounded-full bg-accent\" />\r\n);\r\n\r\n// The main layout component for Option B\r\nexport function LayoutImmersive({ children, className }: LayoutImmersiveProps) {\r\n  const [active, setActive] = useState(\"Feed\");\r\n  const navItems = [\"Feed\", \"Spaces\", \"Profile\"];\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex min-h-screen w-full flex-col bg-background font-sans text-foreground\",\r\n        className\r\n      )}\r\n    >\r\n      {/* Top Header */}\r\n      <header className=\"sticky top-0 z-50 flex h-16 items-center gap-4 border-b border-border bg-surface/80 px-6 backdrop-blur-sm\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <PlaceholderLogo />\r\n        </div>\r\n        <nav className=\"hidden items-center gap-2 md:flex\">\r\n          {navItems.map((item) => (\r\n            <PlaceholderNavLink\r\n              key={item}\r\n              label={item}\r\n              active={active === item}\r\n              onClick={() => setActive(item)}\r\n            />\r\n          ))}\r\n        </nav>\r\n        <div className=\"ml-auto flex items-center gap-2\">\r\n          <button className=\"flex h-10 w-10 items-center justify-center rounded-full transition-colors duration-fast ease-standard hover:bg-foreground/5\">\r\n            <Search className=\"h-5 w-5 text-foreground/80\" />\r\n          </button>\r\n          <button className=\"flex h-10 w-10 items-center justify-center rounded-full transition-colors duration-fast ease-standard hover:bg-foreground/5\">\r\n            <Bell className=\"h-5 w-5 text-foreground/80\" />\r\n          </button>\r\n          <PlaceholderAvatar />\r\n        </div>\r\n      </header>\r\n      {/* Content Area */}\r\n      <main className=\"flex-1 p-6\">{children}</main>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\motion\\motion-provider.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2552,2555],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2552,2555],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2616,2619],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2616,2619],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":186,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":186,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5459,5462],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5459,5462],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n  useCallback,\r\n} from \"react\";\r\nimport { motion, MotionConfig } from \"framer-motion\";\r\n\r\ninterface MotionContextValue {\r\n  /** Whether animations are enabled (respects user preference + performance) */\r\n  animationsEnabled: boolean;\r\n  /** Whether user prefers reduced motion */\r\n  prefersReducedMotion: boolean;\r\n  /** Current device performance tier (affects animation complexity) */\r\n  performanceTier: \"low\" | \"medium\" | \"high\";\r\n  /** Toggle animations manually (for debugging/testing) */\r\n  toggleAnimations: () => void;\r\n  /** Force performance tier (for testing) */\r\n  setPerformanceTier: (tier: \"low\" | \"medium\" | \"high\") => void;\r\n}\r\n\r\nconst MotionContext = createContext<MotionContextValue | null>(null);\r\n\r\ninterface MotionProviderProps {\r\n  children: React.ReactNode;\r\n  /** Override default animation settings */\r\n  defaultAnimationsEnabled?: boolean;\r\n  /** Force performance tier for testing */\r\n  forcedPerformanceTier?: \"low\" | \"medium\" | \"high\";\r\n}\r\n\r\n/**\r\n * Motion Provider - Manages animation state and performance across HIVE\r\n *\r\n * Features:\r\n * - Automatic reduced motion detection\r\n * - Device performance tier detection\r\n * - Global animation toggle\r\n * - Performance-aware animation complexity\r\n */\r\nexport function MotionProvider({\r\n  children,\r\n  defaultAnimationsEnabled = true,\r\n  forcedPerformanceTier,\r\n}: MotionProviderProps) {\r\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);\r\n  const [performanceTier, setPerformanceTier] = useState<\r\n    \"low\" | \"medium\" | \"high\"\r\n  >(\"medium\");\r\n  const [animationsEnabled, setAnimationsEnabled] = useState(\r\n    defaultAnimationsEnabled\r\n  );\r\n\r\n  // Detect reduced motion preference\r\n  useEffect(() => {\r\n    const mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\r\n    setPrefersReducedMotion(mediaQuery.matches);\r\n\r\n    const handler = (e: MediaQueryListEvent) => {\r\n      setPrefersReducedMotion(e.matches);\r\n    };\r\n\r\n    mediaQuery.addEventListener(\"change\", handler);\r\n    return () => mediaQuery.removeEventListener(\"change\", handler);\r\n  }, []);\r\n\r\n  // Detect device performance tier\r\n  useEffect(() => {\r\n    if (forcedPerformanceTier) {\r\n      setPerformanceTier(forcedPerformanceTier);\r\n      return;\r\n    }\r\n\r\n    const detectPerformance = () => {\r\n      // Use multiple signals to determine device capability\r\n      const hardwareConcurrency = navigator.hardwareConcurrency || 4;\r\n      const deviceMemory = (navigator as any).deviceMemory || 4;\r\n      const connection = (navigator as any).connection;\r\n\r\n      let score = 0;\r\n\r\n      // CPU cores\r\n      if (hardwareConcurrency >= 8) score += 3;\r\n      else if (hardwareConcurrency >= 4) score += 2;\r\n      else score += 1;\r\n\r\n      // RAM\r\n      if (deviceMemory >= 8) score += 3;\r\n      else if (deviceMemory >= 4) score += 2;\r\n      else score += 1;\r\n\r\n      // Network (if available)\r\n      if (connection) {\r\n        if (connection.effectiveType === \"4g\") score += 2;\r\n        else if (connection.effectiveType === \"3g\") score += 1;\r\n      } else {\r\n        score += 1; // Assume reasonable connection\r\n      }\r\n\r\n      // Classify performance tier\r\n      if (score >= 7) setPerformanceTier(\"high\");\r\n      else if (score >= 4) setPerformanceTier(\"medium\");\r\n      else setPerformanceTier(\"low\");\r\n    };\r\n\r\n    detectPerformance();\r\n  }, [forcedPerformanceTier]);\r\n\r\n  // Auto-disable animations for low performance or reduced motion\r\n  useEffect(() => {\r\n    if (prefersReducedMotion || performanceTier === \"low\") {\r\n      setAnimationsEnabled(false);\r\n    } else {\r\n      setAnimationsEnabled(defaultAnimationsEnabled);\r\n    }\r\n  }, [prefersReducedMotion, performanceTier, defaultAnimationsEnabled]);\r\n\r\n  const toggleAnimations = useCallback(() => {\r\n    setAnimationsEnabled((prev) => !prev);\r\n  }, []);\r\n\r\n  const contextValue: MotionContextValue = {\r\n    animationsEnabled,\r\n    prefersReducedMotion,\r\n    performanceTier,\r\n    toggleAnimations,\r\n    setPerformanceTier,\r\n  };\r\n\r\n  // Global motion configuration based on performance and preferences\r\n  const motionConfig = {\r\n    // Reduce animation complexity for lower-end devices\r\n    transition: {\r\n      duration:\r\n        performanceTier === \"low\"\r\n          ? 0.1\r\n          : performanceTier === \"medium\"\r\n            ? 0.18\r\n            : 0.22,\r\n      ease: [0.22, 0.61, 0.36, 1], // HIVE standard easing\r\n    },\r\n    // Disable layout animations on low-end devices for performance\r\n    layoutTransition:\r\n      performanceTier !== \"low\"\r\n        ? {\r\n            duration: 0.22,\r\n            ease: [0.22, 0.61, 0.36, 1],\r\n          }\r\n        : false,\r\n  };\r\n\r\n  return (\r\n    <MotionContext.Provider value={contextValue}>\r\n      <MotionConfig {...motionConfig}>{children}</MotionConfig>\r\n    </MotionContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Hook to access motion context\r\n */\r\nexport function useMotion() {\r\n  const context = useContext(MotionContext);\r\n  if (!context) {\r\n    throw new Error(\"useMotion must be used within a MotionProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * Performance-aware motion wrapper\r\n * Automatically adjusts animation complexity based on device capability\r\n */\r\nexport function AdaptiveMotion({\r\n  children,\r\n  lowEndFallback,\r\n  className,\r\n  ...motionProps\r\n}: {\r\n  children: React.ReactNode;\r\n  lowEndFallback?: React.ReactNode;\r\n  className?: string;\r\n  [key: string]: any;\r\n}) {\r\n  const { animationsEnabled, performanceTier } = useMotion();\r\n\r\n  // Return static content for low-end devices or disabled animations\r\n  if (!animationsEnabled || performanceTier === \"low\") {\r\n    return <div className={className}>{lowEndFallback || children}</div>;\r\n  }\r\n\r\n  // Reduce animation complexity for medium-tier devices\r\n  const adjustedProps =\r\n    performanceTier === \"medium\"\r\n      ? {\r\n          ...motionProps,\r\n          transition: {\r\n            ...motionProps.transition,\r\n            duration: (motionProps.transition?.duration || 0.22) * 0.8,\r\n          },\r\n        }\r\n      : motionProps;\r\n\r\n  return (\r\n    <motion.div className={className} {...adjustedProps}>\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\n/**\r\n * Utility hook for motion-aware component states\r\n */\r\nexport function useMotionAware() {\r\n  const { animationsEnabled, performanceTier } = useMotion();\r\n\r\n  return {\r\n    shouldAnimate: animationsEnabled && performanceTier !== \"low\",\r\n    isHighPerformance: performanceTier === \"high\",\r\n    reduceComplexity: performanceTier === \"low\",\r\n    // Get appropriate duration based on performance\r\n    getDuration: (baseDuration: number = 0.22) => {\r\n      if (!animationsEnabled) return 0;\r\n      if (performanceTier === \"low\") return 0.1;\r\n      if (performanceTier === \"medium\") return baseDuration * 0.8;\r\n      return baseDuration;\r\n    },\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\navigation\\BottomNavBar.stories.tsx","messages":[{"ruleId":"no-constant-binary-expression","severity":2,"message":"Unexpected constant truthiness on the left-hand side of a `&&` expression.","line":39,"column":8,"nodeType":"Literal","messageId":"constantShortCircuit","endLine":39,"endColumn":12},{"ruleId":"no-constant-binary-expression","severity":2,"message":"Unexpected constant truthiness on the left-hand side of a `&&` expression.","line":46,"column":8,"nodeType":"Literal","messageId":"constantShortCircuit","endLine":46,"endColumn":13},{"ruleId":"no-constant-binary-expression","severity":2,"message":"Unexpected constant truthiness on the left-hand side of a `&&` expression.","line":53,"column":8,"nodeType":"Literal","messageId":"constantShortCircuit","endLine":53,"endColumn":13},{"ruleId":"no-constant-binary-expression","severity":2,"message":"Unexpected constant truthiness on the left-hand side of a `&&` expression.","line":71,"column":8,"nodeType":"Literal","messageId":"constantShortCircuit","endLine":71,"endColumn":13},{"ruleId":"no-constant-binary-expression","severity":2,"message":"Unexpected constant truthiness on the left-hand side of a `&&` expression.","line":78,"column":8,"nodeType":"Literal","messageId":"constantShortCircuit","endLine":78,"endColumn":12},{"ruleId":"no-constant-binary-expression","severity":2,"message":"Unexpected constant truthiness on the left-hand side of a `&&` expression.","line":85,"column":8,"nodeType":"Literal","messageId":"constantShortCircuit","endLine":85,"endColumn":13}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from '@storybook/react'\r\nimport { Home, Compass, User } from 'lucide-react'\r\nimport {\r\n\tBottomNavBarRoot,\r\n\tBottomNavBarContent,\r\n\tBottomNavBarItem,\r\n\tBottomNavBarIcon,\r\n\tBottomNavBarLabel,\r\n\tBottomNavBarIndicator,\r\n} from './BottomNavBar'\r\nimport React from 'react'\r\n\r\nconst meta: Meta<typeof BottomNavBarRoot> = {\r\n\tcomponent: BottomNavBarRoot,\r\n\ttitle: 'Navigation/BottomNavBar',\r\n\ttags: ['autodocs'],\r\n\tparameters: {\r\n\t\tlayout: 'fullscreen',\r\n\t\tbackgrounds: {\r\n\t\t\tdefault: 'hive-dark',\r\n\t\t\tvalues: [\r\n\t\t\t\t{ name: 'hive-dark', value: '#0A0A0A' },\r\n\t\t\t\t{ name: 'light', value: '#F9F9F9' },\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n}\r\n\r\nexport default meta\r\n\r\ntype Story = StoryObj<typeof BottomNavBarRoot>\r\n\r\nexport const Default: Story = {\r\n\trender: (args) => (\r\n\t\t<div className='h-screen bg-neutral-900'>\r\n\t\t\t<BottomNavBarRoot {...args}>\r\n\t\t\t\t<BottomNavBarContent>\r\n\t\t\t\t\t<BottomNavBarItem isActive>\r\n\t\t\t\t\t\t{true && <BottomNavBarIndicator />}\r\n\t\t\t\t\t\t<BottomNavBarIcon>\r\n\t\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t\t</BottomNavBarIcon>\r\n\t\t\t\t\t\t<BottomNavBarLabel>Feed</BottomNavBarLabel>\r\n\t\t\t\t\t</BottomNavBarItem>\r\n\t\t\t\t\t<BottomNavBarItem>\r\n\t\t\t\t\t\t{false && <BottomNavBarIndicator />}\r\n\t\t\t\t\t\t<BottomNavBarIcon>\r\n\t\t\t\t\t\t\t<Compass />\r\n\t\t\t\t\t\t</BottomNavBarIcon>\r\n\t\t\t\t\t\t<BottomNavBarLabel>Spaces</BottomNavBarLabel>\r\n\t\t\t\t\t</BottomNavBarItem>\r\n\t\t\t\t\t<BottomNavBarItem>\r\n\t\t\t\t\t\t{false && <BottomNavBarIndicator />}\r\n\t\t\t\t\t\t<BottomNavBarIcon>\r\n\t\t\t\t\t\t\t<User />\r\n\t\t\t\t\t\t</BottomNavBarIcon>\r\n\t\t\t\t\t\t<BottomNavBarLabel>Profile</BottomNavBarLabel>\r\n\t\t\t\t\t</BottomNavBarItem>\r\n\t\t\t\t</BottomNavBarContent>\r\n\t\t\t</BottomNavBarRoot>\r\n\t\t</div>\r\n\t),\r\n}\r\n\r\nexport const SecondItemSelected: Story = {\r\n\trender: (args) => (\r\n\t\t<div className='h-screen bg-neutral-900'>\r\n\t\t\t<BottomNavBarRoot {...args}>\r\n\t\t\t\t<BottomNavBarContent>\r\n\t\t\t\t\t<BottomNavBarItem>\r\n\t\t\t\t\t\t{false && <BottomNavBarIndicator />}\r\n\t\t\t\t\t\t<BottomNavBarIcon>\r\n\t\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t\t</BottomNavBarIcon>\r\n\t\t\t\t\t\t<BottomNavBarLabel>Feed</BottomNavBarLabel>\r\n\t\t\t\t\t</BottomNavBarItem>\r\n\t\t\t\t\t<BottomNavBarItem isActive>\r\n\t\t\t\t\t\t{true && <BottomNavBarIndicator />}\r\n\t\t\t\t\t\t<BottomNavBarIcon>\r\n\t\t\t\t\t\t\t<Compass />\r\n\t\t\t\t\t\t</BottomNavBarIcon>\r\n\t\t\t\t\t\t<BottomNavBarLabel>Spaces</BottomNavBarLabel>\r\n\t\t\t\t\t</BottomNavBarItem>\r\n\t\t\t\t\t<BottomNavBarItem>\r\n\t\t\t\t\t\t{false && <BottomNavBarIndicator />}\r\n\t\t\t\t\t\t<BottomNavBarIcon>\r\n\t\t\t\t\t\t\t<User />\r\n\t\t\t\t\t\t</BottomNavBarIcon>\r\n\t\t\t\t\t\t<BottomNavBarLabel>Profile</BottomNavBarLabel>\r\n\t\t\t\t\t</BottomNavBarItem>\r\n\t\t\t\t</BottomNavBarContent>\r\n\t\t\t</BottomNavBarRoot>\r\n\t\t</div>\r\n\t),\r\n} ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\navigation\\BottomNavBar.tsx","messages":[{"ruleId":"react/prop-types","severity":2,"message":"'className' is missing in props validation","line":37,"column":6,"nodeType":"Property","messageId":"missingPropType","endLine":37,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport * as React from 'react'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst BottomNavBarRoot = React.forwardRef<\r\n\tHTMLDivElement,\r\n\tReact.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n\t<nav\r\n\t\tref={ref}\r\n\t\trole='navigation'\r\n\t\tclassName={cn(\r\n\t\t\t'fixed inset-x-0 bottom-0 z-50 h-16 border-t border-neutral-800 bg-neutral-950/80 backdrop-blur-lg',\r\n\t\t\tclassName,\r\n\t\t)}\r\n\t\t{...props}\r\n\t/>\r\n))\r\nBottomNavBarRoot.displayName = 'BottomNavBarRoot'\r\n\r\nconst BottomNavBarContent = React.forwardRef<\r\n\tHTMLDivElement,\r\n\tReact.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n\t<div\r\n\t\tref={ref}\r\n\t\tclassName={cn('mx-auto grid h-full max-w-md grid-cols-3 items-stretch', className)}\r\n\t\t{...props}\r\n\t/>\r\n))\r\nBottomNavBarContent.displayName = 'BottomNavBarContent'\r\n\r\nconst BottomNavBarItem = React.forwardRef<\r\n\tHTMLButtonElement,\r\n\tReact.ButtonHTMLAttributes<HTMLButtonElement> & { isActive?: boolean }\r\n>(({ className, isActive, ...props }, ref) => (\r\n\t<button\r\n\t\tref={ref}\r\n\t\tclassName={cn(\r\n\t\t\t'relative flex flex-col items-center justify-center gap-1 px-2 pt-2 pb-1 text-xs font-medium text-neutral-400 transition-colors hover:text-white',\r\n\t\t\t{\r\n\t\t\t\t'text-white': isActive,\r\n\t\t\t},\r\n\t\t\tclassName,\r\n\t\t)}\r\n\t\t{...props}\r\n\t/>\r\n))\r\nBottomNavBarItem.displayName = 'BottomNavBarItem'\r\n\r\nconst BottomNavBarIndicator = React.forwardRef<\r\n\tHTMLSpanElement,\r\n\tReact.HTMLAttributes<HTMLSpanElement>\r\n>(({ className, ...props }, ref) => (\r\n\t<span\r\n\t\tref={ref}\r\n\t\tclassName={cn(\r\n\t\t\t'absolute top-0 h-0.5 w-8 rounded-full bg-gold-500 transition-all',\r\n\t\t\tclassName,\r\n\t\t)}\r\n\t\t{...props}\r\n\t/>\r\n))\r\nBottomNavBarIndicator.displayName = 'BottomNavBarIndicator'\r\n\r\nconst BottomNavBarIcon = React.forwardRef<\r\n\tHTMLSpanElement,\r\n\tReact.HTMLAttributes<HTMLSpanElement>\r\n>(({ className, ...props }, ref) => (\r\n\t<span ref={ref} className={cn('h-6 w-6', className)} {...props} />\r\n))\r\nBottomNavBarIcon.displayName = 'BottomNavBarIcon'\r\n\r\nconst BottomNavBarLabel = React.forwardRef<\r\n\tHTMLSpanElement,\r\n\tReact.HTMLAttributes<HTMLSpanElement>\r\n>(({ className, ...props }, ref) => (\r\n\t<span ref={ref} className={cn('truncate', className)} {...props} />\r\n))\r\nBottomNavBarLabel.displayName = 'BottomNavBarLabel'\r\n\r\nexport const BottomNavBar = {\r\n\tRoot: BottomNavBarRoot,\r\n\tContent: BottomNavBarContent,\r\n\tItem: BottomNavBarItem,\r\n\tIcon: BottomNavBarIcon,\r\n\tLabel: BottomNavBarLabel,\r\n\tIndicator: BottomNavBarIndicator,\r\n}\r\n\r\nexport {\r\n\tBottomNavBarRoot,\r\n\tBottomNavBarContent,\r\n\tBottomNavBarItem,\r\n\tBottomNavBarIcon,\r\n\tBottomNavBarLabel,\r\n\tBottomNavBarIndicator,\r\n} ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\navigation\\bottom-tabs.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'notificationCount' is assigned a value but never used. Allowed unused args must match /^_/u.","line":64,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":64,"endColumn":24}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\n\"use client\";\n\nimport React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Home, Users, User, Zap, Plus } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { logger } from \"@hive/core\";\n\nexport interface TabItem {\n  id: string;\n  label: string;\n  icon: React.ElementType;\n  isActive?: boolean;\n  badge?: number;\n  builderOnly?: boolean;\n  disabled?: boolean;\n}\n\nexport interface BottomTabsProps {\n  currentPage: \"feed\" | \"spaces\" | \"profile\" | \"hivelab\" | \"create\";\n  isBuilder?: boolean;\n  onTabClick?: (tabId: string) => void;\n  notificationCount?: number;\n  className?: string;\n}\n\nconst TAB_ITEMS: TabItem[] = [\n  {\n    id: \"feed\",\n    label: \"Feed\",\n    icon: Home,\n  },\n  {\n    id: \"spaces\",\n    label: \"Spaces\",\n    icon: Users,\n  },\n  {\n    id: \"create\",\n    label: \"Create\",\n    icon: Plus,\n  },\n  {\n    id: \"hivelab\",\n    label: \"HiveLAB\",\n    icon: Zap,\n    builderOnly: true,\n  },\n  {\n    id: \"profile\",\n    label: \"Profile\",\n    icon: User,\n  },\n];\n\nexport const BottomTabs = React.forwardRef<HTMLDivElement, BottomTabsProps>(\n  (\n    {\n      currentPage,\n      isBuilder = false,\n      onTabClick,\n      notificationCount = 0,\n      className,\n    },\n    ref\n  ) => {\n    const tabsToShow = TAB_ITEMS.filter(\n      (tab) => !tab.builderOnly || (tab.builderOnly && isBuilder)\n    );\n\n    const handleTabClick = (tab: TabItem) => {\n      if (tab.builderOnly && !isBuilder) return;\n      if (tab.disabled) return;\n\n      onTabClick?.(tab.id);\n    };\n\n    return (\n      <motion.div\n        ref={ref}\n        className={cn(\n          \"fixed bottom-0 left-0 right-0 z-50\",\n          \"bg-surface-01/95 backdrop-blur-sm\",\n          \"border-t border-border-line\",\n          \"safe-area-pb\", // Handles iPhone home indicator\n          className\n        )}\n        initial={{ opacity: 0, y: 100 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.3, ease: \"easeOut\" }}\n      >\n        <div className=\"flex items-center justify-around px-2 py-2\">\n          {tabsToShow.map((tab) => {\n            const Icon = tab.icon;\n            const isActive = currentPage === tab.id;\n            const isDisabled = tab.builderOnly && !isBuilder;\n            const isCreateButton = tab.id === \"create\";\n\n            return (\n              <motion.button\n                key={tab.id}\n                onClick={() => handleTabClick(tab)}\n                disabled={isDisabled}\n                className={cn(\n                  \"relative flex flex-col items-center justify-center\",\n                  \"min-h-[60px] px-3 py-2 rounded-xl\",\n                  \"transition-all duration-200\",\n                  isCreateButton\n                    ? \"bg-yellow-500 text-black hover:bg-yellow-400 shadow-elevation-2\"\n                    : isActive\n                      ? \"bg-surface-02 text-text-primary\"\n                      : \"text-text-secondary hover:text-text-primary hover:bg-surface-02/50\",\n                  isDisabled && \"opacity-50 cursor-not-allowed\",\n                  \"touch-manipulation\" // Optimizes for touch\n                )}\n                whileHover={!isDisabled ? { scale: 1.05 } : {}}\n                whileTap={!isDisabled ? { scale: 0.95 } : {}}\n                style={{\n                  WebkitTapHighlightColor: \"transparent\", // Removes blue highlight on mobile\n                }}\n              >\n                {/* Icon container with active indicator */}\n                <div className=\"relative\">\n                  <Icon\n                    className={cn(\"w-6 h-6 mb-1\", isCreateButton && \"w-5 h-5\")}\n                  />\n\n                  {/* Builder indicator */}\n                  {tab.builderOnly && isBuilder && !isCreateButton && (\n                    <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full\" />\n                  )}\n\n                  {/* Notification badge */}\n                  {tab.badge && (\n                    <div className=\"absolute -top-2 -right-2 w-5 h-5 bg-yellow-500 text-black text-xs font-bold rounded-full flex items-center justify-center\">\n                      {tab.badge > 9 ? \"9+\" : tab.badge}\n                    </div>\n                  )}\n                </div>\n\n                {/* Label */}\n                <span\n                  className={cn(\n                    \"text-xs font-medium leading-none\",\n                    isCreateButton ? \"text-black\" : \"\"\n                  )}\n                >\n                  {tab.label}\n                </span>\n\n                {/* Active indicator dot */}\n                {isActive && !isCreateButton && (\n                  <motion.div\n                    layoutId=\"activeTab\"\n                    className=\"absolute bottom-1 w-1 h-1 bg-yellow-500 rounded-full\"\n                    transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\n                  />\n                )}\n              </motion.button>\n            );\n          })}\n        </div>\n\n        {/* Safe area padding for devices with home indicators */}\n        <div className=\"h-safe-area-inset-bottom\" />\n      </motion.div>\n    );\n  }\n);\n\nBottomTabs.displayName = \"BottomTabs\";\n\n// Hook for detecting mobile viewport\nexport const useIsMobile = () => {\n  const [isMobile, setIsMobile] = React.useState(false);\n\n  React.useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n\n  return isMobile;\n};\n\n// Utility function for sample usage\nexport const createSampleBottomTabsProps = (): BottomTabsProps => ({\n  currentPage: \"feed\",\n  isBuilder: true,\n  notificationCount: 3,\n  onTabClick: (tabId) => logger.debug(\"Tab clicked:\", tabId),\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\navigation\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\navigation\\main-nav.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Link' is defined but never used. Allowed unused vars must match /^_/u.","line":23,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\n\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Home,\r\n  Users,\r\n  User,\r\n  Zap,\r\n  Search,\r\n  Bell,\r\n  Menu,\r\n  X,\r\n  Settings,\r\n  LogOut,\r\n  Crown,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { HiveLogo } from \"../brand/hive-logo\";\r\nimport { Avatar } from \"../ui/avatar\";\r\nimport Link from \"next/link\";\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  handle: string;\r\n  avatar?: string;\r\n  isBuilder: boolean;\r\n  builderLevel?: \"novice\" | \"intermediate\" | \"expert\";\r\n  campus: string;\r\n}\r\n\r\nexport interface NavItem {\r\n  id: string;\r\n  label: string;\r\n  href: string;\r\n  icon: React.ElementType;\r\n  isActive?: boolean;\r\n  badge?: number;\r\n  builderOnly?: boolean;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport interface MainNavProps {\r\n  currentPage: \"feed\" | \"spaces\" | \"profile\" | \"hivelab\" | \"search\";\r\n  user: User;\r\n  onNavigate?: (page: string) => void;\r\n  onProfileClick?: () => void;\r\n  onSettingsClick?: () => void;\r\n  onLogoutClick?: () => void;\r\n  notificationCount?: number;\r\n  className?: string;\r\n}\r\n\r\nconst NAV_ITEMS: NavItem[] = [\r\n  {\r\n    id: \"feed\",\r\n    label: \"Feed\",\r\n    href: \"/feed\",\r\n    icon: Home,\r\n  },\r\n  {\r\n    id: \"spaces\",\r\n    label: \"Spaces\",\r\n    href: \"/spaces\",\r\n    icon: Users,\r\n  },\r\n  {\r\n    id: \"hivelab\",\r\n    label: \"HiveLAB\",\r\n    href: \"/hivelab\",\r\n    icon: Zap,\r\n    builderOnly: true,\r\n  },\r\n  {\r\n    id: \"search\",\r\n    label: \"Search\",\r\n    href: \"/search\",\r\n    icon: Search,\r\n  },\r\n];\r\n\r\nexport const MainNav = React.forwardRef<HTMLElement, MainNavProps>(\r\n  (\r\n    {\r\n      currentPage,\r\n      user,\r\n      onNavigate,\r\n      onProfileClick,\r\n      onSettingsClick,\r\n      onLogoutClick,\r\n      notificationCount = 0,\r\n      className,\r\n    },\r\n    ref\r\n  ) => {\r\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = React.useState(false);\r\n    const [showProfileMenu, setShowProfileMenu] = React.useState(false);\r\n\r\n    const getBuilderBadgeColor = (level?: string) => {\r\n      switch (level) {\r\n        case \"expert\":\r\n          return \"bg-yellow-500\";\r\n        case \"intermediate\":\r\n          return \"bg-yellow-500/80\";\r\n        case \"novice\":\r\n          return \"bg-yellow-500/60\";\r\n        default:\r\n          return \"bg-yellow-500\";\r\n      }\r\n    };\r\n\r\n    const handleNavClick = (item: NavItem) => {\r\n      if (item.builderOnly && !user.isBuilder) return;\r\n      if (item.disabled) return;\r\n\r\n      onNavigate?.(item.id);\r\n      setIsMobileMenuOpen(false);\r\n    };\r\n\r\n    const navItemsToShow = NAV_ITEMS.filter(\r\n      (item) => !item.builderOnly || (item.builderOnly && user.isBuilder)\r\n    );\r\n\r\n    return (\r\n      <motion.nav\r\n        ref={ref}\r\n        className={cn(\r\n          \"sticky top-0 z-50 w-full\",\r\n          \"bg-bg-root/95 backdrop-blur-sm\",\r\n          \"border-b border-border-line\",\r\n          className\r\n        )}\r\n        initial={{ opacity: 0, y: -4 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.2, ease: \"easeOut\" }}\r\n      >\r\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex h-16 items-center justify-between\">\r\n            {/* Logo and Brand */}\r\n            <div className=\"flex items-center gap-8\">\r\n              <motion.div\r\n                className=\"flex items-center gap-3 cursor-pointer\"\r\n                onClick={() => onNavigate?.(\"feed\")}\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n              >\r\n                <HiveLogo size=\"md\" variant=\"white\" />\r\n                <span className=\"text-xl font-bold text-text-primary tracking-wide font-display\">\r\n                  HIVE\r\n                </span>\r\n              </motion.div>\r\n\r\n              {/* Desktop Navigation */}\r\n              <div className=\"hidden md:flex items-center gap-1\">\r\n                {navItemsToShow.map((item) => {\r\n                  const Icon = item.icon;\r\n                  const isActive = currentPage === item.id;\r\n                  const isDisabled = item.builderOnly && !user.isBuilder;\r\n\r\n                  return (\r\n                    <motion.button\r\n                      key={item.id}\r\n                      onClick={() => handleNavClick(item)}\r\n                      disabled={isDisabled}\r\n                      className={cn(\r\n                        \"relative flex items-center gap-2 px-4 py-2 rounded-lg\",\r\n                        \"text-sm font-medium transition-all duration-200\",\r\n                        isActive\r\n                          ? \"bg-surface-02 text-text-primary\"\r\n                          : \"text-text-secondary hover:text-text-primary hover:bg-surface-01\",\r\n                        isDisabled && \"opacity-50 cursor-not-allowed\"\r\n                      )}\r\n                      whileHover={!isDisabled ? { scale: 1.02 } : {}}\r\n                      whileTap={!isDisabled ? { scale: 0.98 } : {}}\r\n                    >\r\n                      <Icon className=\"w-4 h-4\" />\r\n                      {item.label}\r\n\r\n                      {/* Builder-only indicator */}\r\n                      {item.builderOnly && user.isBuilder && (\r\n                        <div\r\n                          className={cn(\r\n                            \"w-2 h-2 rounded-full\",\r\n                            getBuilderBadgeColor(user.builderLevel)\r\n                          )}\r\n                        />\r\n                      )}\r\n\r\n                      {/* Badge for notifications */}\r\n                      {item.badge && (\r\n                        <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 text-black text-xs font-bold rounded-full flex items-center justify-center\">\r\n                          {item.badge}\r\n                        </div>\r\n                      )}\r\n                    </motion.button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Side Actions */}\r\n            <div className=\"flex items-center gap-3\">\r\n              {/* Notifications */}\r\n              <motion.button\r\n                className=\"relative p-2 text-text-secondary hover:text-text-primary transition-colors rounded-lg hover:bg-surface-01\"\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                <Bell className=\"w-5 h-5\" />\r\n                {notificationCount > 0 && (\r\n                  <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 text-black text-xs font-bold rounded-full flex items-center justify-center\">\r\n                    {notificationCount > 9 ? \"9+\" : notificationCount}\r\n                  </div>\r\n                )}\r\n              </motion.button>\r\n\r\n              {/* Profile Menu */}\r\n              <div className=\"relative\">\r\n                <motion.button\r\n                  onClick={() => setShowProfileMenu(!showProfileMenu)}\r\n                  className={cn(\r\n                    \"flex items-center gap-3 p-2 rounded-lg transition-colors\",\r\n                    \"hover:bg-surface-01\",\r\n                    showProfileMenu && \"bg-surface-02\"\r\n                  )}\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                >\r\n                  <div className=\"relative\">\r\n                    <Avatar className=\"w-8 h-8\">\r\n                      {user.avatar ? (\r\n                        <img\r\n                          src={user.avatar}\r\n                          alt={user.name}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-full h-full bg-surface-03 flex items-center justify-center text-text-secondary\">\r\n                          {user.name.charAt(0).toUpperCase()}\r\n                        </div>\r\n                      )}\r\n                    </Avatar>\r\n\r\n                    {/* Builder status indicator */}\r\n                    {user.isBuilder && (\r\n                      <div\r\n                        className={cn(\r\n                          \"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-bg-root\",\r\n                          \"flex items-center justify-center\",\r\n                          getBuilderBadgeColor(user.builderLevel)\r\n                        )}\r\n                      >\r\n                        <Crown className=\"w-2 h-2 text-black\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"hidden sm:block text-left\">\r\n                    <p className=\"text-sm font-medium text-text-primary\">\r\n                      {user.name}\r\n                    </p>\r\n                    <p className=\"text-xs text-text-secondary\">{user.handle}</p>\r\n                  </div>\r\n                </motion.button>\r\n\r\n                {/* Profile Dropdown */}\r\n                <AnimatePresence>\r\n                  {showProfileMenu && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, scale: 0.95, y: -10 }}\r\n                      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                      exit={{ opacity: 0, scale: 0.95, y: -10 }}\r\n                      transition={{ duration: 0.15 }}\r\n                      className=\"absolute right-0 top-full mt-2 w-64 bg-surface-01 border border-border-line rounded-lg shadow-elevation-3 py-2\"\r\n                    >\r\n                      {/* Profile Header */}\r\n                      <div className=\"px-4 py-3 border-b border-border-line\">\r\n                        <p className=\"font-semibold text-text-primary font-display\">\r\n                          {user.name}\r\n                        </p>\r\n                        <p className=\"text-sm text-text-secondary\">\r\n                          {user.handle}\r\n                        </p>\r\n                        <p className=\"text-xs text-text-secondary\">\r\n                          {user.campus}\r\n                        </p>\r\n                        {user.isBuilder && (\r\n                          <div className=\"flex items-center gap-2 mt-2\">\r\n                            <div\r\n                              className={cn(\r\n                                \"px-2 py-1 rounded-full text-xs font-medium\",\r\n                                \"bg-yellow-500 text-black\"\r\n                              )}\r\n                            >\r\n                              Builder{\" \"}\r\n                              {user.builderLevel && `â€¢ ${user.builderLevel}`}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Menu Items */}\r\n                      <div className=\"py-1\">\r\n                        <button\r\n                          onClick={() => {\r\n                            onProfileClick?.();\r\n                            setShowProfileMenu(false);\r\n                          }}\r\n                          className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-text-secondary hover:text-text-primary hover:bg-surface-02 transition-colors\"\r\n                        >\r\n                          <User className=\"w-4 h-4\" />\r\n                          View Profile\r\n                        </button>\r\n\r\n                        <button\r\n                          onClick={() => {\r\n                            onSettingsClick?.();\r\n                            setShowProfileMenu(false);\r\n                          }}\r\n                          className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-text-secondary hover:text-text-primary hover:bg-surface-02 transition-colors\"\r\n                        >\r\n                          <Settings className=\"w-4 h-4\" />\r\n                          Settings\r\n                        </button>\r\n\r\n                        <div className=\"border-t border-border-line my-1\" />\r\n\r\n                        <button\r\n                          onClick={() => {\r\n                            onLogoutClick?.();\r\n                            setShowProfileMenu(false);\r\n                          }}\r\n                          className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-surface-02 transition-colors\"\r\n                        >\r\n                          <LogOut className=\"w-4 h-4\" />\r\n                          Sign Out\r\n                        </button>\r\n                      </div>\r\n                    </motion.div>\r\n                  )}\r\n                </AnimatePresence>\r\n              </div>\r\n\r\n              {/* Mobile Menu Button */}\r\n              <motion.button\r\n                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n                className=\"md:hidden p-2 text-text-secondary hover:text-text-primary transition-colors rounded-lg hover:bg-surface-01\"\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                {isMobileMenuOpen ? (\r\n                  <X className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Menu className=\"w-5 h-5\" />\r\n                )}\r\n              </motion.button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Menu */}\r\n        <AnimatePresence>\r\n          {isMobileMenuOpen && (\r\n            <motion.div\r\n              initial={{ opacity: 0, height: 0 }}\r\n              animate={{ opacity: 1, height: \"auto\" }}\r\n              exit={{ opacity: 0, height: 0 }}\r\n              transition={{ duration: 0.2 }}\r\n              className=\"md:hidden border-t border-border-line bg-surface-01\"\r\n            >\r\n              <div className=\"px-4 py-4 space-y-2\">\r\n                {navItemsToShow.map((item) => {\r\n                  const Icon = item.icon;\r\n                  const isActive = currentPage === item.id;\r\n                  const isDisabled = item.builderOnly && !user.isBuilder;\r\n\r\n                  return (\r\n                    <motion.button\r\n                      key={item.id}\r\n                      onClick={() => handleNavClick(item)}\r\n                      disabled={isDisabled}\r\n                      className={cn(\r\n                        \"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left\",\r\n                        \"text-sm font-medium transition-colors\",\r\n                        isActive\r\n                          ? \"bg-surface-02 text-text-primary\"\r\n                          : \"text-text-secondary hover:text-text-primary hover:bg-surface-02\",\r\n                        isDisabled && \"opacity-50 cursor-not-allowed\"\r\n                      )}\r\n                      whileHover={!isDisabled ? { x: 4 } : {}}\r\n                    >\r\n                      <Icon className=\"w-5 h-5\" />\r\n                      {item.label}\r\n\r\n                      {item.builderOnly && user.isBuilder && (\r\n                        <div\r\n                          className={cn(\r\n                            \"w-2 h-2 rounded-full ml-auto\",\r\n                            getBuilderBadgeColor(user.builderLevel)\r\n                          )}\r\n                        />\r\n                      )}\r\n                    </motion.button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.nav>\r\n    );\r\n  }\r\n);\r\n\r\nMainNav.displayName = \"MainNav\";\r\n\r\n// Utility function for sample data\r\nexport const createSampleUser = (): User => ({\r\n  id: \"user-1\",\r\n  name: \"Sarah Chen\",\r\n  handle: \"@sarah_cs\",\r\n  avatar: undefined,\r\n  isBuilder: true,\r\n  builderLevel: \"intermediate\",\r\n  campus: \"University at Buffalo\",\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\navigation\\navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\AcademicCardStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":21,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":21,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":23,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":23,"endColumn":18,"suggestions":[{"fix":{"range":[575,622],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":32,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":32,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":34,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":34,"endColumn":18,"suggestions":[{"fix":{"range":[873,911],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { AcademicCardStep } from \"./AcademicCardStep\";\r\n\r\nconst meta: Meta<typeof AcademicCardStep> = {\r\n  title: \"Onboarding/AcademicCardStep\",\r\n  component: AcademicCardStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    onNext: { action: \"onNext\" },\r\n    onSubmit: { action: \"onSubmit\" },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\nexport const Default: Story = {\r\n  args: {\r\n    onNext: () => console.log(\"Next step\"),\r\n    onSubmit: async (data) => {\r\n      console.log(\"Submitting academic data:\", data);\r\n      // Simulate API call\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n    },\r\n  },\r\n};\r\n\r\nexport const WithMockSubmit: Story = {\r\n  args: {\r\n    onNext: () => console.log(\"Next step\"),\r\n    onSubmit: async (data) => {\r\n      console.log(\"Mock submission:\", data);\r\n      return new Promise((resolve) => setTimeout(resolve, 2000));\r\n    },\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\AcademicCardStep.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":70,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":70,"endColumn":20,"suggestions":[{"fix":{"range":[1848,1901],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":146,"column":18,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4953,5011],"text":"\r\n                I&apos;m a first-year student\r\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4953,5011],"text":"\r\n                I&lsquo;m a first-year student\r\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4953,5011],"text":"\r\n                I&#39;m a first-year student\r\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4953,5011],"text":"\r\n                I&rsquo;m a first-year student\r\n              "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n  Label,\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n  Checkbox,\r\n} from \"..\";\r\n\r\ninterface AcademicCardStepProps {\r\n  onNext: () => void;\r\n  onSubmit?: (data: {\r\n    majorId: string;\r\n    graduationYear: string;\r\n    isFirstYear: boolean;\r\n  }) => Promise<void>;\r\n}\r\n\r\n// Major options (simplified - would come from a data source)\r\nconst MAJORS = [\r\n  { id: \"computer-science\", name: \"Computer Science\" },\r\n  { id: \"business\", name: \"Business Administration\" },\r\n  { id: \"engineering\", name: \"Engineering\" },\r\n  { id: \"psychology\", name: \"Psychology\" },\r\n  { id: \"biology\", name: \"Biology\" },\r\n  { id: \"english\", name: \"English\" },\r\n  { id: \"mathematics\", name: \"Mathematics\" },\r\n  { id: \"art\", name: \"Art\" },\r\n  { id: \"history\", name: \"History\" },\r\n  { id: \"undecided\", name: \"Undecided\" },\r\n];\r\n\r\n// Generate graduation years (current year + 1 to +6)\r\nconst currentYear = new Date().getFullYear();\r\nconst GRADUATION_YEARS = Array.from({ length: 6 }, (_, i) =>\r\n  String(currentYear + 1 + i)\r\n);\r\n\r\nexport const AcademicCardStep = ({\r\n  onNext,\r\n  onSubmit,\r\n}: AcademicCardStepProps) => {\r\n  const [majorId, setMajorId] = useState(\"\");\r\n  const [graduationYear, setGraduationYear] = useState(\"\");\r\n  const [isFirstYear, setIsFirstYear] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!majorId || !graduationYear) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      if (onSubmit) {\r\n        await onSubmit({ majorId, graduationYear, isFirstYear });\r\n      }\r\n      onNext();\r\n    } catch (error) {\r\n      console.error(\"Failed to save academic info\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-white\">Academic Information</CardTitle>\r\n          <CardDescription className=\"text-zinc-400\">\r\n            Help us understand your academic journey.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"major\" className=\"text-zinc-300\">\r\n                Major / Field of Study\r\n              </Label>\r\n              <Select value={majorId} onValueChange={setMajorId} required>\r\n                <SelectTrigger className=\"bg-zinc-800 border-zinc-700 text-white\">\r\n                  <SelectValue placeholder=\"Select your major\" />\r\n                </SelectTrigger>\r\n                <SelectContent className=\"bg-zinc-800 border-zinc-700\">\r\n                  {MAJORS.map((major) => (\r\n                    <SelectItem\r\n                      key={major.id}\r\n                      value={major.id}\r\n                      className=\"text-white hover:bg-zinc-700 focus:bg-zinc-700\"\r\n                    >\r\n                      {major.name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"graduationYear\" className=\"text-zinc-300\">\r\n                Expected Graduation Year\r\n              </Label>\r\n              <Select\r\n                value={graduationYear}\r\n                onValueChange={setGraduationYear}\r\n                required\r\n              >\r\n                <SelectTrigger className=\"bg-zinc-800 border-zinc-700 text-white\">\r\n                  <SelectValue placeholder=\"Select graduation year\" />\r\n                </SelectTrigger>\r\n                <SelectContent className=\"bg-zinc-800 border-zinc-700\">\r\n                  {GRADUATION_YEARS.map((year) => (\r\n                    <SelectItem\r\n                      key={year}\r\n                      value={year}\r\n                      className=\"text-white hover:bg-zinc-700 focus:bg-zinc-700\"\r\n                    >\r\n                      {year}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"firstYear\"\r\n                checked={isFirstYear}\r\n                onCheckedChange={(checked) => setIsFirstYear(!!checked)}\r\n                className=\"border-zinc-600 data-[state=checked]:bg-yellow-500 data-[state=checked]:border-yellow-500\"\r\n              />\r\n              <Label\r\n                htmlFor=\"firstYear\"\r\n                className=\"text-zinc-300 text-sm cursor-pointer\"\r\n              >\r\n                I'm a first-year student\r\n              </Label>\r\n            </div>\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"w-full bg-white text-black hover:bg-zinc-100 transition-colors\"\r\n              disabled={!majorId || !graduationYear || isLoading}\r\n            >\r\n              {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              Continue\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\AvatarUploadStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":22,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":22,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":24,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":24,"endColumn":18,"suggestions":[{"fix":{"range":[610,647],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":28,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":28,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":34,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":34,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":36,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":36,"endColumn":18,"suggestions":[{"fix":{"range":[953,998],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { AvatarUploadStep } from \"./AvatarUploadStep\";\r\n\r\nconst meta: Meta<typeof AvatarUploadStep> = {\r\n  title: \"Onboarding/AvatarUploadStep\",\r\n  component: AvatarUploadStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    onNext: { action: \"onNext\" },\r\n    onSubmit: { action: \"onSubmit\" },\r\n    onSkip: { action: \"onSkip\" },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\nexport const Default: Story = {\r\n  args: {\r\n    onNext: () => console.log(\"Next step\"),\r\n    onSubmit: async (file) => {\r\n      console.log(\"Uploading file:\", file);\r\n      // Simulate upload\r\n      await new Promise((resolve) => setTimeout(resolve, 2000));\r\n    },\r\n    onSkip: () => console.log(\"Skipped avatar upload\"),\r\n  },\r\n};\r\n\r\nexport const WithSlowUpload: Story = {\r\n  args: {\r\n    onNext: () => console.log(\"Next step\"),\r\n    onSubmit: async (file) => {\r\n      console.log(\"Slow upload simulation:\", file);\r\n      // Simulate slow upload\r\n      await new Promise((resolve) => setTimeout(resolve, 5000));\r\n    },\r\n    onSkip: () => console.log(\"Skipped avatar upload\"),\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\AvatarUploadStep.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Label' is defined but never used. Allowed unused vars must match /^_/u.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":8},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":73,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":73,"endColumn":20,"suggestions":[{"fix":{"range":[1780,1826],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useRef } from \"react\";\r\nimport { Upload, Loader2, User } from \"lucide-react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n  Label,\r\n  Input,\r\n} from \"..\";\r\n\r\ninterface AvatarUploadStepProps {\r\n  onNext: () => void;\r\n  onSubmit?: (file: File | null) => Promise<void>;\r\n  onSkip?: () => void;\r\n}\r\n\r\nexport const AvatarUploadStep = ({\r\n  onNext,\r\n  onSubmit,\r\n  onSkip,\r\n}: AvatarUploadStepProps) => {\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [preview, setPreview] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleFileChange = (selectedFile: File) => {\r\n    if (selectedFile.type.startsWith(\"image/\")) {\r\n      setFile(selectedFile);\r\n      setPreview(URL.createObjectURL(selectedFile));\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files?.[0]) {\r\n      handleFileChange(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n    const droppedFile = e.dataTransfer.files[0];\r\n    if (droppedFile) {\r\n      handleFileChange(droppedFile);\r\n    }\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(true);\r\n  };\r\n\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (onSubmit) {\r\n        await onSubmit(file);\r\n      }\r\n      onNext();\r\n    } catch (error) {\r\n      console.error(\"Failed to save avatar\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSkip = () => {\r\n    if (onSkip) {\r\n      onSkip();\r\n    }\r\n    onNext();\r\n  };\r\n\r\n  const handleUploadClick = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-white\">Upload Your Avatar</CardTitle>\r\n          <CardDescription className=\"text-zinc-400\">\r\n            Add a profile picture to personalize your account. You can always\r\n            change this later.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Preview Area */}\r\n          <div className=\"w-48 h-48 mx-auto bg-zinc-800 rounded-full flex items-center justify-center border-2 border-dashed border-zinc-700 overflow-hidden\">\r\n            {preview ? (\r\n              <img\r\n                src={preview}\r\n                alt=\"Avatar preview\"\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            ) : (\r\n              <User className=\"w-16 h-16 text-zinc-500\" />\r\n            )}\r\n          </div>\r\n\r\n          {/* Upload Area */}\r\n          <div\r\n            className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\r\n              isDragOver\r\n                ? \"border-yellow-500 bg-yellow-500/10\"\r\n                : \"border-zinc-700 hover:border-zinc-600\"\r\n            }`}\r\n            onDrop={handleDrop}\r\n            onDragOver={handleDragOver}\r\n            onDragLeave={handleDragLeave}\r\n            onClick={handleUploadClick}\r\n          >\r\n            <Upload className=\"w-12 h-12 text-zinc-500 mx-auto mb-4\" />\r\n            <p className=\"text-zinc-400 mb-2\">\r\n              Click to upload or drag and drop\r\n            </p>\r\n            <p className=\"text-xs text-zinc-500\">PNG, JPG, GIF up to 10MB</p>\r\n\r\n            <Input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={handleInputChange}\r\n              className=\"hidden\"\r\n            />\r\n          </div>\r\n\r\n          {file && (\r\n            <div className=\"bg-zinc-800 rounded-lg p-3\">\r\n              <p className=\"text-sm text-zinc-300\">Selected: {file.name}</p>\r\n              <p className=\"text-xs text-zinc-500\">\r\n                {(file.size / 1024 / 1024).toFixed(2)} MB\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex flex-col sm:flex-row gap-3\">\r\n            <Button\r\n              onClick={handleSkip}\r\n              variant=\"outline\"\r\n              className=\"w-full border-zinc-700 text-white hover:bg-zinc-800\"\r\n            >\r\n              Skip for now\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              className=\"w-full bg-white text-black hover:bg-zinc-100\"\r\n              disabled={!file || isLoading}\r\n            >\r\n              {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              Save and Continue\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\ClaimSpaceStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":28,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":28,"endColumn":42},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":30,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":30,"endColumn":18},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":37,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":37,"endColumn":42},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":39,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":39,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { ClaimSpaceStep } from \"./ClaimSpaceStep\";\r\n\r\nconst meta: Meta<typeof ClaimSpaceStep> = {\r\n  title: \"Onboarding/ClaimSpaceStep\",\r\n  component: ClaimSpaceStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    onNext: { action: \"onNext\" },\r\n    onClaim: { action: \"onClaim\" },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof ClaimSpaceStep>;\r\n\r\nconst mockSpaces = [\r\n  { id: \"1\", name: \"Computer Science Club\", description: \"For CS enthusiasts\" },\r\n  { id: \"2\", name: \"Engineering Society\", description: \"For future engineers\" },\r\n  { id: \"3\", name: \"Math Club\", description: \"For math lovers\" },\r\n];\r\n\r\nexport const Default: Story = {\r\n  args: {\r\n    existingSpaces: mockSpaces,\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n    onClaim: (spaceId: string | null, newSpaceName?: string) =>\r\n      console.log(\"Claimed:\", { spaceId, newSpaceName }),\r\n  },\r\n};\r\n\r\nexport const NoExistingSpaces: Story = {\r\n  args: {\r\n    existingSpaces: [],\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n    onClaim: (spaceId: string | null, newSpaceName?: string) =>\r\n      console.log(\"Claimed:\", { spaceId, newSpaceName }),\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\ClaimSpaceStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\DisplayNameStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":29,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":29,"endColumn":42},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":36,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":36,"endColumn":42},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":44,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":44,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { DisplayNameStep } from \"./DisplayNameStep\";\r\n\r\nconst meta: Meta<typeof DisplayNameStep> = {\r\n  title: \"Onboarding/DisplayNameStep\",\r\n  component: DisplayNameStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    email: { control: \"text\" },\r\n    onNext: { action: \"onNext\" },\r\n    onHandleCheck: { action: \"onHandleCheck\" },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof DisplayNameStep>;\r\n\r\n// Mock handle check function that simulates API delay\r\nconst mockHandleCheck = async (handle: string) => {\r\n  await new Promise((resolve) => setTimeout(resolve, 500));\r\n  return ![\"admin\", \"test\", \"root\"].includes(handle);\r\n};\r\n\r\nexport const Default: Story = {\r\n  args: {\r\n    email: \"john.doe@buffalo.edu\",\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n    onHandleCheck: mockHandleCheck,\r\n  },\r\n};\r\n\r\nexport const EmptyState: Story = {\r\n  args: {\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n    onHandleCheck: mockHandleCheck,\r\n  },\r\n};\r\n\r\nexport const WithTakenHandle: Story = {\r\n  args: {\r\n    email: \"admin@buffalo.edu\",\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n    onHandleCheck: async () => false,\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\DisplayNameStep.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":70,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":70,"endColumn":21},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":94,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":94,"endColumn":20,"suggestions":[{"fix":{"range":[2568,2619],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  Button,\r\n  Input,\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n  Label,\r\n} from \"@hive/ui\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { debounce } from \"lodash\";\r\n\r\n// A utility to generate a handle from a name\r\nconst generateHandle = (name: string) => {\r\n  return name\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9\\s]/g, \"\") // remove special characters\r\n    .trim()\r\n    .replace(/\\s+/g, \"-\"); // replace spaces with hyphens\r\n};\r\n\r\nexport interface DisplayNameStepProps {\r\n  email?: string;\r\n  onNext: (step: number) => void;\r\n  onHandleCheck: (handle: string) => Promise<boolean>;\r\n}\r\n\r\nexport function DisplayNameStep({\r\n  email,\r\n  onNext,\r\n  onHandleCheck,\r\n}: DisplayNameStepProps) {\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [handle, setHandle] = useState(\"\");\r\n  const [isCheckingHandle, setIsCheckingHandle] = useState(false);\r\n  const [handleError, setHandleError] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Prefill from email\r\n  useEffect(() => {\r\n    if (email) {\r\n      const nameFromEmail = email\r\n        .split(\"@\")[0]\r\n        .replace(/[._0-9]/g, \" \")\r\n        .replace(/\\s+/g, \" \");\r\n      const capitalized = nameFromEmail\r\n        .split(\" \")\r\n        .map((n) => n.charAt(0).toUpperCase() + n.slice(1))\r\n        .join(\" \");\r\n      setFullName(capitalized);\r\n      setHandle(generateHandle(capitalized));\r\n    }\r\n  }, [email]);\r\n\r\n  const checkHandleAvailability = useCallback(\r\n    debounce(async (h: string) => {\r\n      if (h.length < 3) {\r\n        setHandleError(\"Handle must be at least 3 characters.\");\r\n        setIsCheckingHandle(false);\r\n        return;\r\n      }\r\n      setIsCheckingHandle(true);\r\n      try {\r\n        const isAvailable = await onHandleCheck(h);\r\n        setHandleError(isAvailable ? null : \"This handle is already taken.\");\r\n      } catch (error) {\r\n        setHandleError(\"Error checking handle availability.\");\r\n      } finally {\r\n        setIsCheckingHandle(false);\r\n      }\r\n    }, 500),\r\n    [onHandleCheck]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (handle) {\r\n      checkHandleAvailability(handle);\r\n    }\r\n  }, [handle, checkHandleAvailability]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (handleError || isCheckingHandle) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      // In a real implementation, we'd save the data here\r\n      onNext(2);\r\n    } catch (error) {\r\n      console.error(\"Error saving display name:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-white\">Welcome to HIVE</CardTitle>\r\n          <CardDescription className=\"text-zinc-400\">\r\n            Let&apos;s get you set up with a profile. First, choose how\r\n            you&apos;ll appear to others.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"fullName\" className=\"text-zinc-300\">\r\n                Full Name\r\n              </Label>\r\n              <Input\r\n                id=\"fullName\"\r\n                value={fullName}\r\n                onChange={(e) => {\r\n                  setFullName(e.target.value);\r\n                  setHandle(generateHandle(e.target.value));\r\n                }}\r\n                className=\"bg-zinc-900 border-zinc-700 focus:ring-yellow-500\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"handle\" className=\"text-zinc-300\">\r\n                Handle\r\n              </Label>\r\n              <Input\r\n                id=\"handle\"\r\n                value={handle}\r\n                onChange={(e) => setHandle(e.target.value)}\r\n                className=\"bg-zinc-900 border-zinc-700 focus:ring-yellow-500\"\r\n                required\r\n              />\r\n              {handleError && (\r\n                <p className=\"text-xs text-red-500\">{handleError}</p>\r\n              )}\r\n              {isCheckingHandle && (\r\n                <p className=\"text-xs text-yellow-500\">\r\n                  Checking availability...\r\n                </p>\r\n              )}\r\n            </div>\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"w-full bg-yellow-500 text-black hover:bg-yellow-600\"\r\n              disabled={!!handleError || isCheckingHandle || isLoading}\r\n            >\r\n              {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              Continue\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\InterestsStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":27,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":27,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":29,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":29,"endColumn":18,"suggestions":[{"fix":{"range":[776,822],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":33,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":33,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":18,"suggestions":[{"fix":{"range":[1163,1217],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":45,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":45,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":52,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":52,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":54,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":54,"endColumn":18,"suggestions":[{"fix":{"range":[1532,1587],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":57,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":57,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { InterestsStep } from \"./InterestsStep\";\r\n\r\nconst meta: Meta<typeof InterestsStep> = {\r\n  title: \"Onboarding/InterestsStep\",\r\n  component: InterestsStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    onNext: { action: \"onNext\" },\r\n    onSubmit: { action: \"onSubmit\" },\r\n    onSkip: { action: \"onSkip\" },\r\n    maxInterests: {\r\n      control: { type: \"number\", min: 1, max: 10 },\r\n      description: \"Maximum number of interests that can be selected\",\r\n    },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\nexport const Default: Story = {\r\n  args: {\r\n    maxInterests: 6,\r\n    onNext: () => console.log(\"Next step\"),\r\n    onSubmit: async (interests) => {\r\n      console.log(\"Selected interests:\", interests);\r\n      // Simulate API call\r\n      await new Promise((resolve) => setTimeout(resolve, 1500));\r\n    },\r\n    onSkip: () => console.log(\"Skipped interests selection\"),\r\n  },\r\n};\r\n\r\nexport const WithLowerLimit: Story = {\r\n  args: {\r\n    maxInterests: 3,\r\n    onNext: () => console.log(\"Next step\"),\r\n    onSubmit: async (interests) => {\r\n      console.log(\"Selected interests (max 3):\", interests);\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n    },\r\n    onSkip: () => console.log(\"Skipped interests selection\"),\r\n  },\r\n};\r\n\r\nexport const WithHigherLimit: Story = {\r\n  args: {\r\n    maxInterests: 10,\r\n    onNext: () => console.log(\"Next step\"),\r\n    onSubmit: async (interests) => {\r\n      console.log(\"Selected interests (max 10):\", interests);\r\n      await new Promise((resolve) => setTimeout(resolve, 2000));\r\n    },\r\n    onSkip: () => console.log(\"Skipped interests selection\"),\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\InterestsStep.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":80,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":80,"endColumn":20,"suggestions":[{"fix":{"range":[1704,1753],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":149,"column":20,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4246,4294],"text":"\r\n                You&apos;ve reached the maximum of "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4246,4294],"text":"\r\n                You&lsquo;ve reached the maximum of "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4246,4294],"text":"\r\n                You&#39;ve reached the maximum of "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4246,4294],"text":"\r\n                You&rsquo;ve reached the maximum of "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"..\";\r\n\r\ninterface InterestsStepProps {\r\n  onNext: () => void;\r\n  onSubmit?: (interests: string[]) => Promise<void>;\r\n  onSkip?: () => void;\r\n  maxInterests?: number;\r\n}\r\n\r\n// Interest categories and options\r\nconst INTEREST_OPTIONS = [\r\n  \"Technology\",\r\n  \"Gaming\",\r\n  \"Sports\",\r\n  \"Music\",\r\n  \"Art & Design\",\r\n  \"Photography\",\r\n  \"Cooking\",\r\n  \"Reading\",\r\n  \"Travel\",\r\n  \"Fitness\",\r\n  \"Movies & TV\",\r\n  \"Entrepreneurship\",\r\n  \"Politics\",\r\n  \"Environmental\",\r\n  \"Writing\",\r\n  \"Programming\",\r\n  \"Fashion\",\r\n  \"Science\",\r\n  \"History\",\r\n  \"Language Learning\",\r\n  \"Volunteering\",\r\n  \"Mental Health\",\r\n  \"Career Development\",\r\n  \"Social Justice\",\r\n];\r\n\r\nexport const InterestsStep = ({\r\n  onNext,\r\n  onSubmit,\r\n  onSkip,\r\n  maxInterests = 6,\r\n}: InterestsStepProps) => {\r\n  const [selectedInterests, setSelectedInterests] = useState<string[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleInterestToggle = (interest: string) => {\r\n    setSelectedInterests((prev) => {\r\n      if (prev.includes(interest)) {\r\n        // Remove interest\r\n        return prev.filter((i) => i !== interest);\r\n      } else if (prev.length < maxInterests) {\r\n        // Add interest if under limit\r\n        return [...prev, interest];\r\n      }\r\n      // If at limit, ignore\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (onSubmit) {\r\n        await onSubmit(selectedInterests);\r\n      }\r\n      onNext();\r\n    } catch (error) {\r\n      console.error(\"Failed to save interests\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSkip = () => {\r\n    if (onSkip) {\r\n      onSkip();\r\n    }\r\n    onNext();\r\n  };\r\n\r\n  const isSelected = (interest: string) => selectedInterests.includes(interest);\r\n  const isAtLimit = selectedInterests.length >= maxInterests;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-2xl bg-zinc-900 border-zinc-800\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-white\">\r\n            What are you interested in?\r\n          </CardTitle>\r\n          <CardDescription className=\"text-zinc-400\">\r\n            Select up to {maxInterests} interests to help us personalize your\r\n            experience. You can always update these later.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Interest count indicator */}\r\n          <div className=\"text-center\">\r\n            <p className=\"text-sm text-zinc-400\">\r\n              {selectedInterests.length} / {maxInterests} selected\r\n            </p>\r\n          </div>\r\n\r\n          {/* Interest grid */}\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3\">\r\n            {INTEREST_OPTIONS.map((interest) => {\r\n              const selected = isSelected(interest);\r\n              const disabled = !selected && isAtLimit;\r\n\r\n              return (\r\n                <Button\r\n                  key={interest}\r\n                  variant={selected ? \"default\" : \"outline\"}\r\n                  size=\"sm\"\r\n                  className={`\r\n                    h-auto py-3 px-4 text-sm whitespace-normal leading-tight\r\n                    ${\r\n                      selected\r\n                        ? \"bg-white text-black hover:bg-zinc-100\"\r\n                        : \"border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white\"\r\n                    }\r\n                    ${disabled ? \"opacity-50 cursor-not-allowed\" : \"\"}\r\n                  `}\r\n                  onClick={() => handleInterestToggle(interest)}\r\n                  disabled={disabled}\r\n                >\r\n                  {interest}\r\n                </Button>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Warning when at limit */}\r\n          {isAtLimit && (\r\n            <div className=\"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3\">\r\n              <p className=\"text-yellow-400 text-sm text-center\">\r\n                You've reached the maximum of {maxInterests} interests. Unselect\r\n                one to choose a different interest.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Action buttons */}\r\n          <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\r\n            <Button\r\n              onClick={handleSkip}\r\n              variant=\"outline\"\r\n              className=\"w-full border-zinc-700 text-white hover:bg-zinc-800\"\r\n            >\r\n              Skip for now\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              className=\"w-full bg-white text-black hover:bg-zinc-100\"\r\n              disabled={selectedInterests.length === 0 || isLoading}\r\n            >\r\n              {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              {selectedInterests.length === 0\r\n                ? \"Select at least one interest\"\r\n                : \"Continue\"}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\LeaderQuestionStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":21,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":21,"endColumn":42},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":22,"column":38,"nodeType":"MemberExpression","messageId":"unexpected","endLine":22,"endColumn":49}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { LeaderQuestionStep } from \"./LeaderQuestionStep\";\r\n\r\nconst meta: Meta<typeof LeaderQuestionStep> = {\r\n  title: \"Onboarding/LeaderQuestionStep\",\r\n  component: LeaderQuestionStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    onNext: { action: \"onNext\" },\r\n    onAnswer: { action: \"onAnswer\" },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof LeaderQuestionStep>;\r\n\r\nexport const Default: Story = {\r\n  args: {\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n    onAnswer: (isLeader: boolean) => console.log(\"Is leader:\", isLeader),\r\n  },\r\n};\r\n\r\n// The component is stateful, so we don't need additional stories for selected states\r\n// as they are handled internally through user interaction\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\LeaderQuestionStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\OnboardingCompleteStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":35,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":35,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":44,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":44,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":53,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":53,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":62,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":62,"endColumn":30},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":71,"column":19,"nodeType":"MemberExpression","messageId":"unexpected","endLine":71,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { OnboardingCompleteStep } from \"./OnboardingCompleteStep\";\r\n\r\nconst meta: Meta<typeof OnboardingCompleteStep> = {\r\n  title: \"Onboarding/OnboardingCompleteStep\",\r\n  component: OnboardingCompleteStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    onNext: { action: \"onNext\" },\r\n    autoRedirectDelay: {\r\n      control: { type: \"number\", min: 1000, max: 10000, step: 500 },\r\n      description: \"Delay in milliseconds before auto-redirect\",\r\n    },\r\n    showRedirectButton: {\r\n      control: \"boolean\",\r\n      description: \"Show manual redirect button instead of auto-redirect\",\r\n    },\r\n    userDisplayName: {\r\n      control: \"text\",\r\n      description: \"User's display name for personalization\",\r\n    },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\nexport const AutoRedirect: Story = {\r\n  args: {\r\n    autoRedirectDelay: 3000,\r\n    showRedirectButton: false,\r\n    userDisplayName: \"Alex\",\r\n    onNext: () => console.log(\"Redirecting to feed...\"),\r\n  },\r\n};\r\n\r\nexport const ManualRedirect: Story = {\r\n  args: {\r\n    autoRedirectDelay: 3000,\r\n    showRedirectButton: true,\r\n    userDisplayName: \"Jordan\",\r\n    onNext: () => console.log(\"Manual redirect to feed...\"),\r\n  },\r\n};\r\n\r\nexport const FastAutoRedirect: Story = {\r\n  args: {\r\n    autoRedirectDelay: 1500,\r\n    showRedirectButton: false,\r\n    userDisplayName: \"Sam\",\r\n    onNext: () => console.log(\"Fast redirect to feed...\"),\r\n  },\r\n};\r\n\r\nexport const SlowAutoRedirect: Story = {\r\n  args: {\r\n    autoRedirectDelay: 5000,\r\n    showRedirectButton: false,\r\n    userDisplayName: \"Taylor\",\r\n    onNext: () => console.log(\"Slow redirect to feed...\"),\r\n  },\r\n};\r\n\r\nexport const LongUserName: Story = {\r\n  args: {\r\n    autoRedirectDelay: 3000,\r\n    showRedirectButton: false,\r\n    userDisplayName: \"Alexandria\",\r\n    onNext: () => console.log(\"Redirecting user with long name...\"),\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\OnboardingCompleteStep.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":72,"column":18,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2265,2346],"text":"\r\n              You&apos;re all set and ready to explore your community.\r\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2265,2346],"text":"\r\n              You&lsquo;re all set and ready to explore your community.\r\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2265,2346],"text":"\r\n              You&#39;re all set and ready to explore your community.\r\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2265,2346],"text":"\r\n              You&rsquo;re all set and ready to explore your community.\r\n            "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":80,"column":66,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2632,2644],"text":"What&apos;s next?"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2632,2644],"text":"What&lsquo;s next?"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2632,2644],"text":"What&#39;s next?"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2632,2644],"text":"What&rsquo;s next?"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { CheckCircle, Loader2, Sparkles } from \"lucide-react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"..\";\r\n\r\ninterface OnboardingCompleteStepProps {\r\n  onNext: () => void;\r\n  autoRedirectDelay?: number;\r\n  showRedirectButton?: boolean;\r\n  userDisplayName?: string;\r\n}\r\n\r\nexport const OnboardingCompleteStep = ({\r\n  onNext,\r\n  autoRedirectDelay = 3000,\r\n  showRedirectButton = false,\r\n  userDisplayName = \"there\",\r\n}: OnboardingCompleteStepProps) => {\r\n  const [countdown, setCountdown] = useState(\r\n    Math.ceil(autoRedirectDelay / 1000)\r\n  );\r\n  const [isRedirecting, setIsRedirecting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!showRedirectButton) {\r\n      const interval = setInterval(() => {\r\n        setCountdown((prev) => {\r\n          if (prev <= 1) {\r\n            setIsRedirecting(true);\r\n            clearInterval(interval);\r\n            setTimeout(onNext, 500);\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [onNext, autoRedirectDelay, showRedirectButton]);\r\n\r\n  const handleManualRedirect = () => {\r\n    setIsRedirecting(true);\r\n    onNext();\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800 text-center\">\r\n        <CardHeader className=\"space-y-6\">\r\n          {/* Success Animation */}\r\n          <div className=\"mx-auto w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center relative\">\r\n            <CheckCircle className=\"w-12 h-12 text-green-500\" />\r\n            <div className=\"absolute inset-0 bg-green-500/20 rounded-full animate-ping\" />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <CardTitle className=\"text-white text-2xl flex items-center justify-center gap-2\">\r\n              <Sparkles className=\"w-6 h-6 text-yellow-500\" />\r\n              Welcome to HIVE, {userDisplayName}!\r\n              <Sparkles className=\"w-6 h-6 text-yellow-500\" />\r\n            </CardTitle>\r\n            <CardDescription className=\"text-zinc-400 text-lg\">\r\n              You're all set and ready to explore your community.\r\n            </CardDescription>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Feature highlights */}\r\n          <div className=\"bg-zinc-800/50 rounded-lg p-4 text-left space-y-3\">\r\n            <h3 className=\"text-white font-semibold text-sm\">What's next?</h3>\r\n            <ul className=\"space-y-2 text-sm text-zinc-400\">\r\n              <li className=\"flex items-center gap-2\">\r\n                <div className=\"w-1.5 h-1.5 bg-yellow-500 rounded-full\" />\r\n                Explore Spaces and connect with your community\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <div className=\"w-1.5 h-1.5 bg-yellow-500 rounded-full\" />\r\n                Share your thoughts and discover engaging content\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <div className=\"w-1.5 h-1.5 bg-yellow-500 rounded-full\" />\r\n                Build your profile and showcase your interests\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Redirect status */}\r\n          {!showRedirectButton ? (\r\n            <div className=\"flex flex-col items-center gap-3\">\r\n              {isRedirecting ? (\r\n                <>\r\n                  <Loader2 className=\"h-6 w-6 text-yellow-500 animate-spin\" />\r\n                  <p className=\"text-zinc-400 text-sm\">\r\n                    Taking you to your feed...\r\n                  </p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Loader2 className=\"h-6 w-6 text-yellow-500 animate-spin\" />\r\n                  <p className=\"text-zinc-400 text-sm\">\r\n                    Redirecting in {countdown} second\r\n                    {countdown !== 1 ? \"s\" : \"\"}...\r\n                  </p>\r\n                </>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <Button\r\n              onClick={handleManualRedirect}\r\n              className=\"w-full bg-white text-black hover:bg-zinc-100\"\r\n              disabled={isRedirecting}\r\n            >\r\n              {isRedirecting ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Entering HIVE...\r\n                </>\r\n              ) : (\r\n                \"Enter HIVE\"\r\n              )}\r\n            </Button>\r\n          )}\r\n\r\n          {/* Footer message */}\r\n          <p className=\"text-xs text-zinc-500\">\r\n            Need help getting started? Check out our{\" \"}\r\n            <span className=\"text-yellow-500 cursor-pointer hover:underline\">\r\n              community guidelines\r\n            </span>\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\PendingNoticeStep.stories.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":21,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":21,"endColumn":42},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":28,"column":31,"nodeType":"MemberExpression","messageId":"unexpected","endLine":28,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { PendingNoticeStep } from \"./PendingNoticeStep\";\r\n\r\nconst meta: Meta<typeof PendingNoticeStep> = {\r\n  title: \"Onboarding/PendingNoticeStep\",\r\n  component: PendingNoticeStep,\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n  argTypes: {\r\n    onNext: { action: \"onNext\" },\r\n  },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof PendingNoticeStep>;\r\n\r\nexport const Default: Story = {\r\n  args: {\r\n    spaceName: \"Computer Science Club\",\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n  },\r\n};\r\n\r\nexport const LongSpaceName: Story = {\r\n  args: {\r\n    spaceName: \"The Really Long Name Of A Student Organization That Might Wrap\",\r\n    onNext: (step: number) => console.log(\"Next step:\", step),\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\PendingNoticeStep.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":34,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1025,1174],"text":"\r\n            We&apos;ll notify you once your request has been approved. In the\r\n            meantime, let's continue setting up your profile.\r\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1025,1174],"text":"\r\n            We&lsquo;ll notify you once your request has been approved. In the\r\n            meantime, let's continue setting up your profile.\r\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1025,1174],"text":"\r\n            We&#39;ll notify you once your request has been approved. In the\r\n            meantime, let's continue setting up your profile.\r\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1025,1174],"text":"\r\n            We&rsquo;ll notify you once your request has been approved. In the\r\n            meantime, let's continue setting up your profile.\r\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":35,"column":26,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1025,1174],"text":"\r\n            We'll notify you once your request has been approved. In the\r\n            meantime, let&apos;s continue setting up your profile.\r\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1025,1174],"text":"\r\n            We'll notify you once your request has been approved. In the\r\n            meantime, let&lsquo;s continue setting up your profile.\r\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1025,1174],"text":"\r\n            We'll notify you once your request has been approved. In the\r\n            meantime, let&#39;s continue setting up your profile.\r\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1025,1174],"text":"\r\n            We'll notify you once your request has been approved. In the\r\n            meantime, let&rsquo;s continue setting up your profile.\r\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@hive/ui\";\r\nimport { CheckCircle } from \"lucide-react\";\r\n\r\nexport interface PendingNoticeStepProps {\r\n  spaceName: string;\r\n  onNext: (step: number) => void;\r\n}\r\n\r\nexport function PendingNoticeStep({\r\n  spaceName,\r\n  onNext,\r\n}: PendingNoticeStepProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-lg bg-zinc-900 border-zinc-800\">\r\n        <CardHeader>\r\n          <div className=\"flex justify-center mb-6\">\r\n            <CheckCircle className=\"h-12 w-12 text-gold-500\" />\r\n          </div>\r\n          <CardTitle className=\"text-center\">Request Submitted</CardTitle>\r\n          <CardDescription className=\"text-center\">\r\n            Your request to lead {spaceName} is being reviewed.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          <p className=\"text-center text-zinc-400\">\r\n            We'll notify you once your request has been approved. In the\r\n            meantime, let's continue setting up your profile.\r\n          </p>\r\n          <Button onClick={() => onNext(5)} className=\"w-full\">\r\n            Continue\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\onboarding\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\post-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\post-composer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\post-composer\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile-dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile-sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\academic-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\bento-profile-dashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'TileLayout' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":35},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":112,"column":20,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3225,3379],"text":"\r\n            Drag tiles to rearrange, resize by dragging corners, or hide tiles\r\n            you don&apos;t need. Changes are saved automatically.\r\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3225,3379],"text":"\r\n            Drag tiles to rearrange, resize by dragging corners, or hide tiles\r\n            you don&lsquo;t need. Changes are saved automatically.\r\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3225,3379],"text":"\r\n            Drag tiles to rearrange, resize by dragging corners, or hide tiles\r\n            you don&#39;t need. Changes are saved automatically.\r\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3225,3379],"text":"\r\n            Drag tiles to rearrange, resize by dragging corners, or hide tiles\r\n            you don&rsquo;t need. Changes are saved automatically.\r\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Button } from \"../ui/button\";\r\nimport { Settings, Undo2 } from \"lucide-react\";\r\nimport { GridContainer } from \"./grid/grid-container\";\r\nimport { useGridState } from \"./grid/grid-state-manager\";\r\nimport type { TileData, TileLayout } from \"./grid/types\";\r\n\r\ninterface BentoProfileDashboardProps {\r\n  user: {\r\n    id: string;\r\n    name: string;\r\n    handle: string;\r\n    email: string;\r\n    avatar?: string;\r\n    isBuilder: boolean;\r\n    major?: string;\r\n    graduationYear?: number;\r\n    dormName?: string;\r\n    isOnCampus?: boolean;\r\n  };\r\n}\r\n\r\nexport const BentoProfileDashboard: React.FC<BentoProfileDashboardProps> = ({\r\n  user,\r\n}) => {\r\n  const [isEditing, setIsEditing] = React.useState(false);\r\n  const [layout, actions] = useGridState(user);\r\n\r\n  // Mock tile data - in real app this would come from props/hooks\r\n  const tileData: Record<string, TileData> = React.useMemo(\r\n    () => ({\r\n      \"identity.hero\": { user },\r\n      \"academic.card\": { user },\r\n      \"residential.card\": { user },\r\n      \"spaces.grid\": { user },\r\n      \"activity.timeline\": { user },\r\n    }),\r\n    [user]\r\n  );\r\n\r\n  const handleToggleEdit = () => {\r\n    setIsEditing(!isEditing);\r\n    if (isEditing) {\r\n      // Save when exiting edit mode\r\n      actions.saveLayout();\r\n    }\r\n  };\r\n\r\n  const handleTileMove = React.useCallback(\r\n    (tileId: string, x: number, y: number) => {\r\n      actions.updateTileLayout(tileId, { x, y });\r\n    },\r\n    [actions]\r\n  );\r\n\r\n  const handleTileResize = React.useCallback(\r\n    (tileId: string, width: number, height: number) => {\r\n      actions.updateTileLayout(tileId, { width, height });\r\n    },\r\n    [actions]\r\n  );\r\n\r\n  const handleTileVisibilityChange = React.useCallback(\r\n    (tileId: string) => {\r\n      actions.toggleTileVisibility(tileId);\r\n    },\r\n    [actions]\r\n  );\r\n\r\n  return (\r\n    <div className=\"w-full max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 min-h-screen bg-background\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-semibold text-foreground mb-2\">\r\n            Profile Dashboard\r\n          </h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Customize your profile layout and content\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          {isEditing && actions.canUndo && (\r\n            <Button variant=\"outline\" size=\"sm\" onClick={actions.undo}>\r\n              <Undo2 className=\"h-4 w-4 mr-2\" />\r\n              Undo\r\n            </Button>\r\n          )}\r\n\r\n          <Button\r\n            variant={isEditing ? \"default\" : \"outline\"}\r\n            size=\"sm\"\r\n            onClick={handleToggleEdit}\r\n          >\r\n            <Settings className=\"h-4 w-4 mr-2\" />\r\n            {isEditing ? \"Done\" : \"Customize\"}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Edit Mode Instructions */}\r\n      {isEditing && (\r\n        <div className=\"mb-6 p-4 rounded-lg bg-muted/20 border border-[#FFD700]/20\">\r\n          <h3 className=\"text-sm font-medium text-[#FFD700] mb-2\">\r\n            Edit Mode Active\r\n          </h3>\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Drag tiles to rearrange, resize by dragging corners, or hide tiles\r\n            you don't need. Changes are saved automatically.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Bento Grid */}\r\n      <div className=\"mb-8\">\r\n        <GridContainer\r\n          tiles={layout}\r\n          tileData={tileData}\r\n          isEditing={isEditing}\r\n          onTileMove={handleTileMove}\r\n          onTileResize={handleTileResize}\r\n          onTileVisibilityChange={handleTileVisibilityChange}\r\n          onEditComplete={handleToggleEdit}\r\n          onUndo={actions.canUndo ? actions.undo : undefined}\r\n        />\r\n      </div>\r\n\r\n      {/* Debug Info (Dev Only) */}\r\n      {process.env.NODE_ENV === \"development\" && (\r\n        <div className=\"mt-8 p-4 rounded-lg bg-muted border border-border\">\r\n          <h3 className=\"text-sm font-medium text-foreground mb-2\">\r\n            Debug Info\r\n          </h3>\r\n          <pre className=\"text-xs text-muted-foreground overflow-auto\">\r\n            {JSON.stringify({ layout, isEditing }, null, 2)}\r\n          </pre>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\builder-dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\grid\\edit-mode-overlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\grid\\grid-container.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\grid\\grid-state-manager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\grid\\tile-registry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\grid\\tile-wrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\grid\\types.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'LucideIcon' is defined but never used. Allowed unused vars must match /^_/u.","line":1,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ComponentType' is defined but never used. Allowed unused vars must match /^_/u.","line":2,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":28}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { LucideIcon } from \"lucide-react\";\r\nimport type { ComponentType } from \"react\";\r\n\r\n// Core tile layout position and size\r\nexport interface TileLayout {\r\n  id: string;\r\n  x: number; // Grid column position (0-based)\r\n  y: number; // Grid row position (0-based)\r\n  width: number;\r\n  height: number;\r\n  isVisible: boolean;\r\n  isPinned: boolean;\r\n}\r\n\r\n// Tile metadata and configuration\r\nexport interface TileMeta {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  category:\r\n    | \"system\"\r\n    | \"academic\"\r\n    | \"housing\"\r\n    | \"community\"\r\n    | \"activity\"\r\n    | \"Profile\"\r\n    | \"Academic\"\r\n    | \"Housing\"\r\n    | \"Community\"\r\n    | \"Activity\";\r\n  defaultSize: TileSize;\r\n  minSize: TileSize;\r\n  maxSize: TileSize;\r\n  isResizable: boolean;\r\n  isHideable: boolean;\r\n  isMandatory: boolean;\r\n  builderOnly: boolean;\r\n  component: string;\r\n}\r\n\r\n// Tile component props interface\r\nexport interface TileProps {\r\n  user: Record<string, unknown>;\r\n  layout?: TileLayout;\r\n  isEditing?: boolean;\r\n}\r\n\r\n// Tile event system\r\nexport interface TileEvent {\r\n  type: string;\r\n  data?: Record<string, unknown>;\r\n}\r\n\r\n// Complete tile data combining meta + component\r\nexport interface TileData {\r\n  user: Record<string, unknown>;\r\n  [key: string]: unknown;\r\n}\r\n\r\n// Grid state management\r\nexport interface GridState {\r\n  layout: TileLayout[];\r\n  history: TileLayout[][];\r\n  currentHistoryIndex: number;\r\n}\r\n\r\n// Layout update operations\r\nexport interface LayoutUpdate {\r\n  x?: number;\r\n  y?: number;\r\n  w?: number;\r\n  h?: number;\r\n}\r\n\r\n// Persistence format\r\nexport interface PersistedLayout {\r\n  userId: string;\r\n  layout: Array<{\r\n    tileId: string;\r\n    x: number;\r\n    y: number;\r\n    w: number;\r\n    h: number;\r\n    hidden?: boolean;\r\n  }>;\r\n  lastModified: string;\r\n}\r\n\r\n// Drag and resize handles\r\nexport type ResizeHandle = \"nw\" | \"ne\" | \"sw\" | \"se\" | \"n\" | \"s\" | \"e\" | \"w\";\r\n\r\n// Mobile size presets\r\nexport type MobileSizePreset = \"small\" | \"medium\" | \"large\";\r\n\r\nexport interface MobileSizeConfig {\r\n  small: { w: number; h: number };\r\n  medium: { w: number; h: number };\r\n  large: { w: number; h: number };\r\n}\r\n\r\nexport interface TileSize {\r\n  width: number;\r\n  height: number;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\profile-header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\tiles\\academic-card.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Button' is defined but never used. Allowed unused vars must match /^_/u.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ExternalLink' is defined but never used. Allowed unused vars must match /^_/u.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":22}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Badge } from \"../../ui/badge\";\r\nimport { Button } from \"../../ui/button\";\r\nimport { Card, CardContent, CardHeader } from \"../../ui/card\";\r\nimport { ExternalLink, GraduationCap } from \"lucide-react\";\r\nimport type { TileProps } from \"../grid/types\";\r\n\r\nexport const AcademicCard: React.FC<TileProps> = ({ isEditing = false }) => {\r\n  const major = \"Computer Science\";\r\n  const graduationYear = 2025;\r\n\r\n  return (\r\n    <Card\r\n      className=\"flex flex-col h-full items-center justify-center text-center p-4\"\r\n      hoverable={!isEditing}\r\n    >\r\n      <CardHeader className=\"p-0 mb-2\">\r\n        <div className=\"flex items-center text-sm text-muted-foreground\">\r\n          <GraduationCap className=\"h-4 w-4 mr-2\" />\r\n          Academic\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"p-0\">\r\n        <h3 className=\"text-lg font-semibold text-foreground\">{major}</h3>\r\n        {graduationYear && (\r\n          <Badge variant=\"outline\" className=\"mt-2\">\r\n            Class of {graduationYear}\r\n          </Badge>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\tiles\\activity-timeline.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\tiles\\identity-hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\tiles\\residential-card.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Button' is defined but never used. Allowed unused vars must match /^_/u.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'ExternalLink' is defined but never used. Allowed unused vars must match /^_/u.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":22}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Badge } from \"../../ui/badge\";\r\nimport { Button } from \"../../ui/button\";\r\nimport { Card, CardContent, CardHeader } from \"../../ui/card\";\r\nimport { ExternalLink, Home } from \"lucide-react\";\r\nimport type { TileProps } from \"../grid/types\";\r\nimport { cn } from \"@hive/ui/lib/utils\";\r\n\r\nexport const ResidentialCard: React.FC<TileProps> = ({ isEditing = false }) => {\r\n  const user = {\r\n    dormName: \"West Hall\",\r\n    isOnCampus: true,\r\n    showRoomNumber: false,\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className=\"flex flex-col h-full items-center justify-center text-center p-4\"\r\n      hoverable={!isEditing}\r\n    >\r\n      <CardHeader className=\"p-0 mb-2\">\r\n        <div className=\"flex items-center text-sm text-muted-foreground\">\r\n          <Home className=\"h-4 w-4 mr-2\" />\r\n          Housing\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"p-0\">\r\n        <h3 className=\"text-lg font-semibold text-foreground\">\r\n          {user.dormName}\r\n        </h3>\r\n        <Badge\r\n          className={cn(\r\n            \"mt-2\",\r\n            user.isOnCampus\r\n              ? \"border-green-400/50 bg-green-900/30 text-green-300\"\r\n              : \"border-blue-400/50 bg-blue-900/30 text-blue-300\"\r\n          )}\r\n        >\r\n          {user.isOnCampus ? \"On Campus\" : \"Off Campus\"}\r\n        </Badge>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\profile\\tiles\\spaces-grid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\progress-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ritual-unlock.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\rituals\\ritual-timer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\space-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\spaces\\SpaceHeader.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'SpaceHeaderStoryWrapper' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":17,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":30}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from '@storybook/react'\r\nimport { Lock, Settings } from 'lucide-react'\r\nimport {\r\n SpaceHeaderRoot,\r\n SpaceHeaderDetails,\r\n SpaceHeaderInfo,\r\n SpaceHeaderName,\r\n SpaceHeaderMeta,\r\n SpaceHeaderActions,\r\n} from './SpaceHeader'\r\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\r\nimport { Button } from '../ui/button'\r\nimport { Skeleton } from '../ui/skeleton'\r\nimport React from 'react'\r\n\r\n// Create a wrapper component for Storybook\r\nconst SpaceHeaderStoryWrapper = (props: React.HTMLAttributes<HTMLDivElement>) => {\r\n\treturn <SpaceHeaderRoot {...props} />\r\n}\r\n\r\nconst meta: Meta<typeof SpaceHeaderRoot> = {\r\n\tcomponent: SpaceHeaderRoot,\r\n\ttitle: 'Spaces/SpaceHeader',\r\n\ttags: ['autodocs'],\r\n\tparameters: {\r\n\t\tlayout: 'fullscreen',\r\n\t\tbackgrounds: {\r\n\t\t\tdefault: 'hive-dark',\r\n\t\t\tvalues: [{ name: 'hive-dark', value: '#0A0A0A' }],\r\n\t\t},\r\n\t},\r\n}\r\n\r\nexport default meta\r\n\r\ntype Story = StoryObj<typeof SpaceHeaderRoot>\r\n\r\nexport const GuestView: Story = {\r\n\trender: (args) => (\r\n\t\t<SpaceHeaderRoot {...args}>\r\n\t\t\t<SpaceHeaderDetails>\r\n\t\t\t\t<Avatar className='h-12 w-12'>\r\n\t\t\t\t\t<AvatarImage src='https://github.com/hive.png' alt='Hive' />\r\n\t\t\t\t\t<AvatarFallback>H</AvatarFallback>\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<SpaceHeaderInfo>\r\n\t\t\t\t\t<SpaceHeaderName>Hive Engineering</SpaceHeaderName>\r\n\t\t\t\t\t<SpaceHeaderMeta>2,345 members</SpaceHeaderMeta>\r\n\t\t\t\t</SpaceHeaderInfo>\r\n\t\t\t</SpaceHeaderDetails>\r\n\t\t\t<SpaceHeaderActions>\r\n\t\t\t\t<Button variant='primary'>Join Space</Button>\r\n\t\t\t</SpaceHeaderActions>\r\n\t\t</SpaceHeaderRoot>\r\n\t),\r\n}\r\n\r\nexport const MemberView: Story = {\r\n\trender: (args) => (\r\n\t\t<SpaceHeaderRoot {...args}>\r\n\t\t\t<SpaceHeaderDetails>\r\n\t\t\t\t<Avatar className='h-12 w-12'>\r\n\t\t\t\t\t<AvatarImage src='https://github.com/hive.png' alt='Hive' />\r\n\t\t\t\t\t<AvatarFallback>H</AvatarFallback>\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<SpaceHeaderInfo>\r\n\t\t\t\t\t<SpaceHeaderName>Hive Engineering</SpaceHeaderName>\r\n\t\t\t\t\t<SpaceHeaderMeta>2,345 members</SpaceHeaderMeta>\r\n\t\t\t\t</SpaceHeaderInfo>\r\n\t\t\t</SpaceHeaderDetails>\r\n\t\t\t<SpaceHeaderActions>\r\n\t\t\t\t<Button variant='secondary'>Joined</Button>\r\n\t\t\t</SpaceHeaderActions>\r\n\t\t</SpaceHeaderRoot>\r\n\t),\r\n}\r\n\r\nexport const AdminView: Story = {\r\n\trender: (args) => (\r\n\t\t<SpaceHeaderRoot {...args}>\r\n\t\t\t<SpaceHeaderDetails>\r\n\t\t\t\t<Avatar className='h-12 w-12'>\r\n\t\t\t\t\t<AvatarImage src='https://github.com/hive.png' alt='Hive' />\r\n\t\t\t\t\t<AvatarFallback>H</AvatarFallback>\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<SpaceHeaderInfo>\r\n\t\t\t\t\t<SpaceHeaderName>Hive Engineering</SpaceHeaderName>\r\n\t\t\t\t\t<SpaceHeaderMeta>2,345 members</SpaceHeaderMeta>\r\n\t\t\t\t</SpaceHeaderInfo>\r\n\t\t\t</SpaceHeaderDetails>\r\n\t\t\t<SpaceHeaderActions>\r\n\t\t\t\t<Button variant='outline' size='icon'>\r\n\t\t\t\t\t<Settings className='h-4 w-4' />\r\n\t\t\t\t</Button>\r\n\t\t\t</SpaceHeaderActions>\r\n\t\t</SpaceHeaderRoot>\r\n\t),\r\n}\r\n\r\nexport const PrivateSpace: Story = {\r\n\trender: (args) => (\r\n\t\t<SpaceHeaderRoot {...args}>\r\n\t\t\t<SpaceHeaderDetails>\r\n\t\t\t\t<Avatar className='h-12 w-12'>\r\n\t\t\t\t\t<AvatarImage src='https://github.com/hive.png' alt='Hive' />\r\n\t\t\t\t\t<AvatarFallback>H</AvatarFallback>\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<SpaceHeaderInfo>\r\n\t\t\t\t\t<SpaceHeaderName>\r\n\t\t\t\t\t\tSecret Hive Council <Lock className='h-4 w-4 text-neutral-400' />\r\n\t\t\t\t\t</SpaceHeaderName>\r\n\t\t\t\t\t<SpaceHeaderMeta>Private â€¢ 42 members</SpaceHeaderMeta>\r\n\t\t\t\t</SpaceHeaderInfo>\r\n\t\t\t</SpaceHeaderDetails>\r\n\t\t\t<SpaceHeaderActions>\r\n\t\t\t\t<Button variant='secondary' disabled>\r\n\t\t\t\t\tRequest to Join\r\n\t\t\t\t</Button>\r\n\t\t\t</SpaceHeaderActions>\r\n\t\t</SpaceHeaderRoot>\r\n\t),\r\n}\r\n\r\nexport const LoadingState: Story = {\r\n\trender: (args) => (\r\n\t\t<SpaceHeaderRoot {...args}>\r\n\t\t\t<SpaceHeaderDetails>\r\n\t\t\t\t<Skeleton className='h-12 w-12 rounded-full' />\r\n\t\t\t\t<div className='space-y-2'>\r\n\t\t\t\t\t<Skeleton className='h-4 w-[250px]' />\r\n\t\t\t\t\t<Skeleton className='h-4 w-[200px]' />\r\n\t\t\t\t</div>\r\n\t\t\t</SpaceHeaderDetails>\r\n\t\t\t<Skeleton className='h-10 w-[120px]' />\r\n\t\t</SpaceHeaderRoot>\r\n\t),\r\n} ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\spaces\\SpaceHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\spaces\\category-grid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\stack.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\stack.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\states\\empty-state.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\states\\empty-state.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\states\\loading-skeleton.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\states\\loading-skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\theme-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\AllFormsTest.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\FormControls.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FormMessage' is defined but never used. Allowed unused vars must match /^_/u.","line":16,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FormGroup' is defined but never used. Allowed unused vars must match /^_/u.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Separator' is defined but never used. Allowed unused vars must match /^_/u.","line":20,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'User' is defined but never used. Allowed unused vars must match /^_/u.","line":23,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Mail' is defined but never used. Allowed unused vars must match /^_/u.","line":24,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Search' is defined but never used. Allowed unused vars must match /^_/u.","line":25,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'GraduationCap' is defined but never used. Allowed unused vars must match /^_/u.","line":26,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Check' is defined but never used. Allowed unused vars must match /^_/u.","line":27,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":8}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport type { Meta, StoryObj } from '@storybook/react';\r\nimport { Button } from './button';\r\nimport { Input, SearchInput, PasswordInput } from './input';\r\nimport { Textarea } from './textarea';\r\nimport { Checkbox } from './checkbox';\r\nimport { RadioGroup, RadioGroupItem } from './radio-group';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './select';\r\nimport { Switch } from './switch';\r\nimport { Label } from './label';\r\nimport { \r\n  FormField, \r\n  FormLabel, \r\n  FormControl, \r\n  FormDescription, \r\n  FormMessage, \r\n  FormGroup \r\n} from './form';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './card';\r\nimport { Separator } from './separator';\r\nimport { Badge } from './badge';\r\nimport { \r\n  User, \r\n  Mail, \r\n  Search, \r\n  GraduationCap,\r\n  Check\r\n} from 'lucide-react';\r\n\r\nconst FormControls = () => (\r\n    <div>Form Controls</div>\r\n);\r\n\r\nconst meta: Meta = {\r\n    title: 'UI/Form Controls',\r\n    component: FormControls,\r\n    parameters: {\r\n        layout: 'centered',\r\n        backgrounds: {\r\n            default: 'hive-dark',\r\n            values: [{ name: 'hive-dark', value: '#0A0A0A' }],\r\n        },\r\n    },\r\n};\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\n// ============================================================================\r\n// FORM CONTROLS SHOWCASE\r\n// ============================================================================\r\n\r\nexport const FormControlsShowcase: Story = {\r\n  render: () => {\r\n    const [formData, setFormData] = useState({\r\n      email: '',\r\n      password: '',\r\n      name: '',\r\n      bio: '',\r\n      notifications: true,\r\n      theme: 'dark',\r\n      role: '',\r\n      skills: [] as string[],\r\n      newsletter: false,\r\n    });\r\n\r\n    return (\r\n      <div className=\"w-full max-w-4xl mx-auto space-y-8 p-6 bg-background\">\r\n        {/* Header */}\r\n        <div className=\"text-center space-y-2\">\r\n          <h1 className=\"text-display font-bold text-foreground\">\r\n            HIVE Form Controls\r\n          </h1>\r\n          <p className=\"text-body text-muted\">\r\n            Brand-consistent form components with dark-first design and gold accents\r\n          </p>\r\n        </div>\r\n\r\n        {/* Form Controls Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          \r\n          {/* Input Controls */}\r\n          <Card className=\"bg-surface border-[#2A2A2A]\">\r\n            <CardHeader>\r\n              <CardTitle className=\"text-h3 text-foreground flex items-center gap-2\">\r\n                Input Controls\r\n                <Badge variant=\"secondary\" className=\"text-xs\">Interactive</Badge>\r\n              </CardTitle>\r\n              <CardDescription className=\"text-muted\">\r\n                Text inputs with HIVE brand styling\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              \r\n              {/* Standard Input */}\r\n              <FormField name=\"email\">\r\n                <FormLabel htmlFor=\"email\">Email Address</FormLabel>\r\n                <FormControl>\r\n                  <Input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    placeholder=\"Enter your email\"\r\n                    value={formData.email}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\r\n                  />\r\n                </FormControl>\r\n                <FormDescription>\r\n                  Your email will be used for account notifications\r\n                </FormDescription>\r\n              </FormField>\r\n\r\n              {/* Password Input */}\r\n              <FormField name=\"password\">\r\n                <FormLabel htmlFor=\"password\">Password</FormLabel>\r\n                <FormControl>\r\n                  <PasswordInput\r\n                    id=\"password\"\r\n                    placeholder=\"Enter your password\"\r\n                    value={formData.password}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, password: e.target.value }))}\r\n                  />\r\n                </FormControl>\r\n              </FormField>\r\n\r\n              {/* Search Input */}\r\n              <FormField name=\"search\">\r\n                <FormLabel htmlFor=\"search\">Search</FormLabel>\r\n                <FormControl>\r\n                  <SearchInput\r\n                    id=\"search\"\r\n                    placeholder=\"Search for anything...\"\r\n                  />\r\n                </FormControl>\r\n              </FormField>\r\n\r\n              {/* Textarea */}\r\n              <FormField name=\"bio\">\r\n                <FormLabel htmlFor=\"bio\">Bio</FormLabel>\r\n                <FormControl>\r\n                  <Textarea\r\n                    id=\"bio\"\r\n                    placeholder=\"Tell us about yourself...\"\r\n                    value={formData.bio}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, bio: e.target.value }))}\r\n                    rows={3}\r\n                  />\r\n                </FormControl>\r\n              </FormField>\r\n              \r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Selection Controls */}\r\n          <Card className=\"bg-surface border-[#2A2A2A]\">\r\n            <CardHeader>\r\n              <CardTitle className=\"text-h3 text-foreground flex items-center gap-2\">\r\n                Selection Controls\r\n                <Badge variant=\"secondary\" className=\"text-xs\">Interactive</Badge>\r\n              </CardTitle>\r\n              <CardDescription className=\"text-muted\">\r\n                Choice inputs with gold accent states\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              \r\n              {/* Checkbox */}\r\n              <FormField name=\"newsletter\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Checkbox\r\n                    id=\"newsletter\"\r\n                    checked={formData.newsletter}\r\n                    onCheckedChange={(checked) => \r\n                      setFormData(prev => ({ ...prev, newsletter: !!checked }))\r\n                    }\r\n                  />\r\n                  <FormLabel htmlFor=\"newsletter\" className=\"text-body\">\r\n                    Subscribe to newsletter\r\n                  </FormLabel>\r\n                </div>\r\n                <FormDescription>\r\n                  Get updates about new features and content\r\n                </FormDescription>\r\n              </FormField>\r\n\r\n              {/* Switch */}\r\n              <FormField name=\"notifications\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel htmlFor=\"notifications\">Push Notifications</FormLabel>\r\n                    <FormDescription>\r\n                      Receive notifications on your device\r\n                    </FormDescription>\r\n                  </div>\r\n                  <Switch\r\n                    id=\"notifications\"\r\n                    checked={formData.notifications}\r\n                    onCheckedChange={(checked) => \r\n                      setFormData(prev => ({ ...prev, notifications: checked }))\r\n                    }\r\n                  />\r\n                </div>\r\n              </FormField>\r\n\r\n              {/* Radio Group */}\r\n              <FormField name=\"theme\">\r\n                <FormLabel>Theme Preference</FormLabel>\r\n                <FormControl>\r\n                  <RadioGroup\r\n                    value={formData.theme}\r\n                    onValueChange={(value) => \r\n                      setFormData(prev => ({ ...prev, theme: value }))\r\n                    }\r\n                  >\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"dark\" id=\"dark\" />\r\n                      <FormLabel htmlFor=\"dark\">Dark Mode</FormLabel>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"light\" id=\"light\" />\r\n                      <FormLabel htmlFor=\"light\">Light Mode</FormLabel>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"system\" id=\"system\" />\r\n                      <FormLabel htmlFor=\"system\">System</FormLabel>\r\n                    </div>\r\n                  </RadioGroup>\r\n                </FormControl>\r\n              </FormField>\r\n\r\n              {/* Select */}\r\n              <FormField name=\"role\">\r\n                <FormLabel htmlFor=\"role\">Role</FormLabel>\r\n                <Select\r\n                  value={formData.role}\r\n                  onValueChange={(value) => \r\n                    setFormData(prev => ({ ...prev, role: value }))\r\n                  }\r\n                >\r\n                  <FormControl>\r\n                    <SelectTrigger id=\"role\">\r\n                      <SelectValue placeholder=\"Select your role\" />\r\n                    </SelectTrigger>\r\n                  </FormControl>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"student\">Student</SelectItem>\r\n                    <SelectItem value=\"faculty\">Faculty</SelectItem>\r\n                    <SelectItem value=\"staff\">Staff</SelectItem>\r\n                    <SelectItem value=\"admin\">Administrator</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </FormField>\r\n              \r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Form Actions */}\r\n        <Card className=\"bg-surface border-[#2A2A2A]\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-end\">\r\n              <Button variant=\"outline\" size=\"lg\">\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"default\" size=\"lg\">\r\n                Save Changes\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Brand Guidelines */}\r\n        <Card className=\"bg-surface border-[#2A2A2A]\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-h3 text-foreground\">\r\n              HIVE Brand Guidelines\r\n            </CardTitle>\r\n            <CardDescription className=\"text-muted\">\r\n              Design principles for form controls\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <h4 className=\"text-body font-medium text-foreground\">Color System</h4>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-4 h-4 rounded bg-accent\"></div>\r\n                  <span className=\"text-body-sm text-muted\">Gold accent (#FFD700)</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-4 h-4 rounded bg-surface border border-[#2A2A2A]\"></div>\r\n                  <span className=\"text-body-sm text-muted\">Dark surfaces</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <h4 className=\"text-body font-medium text-foreground\">Motion</h4>\r\n                <ul className=\"text-body-sm text-muted space-y-1\">\r\n                  <li>â€¢ 90ms micro-interactions</li>\r\n                  <li>â€¢ Subtle scale effects (1.02x, 1.05x)</li>\r\n                  <li>â€¢ Smooth easing curves</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  },\r\n};\r\n\r\n// ============================================================================\r\n// INDIVIDUAL COMPONENT EXAMPLES\r\n// ============================================================================\r\n\r\nexport const BasicInputs: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6 p-6 bg-background\">\r\n      <h2 className=\"text-h2 font-bold text-foreground\">Basic Inputs</h2>\r\n      <p className=\"text-body text-muted\">\r\n        Essential input components with HIVE brand styling\r\n      </p>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* Text Inputs */}\r\n        <Card className=\"bg-surface border-[#2A2A2A]\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-h4\">Text Inputs</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Email</Label>\r\n              <Input type=\"email\" placeholder=\"Enter your email\" />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label>Password</Label>\r\n              <PasswordInput placeholder=\"Enter password\" />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label>Search</Label>\r\n              <SearchInput placeholder=\"Search...\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Selection Inputs */}\r\n        <Card className=\"bg-surface border-[#2A2A2A]\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-h4\">Selection Inputs</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Dropdown</Label>\r\n              <Select>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select option\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"option1\">Option 1</SelectItem>\r\n                  <SelectItem value=\"option2\">Option 2</SelectItem>\r\n                  <SelectItem value=\"option3\">Option 3</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            \r\n            <div className=\"space-y-3\">\r\n              <Label>Radio Group</Label>\r\n              <RadioGroup defaultValue=\"a\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <RadioGroupItem value=\"a\" id=\"a\" />\r\n                  <Label htmlFor=\"a\">Option A</Label>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <RadioGroupItem value=\"b\" id=\"b\" />\r\n                  <Label htmlFor=\"b\">Option B</Label>\r\n                </div>\r\n              </RadioGroup>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\nexport const InputVariants: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6 p-6 bg-background\">\r\n      <h2 className=\"text-h2 font-bold text-foreground\">Input Variants</h2>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label>Standard Input</Label>\r\n          <Input placeholder=\"Enter text...\" />\r\n        </div>\r\n        \r\n        <div className=\"space-y-2\">\r\n          <Label>Search Input</Label>\r\n          <SearchInput placeholder=\"Search...\" />\r\n        </div>\r\n        \r\n        <div className=\"space-y-2\">\r\n          <Label>Password Input</Label>\r\n          <PasswordInput placeholder=\"Password...\" />\r\n        </div>\r\n        \r\n        <div className=\"space-y-2\">\r\n          <Label>Error State</Label>\r\n          <Input placeholder=\"Invalid input\" error shake />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\nexport const SelectionControls: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6 p-6 bg-background\">\r\n      <h2 className=\"text-h2 font-bold text-foreground\">Selection Controls</h2>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        {/* Checkboxes */}\r\n        <Card className=\"bg-surface border-[#2A2A2A]\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-h4\">Checkboxes</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox id=\"c1\" />\r\n              <Label htmlFor=\"c1\">Option 1</Label>\r\n            </div>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox id=\"c2\" defaultChecked />\r\n              <Label htmlFor=\"c2\">Option 2 (checked)</Label>\r\n            </div>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox id=\"c3\" disabled />\r\n              <Label htmlFor=\"c3\">Option 3 (disabled)</Label>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Radio Buttons */}\r\n        <Card className=\"bg-surface border-[#2A2A2A]\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-h4\">Radio Buttons</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <RadioGroup defaultValue=\"option1\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <RadioGroupItem value=\"option1\" id=\"r1\" />\r\n                <Label htmlFor=\"r1\">Option 1</Label>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <RadioGroupItem value=\"option2\" id=\"r2\" />\r\n                <Label htmlFor=\"r2\">Option 2</Label>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <RadioGroupItem value=\"option3\" id=\"r3\" />\r\n                <Label htmlFor=\"r3\">Option 3</Label>\r\n              </div>\r\n            </RadioGroup>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Switches */}\r\n        <Card className=\"bg-surface border-[#2A2A2A]\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-h4\">Switches</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <Label htmlFor=\"s1\">Notifications</Label>\r\n              <Switch id=\"s1\" />\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <Label htmlFor=\"s2\">Dark Mode</Label>\r\n              <Switch id=\"s2\" defaultChecked />\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <Label htmlFor=\"s3\">Disabled</Label>\r\n              <Switch id=\"s3\" disabled />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  ),\r\n}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\InputTest.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\Tabs.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\avatar.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\button.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'X' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":63},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":510,"column":60,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[20087,20137],"text":" More subtle, respects &quot;one bright note\" principle"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[20087,20137],"text":" More subtle, respects &ldquo;one bright note\" principle"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[20087,20137],"text":" More subtle, respects &#34;one bright note\" principle"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[20087,20137],"text":" More subtle, respects &rdquo;one bright note\" principle"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":510,"column":76,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[20087,20137],"text":" More subtle, respects \"one bright note&quot; principle"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[20087,20137],"text":" More subtle, respects \"one bright note&ldquo; principle"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[20087,20137],"text":" More subtle, respects \"one bright note&#34; principle"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[20087,20137],"text":" More subtle, respects \"one bright note&rdquo; principle"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport type { Meta, StoryObj } from '@storybook/react';\r\nimport { Button, ButtonGroup } from './button';\r\nimport { Heart, Download, ArrowRight, Plus, Settings, Check, X, Edit, Trash2 } from 'lucide-react';\r\n\r\nconst meta = {\r\n  title: 'UI/Button',\r\n  component: Button,\r\n  parameters: {\r\n    layout: 'centered',\r\n    docs: {\r\n      description: {\r\n        component: 'HIVE-branded button component following the brand aesthetic guidelines. Features the signature gold primary variant with HIVE custom motion timing and dark-first design.',\r\n      },\r\n    },\r\n  },\r\n  argTypes: {\r\n    variant: {\r\n      control: { type: 'select' },\r\n      options: ['default', 'secondary', 'ghost', 'outline', 'link', 'destructive', 'success'],\r\n      description: 'Button style variant. Default uses HIVE signature gold.',\r\n    },\r\n    size: {\r\n      control: { type: 'select' },\r\n      options: ['xs', 'sm', 'default', 'lg', 'xl', 'icon'],\r\n      description: 'Button size preset',\r\n    },\r\n    fullWidth: {\r\n      control: 'boolean',\r\n      description: 'Makes button take full width of container',\r\n    },\r\n    loading: {\r\n      control: 'boolean',\r\n      description: 'Shows loading spinner and disables interaction',\r\n    },\r\n    disabled: {\r\n      control: 'boolean',\r\n      description: 'Disables the button',\r\n    },\r\n    asChild: {\r\n      control: 'boolean',\r\n      description: 'Renders as a child component (e.g., for Next.js Link)',\r\n    },\r\n    children: {\r\n      control: 'text',\r\n      description: 'Button content',\r\n    },\r\n  },\r\n  args: {\r\n    children: 'Button',\r\n  },\r\n} satisfies Meta<typeof Button>;\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\n// Primary Stories\r\nexport const Default: Story = {\r\n  args: {\r\n    children: 'Send magic link â†’',\r\n  },\r\n};\r\n\r\nexport const Secondary: Story = {\r\n  args: {\r\n    variant: 'secondary',\r\n    children: 'Cancel',\r\n  },\r\n};\r\n\r\nexport const Ghost: Story = {\r\n  args: {\r\n    variant: 'ghost',\r\n    children: 'Skip for now',\r\n  },\r\n};\r\n\r\nexport const Outline: Story = {\r\n  args: {\r\n    variant: 'outline',\r\n    children: 'Learn more',\r\n  },\r\n};\r\n\r\nexport const Link: Story = {\r\n  args: {\r\n    variant: 'link',\r\n    children: 'Read privacy policy',\r\n  },\r\n};\r\n\r\nexport const Destructive: Story = {\r\n  args: {\r\n    variant: 'destructive',\r\n    children: 'Delete space',\r\n  },\r\n};\r\n\r\nexport const Success: Story = {\r\n  args: {\r\n    variant: 'success',\r\n    children: 'Space created!',\r\n    leftIcon: <Check className=\"h-4 w-4\" />,\r\n  },\r\n};\r\n\r\n// Size Variants\r\nexport const ExtraSmall: Story = {\r\n  args: {\r\n    size: 'xs',\r\n    children: 'XS Button',\r\n  },\r\n};\r\n\r\nexport const Small: Story = {\r\n  args: {\r\n    size: 'sm',\r\n    children: 'Small button',\r\n  },\r\n};\r\n\r\nexport const Large: Story = {\r\n  args: {\r\n    size: 'lg',\r\n    children: 'Large button',\r\n  },\r\n};\r\n\r\nexport const ExtraLarge: Story = {\r\n  args: {\r\n    size: 'xl',\r\n    children: 'Extra Large button',\r\n  },\r\n};\r\n\r\nexport const IconButton: Story = {\r\n  args: {\r\n    size: 'icon',\r\n    children: <Plus className=\"h-4 w-4\" />,\r\n  },\r\n};\r\n\r\n// Full Width\r\nexport const FullWidth: Story = {\r\n  args: {\r\n    fullWidth: true,\r\n    children: 'Full width button',\r\n  },\r\n  parameters: {\r\n    layout: 'padded',\r\n  },\r\n};\r\n\r\n// States\r\nexport const Loading: Story = {\r\n  args: {\r\n    loading: true,\r\n    children: 'Creating space...',\r\n  },\r\n};\r\n\r\nexport const Disabled: Story = {\r\n  args: {\r\n    disabled: true,\r\n    children: 'Disabled button',\r\n  },\r\n};\r\n\r\n// With Icons\r\nexport const WithLeftIcon: Story = {\r\n  args: {\r\n    leftIcon: <Download className=\"h-4 w-4\" />,\r\n    children: 'Download app',\r\n  },\r\n};\r\n\r\nexport const WithRightIcon: Story = {\r\n  args: {\r\n    rightIcon: <ArrowRight className=\"h-4 w-4\" />,\r\n    children: 'Continue',\r\n  },\r\n};\r\n\r\nexport const WithBothIcons: Story = {\r\n  args: {\r\n    leftIcon: <Heart className=\"h-4 w-4\" />,\r\n    rightIcon: <Settings className=\"h-4 w-4\" />,\r\n    children: 'Customize',\r\n  },\r\n};\r\n\r\n// Button Groups\r\nexport const ButtonGroupHorizontal: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <h3 className=\"text-sm font-medium mb-2\">Horizontal Button Group</h3>\r\n        <ButtonGroup>\r\n          <Button>First</Button>\r\n          <Button>Second</Button>\r\n          <Button>Third</Button>\r\n        </ButtonGroup>\r\n      </div>\r\n      \r\n      <div>\r\n        <h3 className=\"text-sm font-medium mb-2\">With Icons</h3>\r\n        <ButtonGroup variant=\"outline\">\r\n          <Button leftIcon={<Edit className=\"h-4 w-4\" />}>Edit</Button>\r\n          <Button leftIcon={<Trash2 className=\"h-4 w-4\" />}>Delete</Button>\r\n        </ButtonGroup>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\nexport const ButtonGroupVertical: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <h3 className=\"text-sm font-medium mb-2\">Vertical Button Group</h3>\r\n        <ButtonGroup orientation=\"vertical\">\r\n          <Button>Top</Button>\r\n          <Button>Middle</Button>\r\n          <Button>Bottom</Button>\r\n        </ButtonGroup>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Brand Showcase - All variants side by side\r\nexport const BrandShowcase: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"text-sm text-muted-foreground mb-6\">\r\n        HIVE Button System - Complete component system with HIVE custom motion\r\n      </div>\r\n      \r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-2 text-foreground\">Primary (Signature Gold)</h3>\r\n          <div className=\"flex gap-2\">\r\n            <Button>Join space</Button>\r\n            <Button loading>Creating...</Button>\r\n            <Button disabled>Disabled</Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-2 text-foreground\">All Variants</h3>\r\n          <div className=\"flex gap-2 flex-wrap\">\r\n            <Button variant=\"secondary\">Secondary</Button>\r\n            <Button variant=\"ghost\">Ghost</Button>\r\n            <Button variant=\"outline\">Outline</Button>\r\n            <Button variant=\"link\">Link</Button>\r\n            <Button variant=\"destructive\">Destructive</Button>\r\n            <Button variant=\"success\">Success</Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-2 text-foreground\">Size Range</h3>\r\n          <div className=\"flex gap-2 items-end\">\r\n            <Button size=\"xs\">XS</Button>\r\n            <Button size=\"sm\">Small</Button>\r\n            <Button size=\"default\">Default</Button>\r\n            <Button size=\"lg\">Large</Button>\r\n            <Button size=\"xl\">Extra Large</Button>\r\n            <Button size=\"icon\"><Plus className=\"h-4 w-4\" /></Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-2 text-foreground\">With Icons</h3>\r\n          <div className=\"flex gap-2\">\r\n            <Button leftIcon={<Download className=\"h-4 w-4\" />}>\r\n              Download\r\n            </Button>\r\n            <Button rightIcon={<ArrowRight className=\"h-4 w-4\" />}>\r\n              Continue\r\n            </Button>\r\n            <Button variant=\"success\" leftIcon={<Check className=\"h-4 w-4\" />}>\r\n              Completed\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-2 text-foreground\">Button Groups</h3>\r\n          <div className=\"space-y-3\">\r\n            <ButtonGroup>\r\n              <Button>Left</Button>\r\n              <Button>Center</Button>\r\n              <Button>Right</Button>\r\n            </ButtonGroup>\r\n            <ButtonGroup variant=\"outline\" size=\"sm\">\r\n              <Button leftIcon={<Edit className=\"h-4 w-4\" />}>Edit</Button>\r\n              <Button leftIcon={<Trash2 className=\"h-4 w-4\" />}>Delete</Button>\r\n            </ButtonGroup>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-2 text-foreground\">Full Width</h3>\r\n          <Button fullWidth>Full width action</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Motion Demo - Shows the 90ms timing and scale effects\r\nexport const MotionDemo: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"text-sm text-muted-foreground mb-6\">\r\n        Hover each button to see 90ms spring motion with scale transforms\r\n      </div>\r\n      \r\n      <div className=\"grid grid-cols-2 gap-4 max-w-md\">\r\n        <Button>\r\n          Hover me (1.02x)\r\n        </Button>\r\n        <Button variant=\"secondary\">\r\n          Scale feedback\r\n        </Button>\r\n        <Button variant=\"outline\">\r\n          iOS-like spring\r\n        </Button>\r\n        <Button variant=\"destructive\">\r\n          Shake on hover\r\n        </Button>\r\n      </div>\r\n      \r\n      <div className=\"text-xs text-muted-foreground mt-4\">\r\n        <strong>Motion specs:</strong> 90ms duration, cubic-bezier(0.33,0.65,0,1)\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Real-world Usage Examples\r\nexport const UsageExamples: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"text-sm text-muted-foreground mb-6\">\r\n        Realistic HIVE usage examples with proper microcopy\r\n      </div>\r\n      \r\n      <div className=\"space-y-8\">\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-3 text-foreground\">Onboarding Flow</h3>\r\n          <div className=\"flex gap-3\">\r\n            <Button>Send magic link â†’</Button>\r\n            <Button variant=\"ghost\">Skip for now</Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-3 text-foreground\">Space Management</h3>\r\n          <div className=\"flex gap-3\">\r\n            <Button leftIcon={<Plus className=\"h-4 w-4\" />}>\r\n              Create tool\r\n            </Button>\r\n            <Button variant=\"outline\">Manage members</Button>\r\n            <Button variant=\"destructive\">Archive space</Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-sm font-medium mb-3 text-foreground\">Content Actions</h3>\r\n          <div className=\"flex gap-3\">\r\n            <Button size=\"sm\" rightIcon={<Heart className=\"h-4 w-4\" />}>\r\n              Like\r\n            </Button>\r\n            <Button size=\"sm\" variant=\"ghost\">Reply</Button>\r\n            <Button size=\"sm\" variant=\"ghost\">Share</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n};\r\n\r\n// Alternative Design Explorations\r\nexport const AlternativeDesigns: Story = {\r\n  render: () => (\r\n    <div className=\"space-y-8 max-w-4xl\">\r\n      <div className=\"text-sm text-muted-foreground mb-6\">\r\n        Alternative approaches to the HIVE button system - exploring different takes on the gold accent\r\n      </div>\r\n      \r\n      <div className=\"space-y-8\">\r\n        <div>\r\n          <h3 className=\"text-lg font-medium mb-4 text-accent\">Current: Solid Gold Fill</h3>\r\n          <div className=\"flex gap-3\">\r\n            <Button>Join space</Button>\r\n            <Button leftIcon={<Plus className=\"h-4 w-4\" />}>Create tool</Button>\r\n            <Button rightIcon={<ArrowRight className=\"h-4 w-4\" />}>Continue</Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-lg font-medium mb-4 text-accent\">Alternative 1: Gold Border + Transparent</h3>\r\n          <div className=\"flex gap-3\">\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl border-2 border-accent text-accent bg-transparent hover:bg-accent hover:text-background transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Join space\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl border-2 border-accent text-accent bg-transparent hover:bg-accent hover:text-background transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create tool\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl border-2 border-accent text-accent bg-transparent hover:bg-accent hover:text-background transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Continue\r\n              <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-lg font-medium mb-4 text-accent\">Alternative 2: Gold Gradient</h3>\r\n          <div className=\"flex gap-3\">\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-gradient-to-r from-accent to-accent/80 text-background hover:from-accent/90 hover:to-accent/70 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98] shadow-sm hover:shadow-md\">\r\n              Join space\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-gradient-to-r from-accent to-accent/80 text-background hover:from-accent/90 hover:to-accent/70 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98] shadow-sm hover:shadow-md\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create tool\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-gradient-to-r from-accent to-accent/80 text-background hover:from-accent/90 hover:to-accent/70 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98] shadow-sm hover:shadow-md\">\r\n              Continue\r\n              <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-lg font-medium mb-4 text-accent\">Alternative 3: Subtle Gold Glow</h3>\r\n          <div className=\"flex gap-3\">\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-surface border border-accent/30 text-accent hover:bg-accent/10 hover:border-accent hover:shadow-[0_0_20px_rgba(255,215,0,0.3)] transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Join space\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-surface border border-accent/30 text-accent hover:bg-accent/10 hover:border-accent hover:shadow-[0_0_20px_rgba(255,215,0,0.3)] transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create tool\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-surface border border-accent/30 text-accent hover:bg-accent/10 hover:border-accent hover:shadow-[0_0_20px_rgba(255,215,0,0.3)] transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Continue\r\n              <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-lg font-medium mb-4 text-accent\">Alternative 4: Minimal Gold Accent</h3>\r\n          <div className=\"flex gap-3\">\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-surface text-foreground border-l-2 border-accent hover:bg-surface/80 hover:border-l-4 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Join space\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-surface text-foreground border-l-2 border-accent hover:bg-surface/80 hover:border-l-4 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create tool\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-surface text-foreground border-l-2 border-accent hover:bg-surface/80 hover:border-l-4 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Continue\r\n              <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-lg font-medium mb-4 text-accent\">Alternative 5: Gold Text + Dark Surface</h3>\r\n          <div className=\"flex gap-3\">\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-background/50 text-accent border border-border hover:bg-background hover:text-accent/90 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98] shadow-sm hover:shadow-md\">\r\n              Join space\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-background/50 text-accent border border-border hover:bg-background hover:text-accent/90 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98] shadow-sm hover:shadow-md\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create tool\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-background/50 text-accent border border-border hover:bg-background hover:text-accent/90 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98] shadow-sm hover:shadow-md\">\r\n              Continue\r\n              <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"text-lg font-medium mb-4 text-accent\">Alternative 6: Inverted Hover</h3>\r\n          <div className=\"flex gap-3\">\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-transparent border border-accent text-accent hover:bg-background hover:text-accent hover:border-accent/50 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Join space\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-transparent border border-accent text-accent hover:bg-background hover:text-accent hover:border-accent/50 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Create tool\r\n            </button>\r\n            <button className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl bg-transparent border border-accent text-accent hover:bg-background hover:text-accent hover:border-accent/50 transition-all duration-[90ms] cubic-bezier(0.33, 0.65, 0, 1) hover:scale-[1.02] active:scale-[0.98]\">\r\n              Continue\r\n              <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-8 p-4 border border-border rounded-lg bg-surface/20\">\r\n        <h4 className=\"font-medium mb-2\">Design Philosophy Notes</h4>\r\n        <div className=\"text-sm text-muted-foreground space-y-2\">\r\n          <p><strong>Current:</strong> Bold, confident, maximizes gold impact</p>\r\n          <p><strong>Alt 1:</strong> More subtle, respects \"one bright note\" principle</p>\r\n          <p><strong>Alt 2:</strong> Adds depth and richness to the gold</p>\r\n          <p><strong>Alt 3:</strong> Creates ambient glow, feels more magical</p>\r\n          <p><strong>Alt 4:</strong> Minimal accent, focuses on content over chrome</p>\r\n          <p><strong>Alt 5:</strong> Reverses relationship, gold becomes text color</p>\r\n          <p><strong>Alt 6:</strong> Maintains outline but inverts hover behavior</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\combobox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\command-palette.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'MessageCircle' is defined but never used. Allowed unused vars must match /^_/u.","line":7,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Plus' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Clock' is defined but never used. Allowed unused vars must match /^_/u.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Hash' is defined but never used. Allowed unused vars must match /^_/u.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'BookOpen' is defined but never used. Allowed unused vars must match /^_/u.","line":14,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useCommandPalette' is defined but never used. Allowed unused vars must match /^_/u.","line":28,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":43}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from '@storybook/react';\nimport React from 'react';\nimport { \n  Search, \n  Calendar, \n  Users, \n  MessageCircle, \n  Plus, \n  Settings,\n  User,\n  MapPin,\n  Clock,\n  Hash,\n  BookOpen,\n  Coffee,\n  Globe,\n  Heart,\n  Music,\n  Camera,\n  Code,\n  Palette,\n  Home,\n  Compass,\n  CalendarPlus,\n  PenSquare,\n  MessageSquare\n} from 'lucide-react';\nimport { CommandPalette, useCommandPalette, type Command } from './command-palette';\nimport { logger } from '@hive/core';\n\nconst meta: Meta<typeof CommandPalette> = {\n  title: 'UI/Command Palette',\n  component: CommandPalette,\n  parameters: {\n    layout: 'fullscreen',\n    docs: {\n      description: {\n        component: `\nA powerful command palette component for HIVE's programmable campus OS. Provides quick access to navigation, actions, and search with full keyboard support.\n\n**Key Features:**\n- Perfect HIVE brand compliance (monochrome + yellow, exact motion timing)\n- Comprehensive keyboard navigation (âŒ˜K to open, arrow keys, enter, escape)\n- Intelligent search with keyword matching\n- Categorized commands with visual grouping\n- Extensible command system for campus functionality\n- Built-in accessibility and responsive design\n\n**Brand Standards:**\n- Uses exact HIVE motion timing (90ms micro, 220ms content)\n- Space Grotesk + Geist Sans typography system\n- Monochrome + yellow color palette only\n- Standard cubic-bezier easing curve\n        `,\n      },\n    },\n  },\n  argTypes: {\n    open: {\n      description: 'Controls whether the command palette is visible',\n      control: 'boolean',\n    },\n    commands: {\n      description: 'Array of available commands',\n      control: false,\n    },\n    placeholder: {\n      description: 'Placeholder text for the search input',\n      control: 'text',\n    },\n    emptyState: {\n      description: 'Custom empty state content',\n      control: false,\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof CommandPalette>;\n\n// Enhanced Campus Commands for demonstration\nconst campusCommands: Command[] = [\n  // Navigation\n  {\n    id: 'dashboard',\n    title: 'Dashboard',\n    subtitle: 'Your personal HIVE overview',\n    category: 'navigation',\n    icon: <Home className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'D'],\n    keywords: ['home', 'overview', 'dashboard', 'profile'],\n    action: () => logger.debug('Navigate to dashboard'),\n  },\n  {\n    id: 'explore',\n    title: 'Explore Spaces',\n    subtitle: 'Discover communities and interests',\n    category: 'navigation',\n    icon: <Compass className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'E'],\n    keywords: ['spaces', 'explore', 'discover', 'communities', 'browse'],\n    action: () => logger.debug('Navigate to explore'),\n  },\n  {\n    id: 'events',\n    title: 'Campus Events',\n    subtitle: 'What\\'s happening around campus',\n    category: 'navigation',\n    icon: <Calendar className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'C'],\n    keywords: ['events', 'calendar', 'happenings', 'activities'],\n    action: () => logger.debug('Navigate to events'),\n  },\n  {\n    id: 'campus-map',\n    title: 'Campus Map',\n    subtitle: 'Find buildings and locations',\n    category: 'navigation',\n    icon: <MapPin className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'M'],\n    keywords: ['map', 'buildings', 'locations', 'navigate', 'directions'],\n    action: () => logger.debug('Open campus map'),\n  },\n\n  // Quick Actions\n  {\n    id: 'create-event',\n    title: 'Create Event',\n    subtitle: 'Plan something amazing',\n    category: 'actions',\n    icon: <CalendarPlus className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'N', 'E'],\n    keywords: ['create', 'new', 'event', 'plan', 'organize'],\n    action: () => logger.debug('Create event'),\n  },\n  {\n    id: 'create-space',\n    title: 'Create Space',\n    subtitle: 'Start a new community',\n    category: 'actions',\n    icon: <Users className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'N', 'S'],\n    keywords: ['create', 'new', 'space', 'community', 'group'],\n    action: () => logger.debug('Create space'),\n  },\n  {\n    id: 'create-post',\n    title: 'Create Post',\n    subtitle: 'Share with your community',\n    category: 'actions',\n    icon: <PenSquare className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'N', 'P'],\n    keywords: ['create', 'new', 'post', 'share', 'content'],\n    action: () => logger.debug('Create post'),\n  },\n  {\n    id: 'send-message',\n    title: 'Send Message',\n    subtitle: 'Connect with someone',\n    category: 'actions',\n    icon: <MessageSquare className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', 'T'],\n    keywords: ['message', 'chat', 'dm', 'connect', 'talk'],\n    action: () => logger.debug('Send message'),\n  },\n\n  // People & Spaces\n  {\n    id: 'cs-study',\n    title: 'CS Study Group',\n    subtitle: '847 members â€¢ Computer Science',\n    category: 'spaces',\n    icon: <Code className=\"w-4 h-4\" />,\n    keywords: ['computer science', 'study', 'programming', 'cs'],\n    action: () => logger.debug('Open CS Study Group'),\n  },\n  {\n    id: 'art-collective',\n    title: 'Art Collective',\n    subtitle: '234 members â€¢ Creative Arts',\n    category: 'spaces',\n    icon: <Palette className=\"w-4 h-4\" />,\n    keywords: ['art', 'creative', 'design', 'visual'],\n    action: () => logger.debug('Open Art Collective'),\n  },\n  {\n    id: 'music-lounge',\n    title: 'Music Lounge',\n    subtitle: '456 members â€¢ Music & Performance',\n    category: 'spaces',\n    icon: <Music className=\"w-4 h-4\" />,\n    keywords: ['music', 'performance', 'band', 'concert'],\n    action: () => logger.debug('Open Music Lounge'),\n  },\n\n  // Recent Events\n  {\n    id: 'hackathon',\n    title: 'Spring Hackathon 2024',\n    subtitle: 'Tomorrow at 9:00 AM â€¢ Tech Building',\n    category: 'events',\n    icon: <Code className=\"w-4 h-4\" />,\n    keywords: ['hackathon', 'coding', 'programming', 'tech'],\n    action: () => logger.debug('View hackathon details'),\n  },\n  {\n    id: 'coffee-chat',\n    title: 'Coffee & Code',\n    subtitle: 'Today at 3:00 PM â€¢ Student Center',\n    category: 'events',\n    icon: <Coffee className=\"w-4 h-4\" />,\n    keywords: ['coffee', 'networking', 'casual', 'meet'],\n    action: () => logger.debug('Join coffee chat'),\n  },\n  {\n    id: 'photo-walk',\n    title: 'Campus Photo Walk',\n    subtitle: 'This weekend â€¢ Meet at Library',\n    category: 'events',\n    icon: <Camera className=\"w-4 h-4\" />,\n    keywords: ['photography', 'walk', 'campus', 'creative'],\n    action: () => logger.debug('RSVP to photo walk'),\n  },\n\n  // People\n  {\n    id: 'alex',\n    title: 'Alex Chen',\n    subtitle: 'Computer Science â€¢ Class of 2025',\n    category: 'people',\n    icon: <User className=\"w-4 h-4\" />,\n    keywords: ['alex', 'chen', 'computer science', 'student'],\n    action: () => logger.debug('View Alex\\'s profile'),\n  },\n  {\n    id: 'sarah',\n    title: 'Sarah Kim',\n    subtitle: 'Art Major â€¢ Photography Club President',\n    category: 'people',\n    icon: <User className=\"w-4 h-4\" />,\n    keywords: ['sarah', 'kim', 'art', 'photography'],\n    action: () => logger.debug('View Sarah\\'s profile'),\n  },\n\n  // Settings\n  {\n    id: 'settings',\n    title: 'Settings',\n    subtitle: 'Manage your HIVE identity',\n    category: 'navigation',\n    icon: <Settings className=\"w-4 h-4\" />,\n    shortcut: ['âŒ˜', ','],\n    keywords: ['settings', 'profile', 'preferences', 'account'],\n    action: () => logger.debug('Open settings'),\n  },\n];\n\n// Story Template Component\nconst StoryTemplate = ({ commands, ...args }: { commands?: Command[] } & Parameters<typeof CommandPalette>[0]) => {\n  const [isOpen, setIsOpen] = React.useState(args.open || false);\n\n  React.useEffect(() => {\n    setIsOpen(args.open || false);\n  }, [args.open]);\n\n  return (\n    <div className=\"min-h-screen bg-background p-8\">\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        <div className=\"text-center space-y-4\">\n          <h1 className=\"text-2xl font-display font-semibold text-foreground\">\n            HIVE Command Palette Demo\n          </h1>\n          <p className=\"text-muted font-sans\">\n            Press <kbd className=\"inline-flex h-5 select-none items-center gap-1 rounded border border-border bg-surface px-1.5 font-mono text-xs text-muted\">âŒ˜K</kbd> or click the button below to open the command palette\n          </p>\n          <button\n            onClick={() => setIsOpen(true)}\n            className=\"inline-flex items-center gap-2 px-4 py-2 bg-surface border border-border rounded-lg text-foreground hover:bg-accent/5 transition-colors duration-[90ms]\"\n          >\n            <Search className=\"w-4 h-4\" />\n            Open Command Palette\n          </button>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          <div className=\"p-4 bg-surface border border-border rounded-lg\">\n            <h3 className=\"font-display font-medium text-foreground mb-2\">Keyboard Shortcuts</h3>\n            <div className=\"space-y-2 text-sm text-muted\">\n              <div>âŒ˜K - Open/Close</div>\n              <div>â†‘/â†“ - Navigate</div>\n              <div>Enter - Execute</div>\n              <div>Esc - Close</div>\n            </div>\n          </div>\n          \n          <div className=\"p-4 bg-surface border border-border rounded-lg\">\n            <h3 className=\"font-display font-medium text-foreground mb-2\">Features</h3>\n            <div className=\"space-y-2 text-sm text-muted\">\n              <div>â€¢ Intelligent search</div>\n              <div>â€¢ Categorized commands</div>\n              <div>â€¢ Keyboard navigation</div>\n              <div>â€¢ HIVE brand compliant</div>\n            </div>\n          </div>\n          \n          <div className=\"p-4 bg-surface border border-border rounded-lg\">\n            <h3 className=\"font-display font-medium text-foreground mb-2\">Campus OS</h3>\n            <div className=\"space-y-2 text-sm text-muted\">\n              <div>â€¢ Navigate spaces</div>\n              <div>â€¢ Create content</div>\n              <div>â€¢ Find people</div>\n              <div>â€¢ Discover events</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <CommandPalette\n        {...args}\n        open={isOpen}\n        onOpenChange={setIsOpen}\n        commands={commands || campusCommands}\n      />\n    </div>\n  );\n};\n\nexport const Default: Story = {\n  render: (args) => <StoryTemplate {...args} />,\n  args: {\n    open: false,\n    placeholder: \"Type a command or search...\",\n  },\n};\n\nexport const Open: Story = {\n  render: (args) => <StoryTemplate {...args} />,\n  args: {\n    open: true,\n    placeholder: \"Type a command or search...\",\n  },\n};\n\nexport const BasicCommands: Story = {\n  render: (args) => <StoryTemplate {...args} />,\n  args: {\n    open: true,\n    commands: [\n      {\n        id: 'dashboard',\n        title: 'Dashboard',\n        category: 'navigation',\n        icon: <Home className=\"w-4 h-4\" />,\n        action: () => logger.debug('Navigate to dashboard'),\n      },\n      {\n        id: 'create-post',\n        title: 'Create Post',\n        category: 'actions',\n        icon: <PenSquare className=\"w-4 h-4\" />,\n        action: () => logger.debug('Create post'),\n      },\n      {\n        id: 'settings',\n        title: 'Settings',\n        category: 'navigation',\n        icon: <Settings className=\"w-4 h-4\" />,\n        action: () => logger.debug('Open settings'),\n      },\n    ],\n  },\n};\n\nexport const EmptyState: Story = {\n  render: (args) => <StoryTemplate {...args} />,\n  args: {\n    open: true,\n    commands: [],\n    emptyState: (\n      <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n        <Globe className=\"w-8 h-8 text-muted mb-3\" />\n        <h3 className=\"font-display font-semibold text-foreground mb-1\">\n          No commands available\n        </h3>\n        <p className=\"text-sm text-muted\">\n          Commands will appear here when available\n        </p>\n      </div>\n    ),\n  },\n};\n\nexport const SearchDemo: Story = {\n  render: (args) => <StoryTemplate {...args} />,\n  args: {\n    open: true,\n    commands: campusCommands,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Try searching for terms like \"create\", \"music\", \"computer science\", or \"event\" to see the intelligent filtering in action.',\n      },\n    },\n  },\n};\n\nexport const WithDisabledCommands: Story = {\n  render: (args) => <StoryTemplate {...args} />,\n  args: {\n    open: true,\n    commands: [\n      ...campusCommands.slice(0, 3),\n      {\n        id: 'disabled-feature',\n        title: 'Premium Feature',\n        subtitle: 'Upgrade to access',\n        category: 'actions',\n        icon: <Heart className=\"w-4 h-4\" />,\n        keywords: ['premium', 'upgrade'],\n        action: () => logger.debug('Premium feature'),\n        disabled: true,\n      },\n      {\n        id: 'maintenance',\n        title: 'Analytics Dashboard',\n        subtitle: 'Currently under maintenance',\n        category: 'navigation',\n        icon: <Search className=\"w-4 h-4\" />,\n        keywords: ['analytics', 'stats'],\n        action: () => logger.debug('Analytics'),\n        disabled: true,\n      },\n    ],\n  },\n};\n\nexport const CustomPlaceholder: Story = {\n  render: (args) => <StoryTemplate {...args} />,\n  args: {\n    open: true,\n    placeholder: \"Search HIVE campus...\",\n    commands: campusCommands,\n  },\n}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\command-palette.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Home' is defined but never used. Allowed unused vars must match /^_/u.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Compass' is defined but never used. Allowed unused vars must match /^_/u.","line":18,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'CalendarPlus' is defined but never used. Allowed unused vars must match /^_/u.","line":19,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'MessageSquare' is defined but never used. Allowed unused vars must match /^_/u.","line":20,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":16}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Search,\n  Calendar,\n  Users,\n  MessageCircle,\n  Plus,\n  Settings,\n  User,\n  Clock,\n  Hash,\n  ArrowRight,\n  Command,\n  Home,\n  Compass,\n  CalendarPlus,\n  MessageSquare,\n} from \"lucide-react\";\nimport { cn } from \"../../lib/utils\";\nimport { logger } from \"@hive/core\";\n\n// HIVE Brand Compliant Motion Timing\nconst HIVE_MOTION = {\n  // 90ms for micro-interactions (brand standard)\n  micro: {\n    duration: 0.09,\n    ease: [0.22, 0.61, 0.36, 1],\n  },\n  // 220ms for content transitions (brand standard)\n  content: {\n    duration: 0.22,\n    ease: [0.22, 0.61, 0.36, 1],\n  },\n} as const;\n\n// Command Categories (Campus OS Structure)\nexport type CommandCategory =\n  | \"navigation\"\n  | \"actions\"\n  | \"people\"\n  | \"spaces\"\n  | \"events\"\n  | \"recent\"\n  | \"search\";\n\nexport interface Command {\n  id: string;\n  title: string;\n  subtitle?: string;\n  category: CommandCategory;\n  icon?: React.ReactNode;\n  shortcut?: string[];\n  keywords?: string[];\n  action: () => void;\n  disabled?: boolean;\n}\n\ninterface CommandPaletteProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  commands?: Command[];\n  placeholder?: string;\n  emptyState?: React.ReactNode;\n  className?: string;\n}\n\n// Default HIVE Campus Commands\nconst defaultCommands: Command[] = [\n  // Navigation\n  {\n    id: \"nav-dashboard\",\n    title: \"Dashboard\",\n    subtitle: \"Your personal HIVE overview\",\n    category: \"navigation\",\n    icon: <User className=\"w-4 h-4\" />,\n    shortcut: [\"âŒ˜\", \"D\"],\n    keywords: [\"home\", \"overview\", \"dashboard\"],\n    action: () => logger.debug(\"Navigate to dashboard\"),\n  },\n  {\n    id: \"nav-explore\",\n    title: \"Explore Spaces\",\n    subtitle: \"Discover communities and interests\",\n    category: \"navigation\",\n    icon: <Hash className=\"w-4 h-4\" />,\n    shortcut: [\"âŒ˜\", \"E\"],\n    keywords: [\"spaces\", \"explore\", \"discover\", \"communities\"],\n    action: () => logger.debug(\"Navigate to explore\"),\n  },\n  {\n    id: \"nav-events\",\n    title: \"Campus Events\",\n    subtitle: \"What's happening around campus\",\n    category: \"navigation\",\n    icon: <Calendar className=\"w-4 h-4\" />,\n    shortcut: [\"âŒ˜\", \"C\"],\n    keywords: [\"events\", \"calendar\", \"happenings\"],\n    action: () => logger.debug(\"Navigate to events\"),\n  },\n\n  // Quick Actions\n  {\n    id: \"action-create-event\",\n    title: \"Create Event\",\n    subtitle: \"Plan something amazing\",\n    category: \"actions\",\n    icon: <Plus className=\"w-4 h-4\" />,\n    shortcut: [\"âŒ˜\", \"N\", \"E\"],\n    keywords: [\"create\", \"new\", \"event\", \"plan\"],\n    action: () => logger.debug(\"Create event\"),\n  },\n  {\n    id: \"action-create-space\",\n    title: \"Create Space\",\n    subtitle: \"Start a new community\",\n    category: \"actions\",\n    icon: <Plus className=\"w-4 h-4\" />,\n    shortcut: [\"âŒ˜\", \"N\", \"S\"],\n    keywords: [\"create\", \"new\", \"space\", \"community\"],\n    action: () => logger.debug(\"Create space\"),\n  },\n  {\n    id: \"action-message\",\n    title: \"Send Message\",\n    subtitle: \"Connect with someone\",\n    category: \"actions\",\n    icon: <MessageCircle className=\"w-4 h-4\" />,\n    shortcut: [\"âŒ˜\", \"M\"],\n    keywords: [\"message\", \"chat\", \"dm\", \"connect\"],\n    action: () => logger.debug(\"Send message\"),\n  },\n\n  // Settings\n  {\n    id: \"settings-profile\",\n    title: \"Profile Settings\",\n    subtitle: \"Manage your HIVE identity\",\n    category: \"navigation\",\n    icon: <Settings className=\"w-4 h-4\" />,\n    shortcut: [\"âŒ˜\", \",\"],\n    keywords: [\"settings\", \"profile\", \"preferences\"],\n    action: () => logger.debug(\"Open settings\"),\n  },\n];\n\nconst categoryLabels: Record<CommandCategory, string> = {\n  recent: \"Recent\",\n  navigation: \"Navigate\",\n  actions: \"Quick Actions\",\n  people: \"People\",\n  spaces: \"Spaces\",\n  events: \"Events\",\n  search: \"Search Results\",\n};\n\nconst categoryIcons: Record<CommandCategory, React.ReactNode> = {\n  recent: <Clock className=\"w-3 h-3\" />,\n  navigation: <ArrowRight className=\"w-3 h-3\" />,\n  actions: <Plus className=\"w-3 h-3\" />,\n  people: <Users className=\"w-3 h-3\" />,\n  spaces: <Hash className=\"w-3 h-3\" />,\n  events: <Calendar className=\"w-3 h-3\" />,\n  search: <Search className=\"w-3 h-3\" />,\n};\n\nexport const CommandPalette = React.forwardRef<\n  HTMLDivElement,\n  CommandPaletteProps\n>(\n  (\n    {\n      open,\n      onOpenChange,\n      commands = defaultCommands,\n      placeholder = \"Type a command or search...\",\n      emptyState,\n      className,\n    },\n    ref\n  ) => {\n    const [query, setQuery] = React.useState(\"\");\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\n\n    // Filter and group commands\n    const filteredCommands = React.useMemo(() => {\n      if (!query) return commands;\n\n      return commands.filter((command) => {\n        const searchTerms = [\n          command.title,\n          command.subtitle,\n          ...(command.keywords || []),\n        ]\n          .join(\" \")\n          .toLowerCase();\n\n        return searchTerms.includes(query.toLowerCase());\n      });\n    }, [commands, query]);\n\n    const groupedCommands = React.useMemo(() => {\n      const groups: Record<CommandCategory, Command[]> = {\n        recent: [],\n        navigation: [],\n        actions: [],\n        people: [],\n        spaces: [],\n        events: [],\n        search: [],\n      };\n\n      filteredCommands.forEach((command) => {\n        groups[command.category].push(command);\n      });\n\n      // Remove empty categories\n      return Object.entries(groups).filter(\n        ([, commands]) => commands.length > 0\n      );\n    }, [filteredCommands]);\n\n    const allCommands = React.useMemo(() => {\n      return groupedCommands.flatMap(([, commands]) => commands);\n    }, [groupedCommands]);\n\n    // Keyboard navigation\n    React.useEffect(() => {\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (!open) return;\n\n        switch (e.key) {\n          case \"Escape\": {\n            onOpenChange(false);\n            break;\n          }\n          case \"ArrowDown\": {\n            e.preventDefault();\n            setSelectedIndex((prev) =>\n              prev < allCommands.length - 1 ? prev + 1 : 0\n            );\n            break;\n          }\n          case \"ArrowUp\": {\n            e.preventDefault();\n            setSelectedIndex((prev) =>\n              prev > 0 ? prev - 1 : allCommands.length - 1\n            );\n            break;\n          }\n          case \"Enter\": {\n            e.preventDefault();\n            const selectedCommand = allCommands[selectedIndex];\n            if (selectedCommand && !selectedCommand.disabled) {\n              selectedCommand.action();\n              onOpenChange(false);\n            }\n            break;\n          }\n        }\n      };\n\n      window.addEventListener(\"keydown\", handleKeyDown);\n      return () => window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [open, onOpenChange, allCommands, selectedIndex]);\n\n    // Reset state when opened\n    React.useEffect(() => {\n      if (open) {\n        setQuery(\"\");\n        setSelectedIndex(0);\n      }\n    }, [open]);\n\n    if (!open) return null;\n\n    return (\n      <AnimatePresence>\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center\">\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={HIVE_MOTION.content}\n            className=\"absolute inset-0 bg-background/80 backdrop-blur-sm\"\n            onClick={() => onOpenChange(false)}\n          />\n\n          {/* Command Palette */}\n          <motion.div\n            ref={ref}\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\n            transition={HIVE_MOTION.content}\n            className={cn(\n              // HIVE Brand: Dark surface with proper border\n              \"relative mt-24 w-full max-w-2xl bg-surface border border-border rounded-xl shadow-2xl\",\n              \"max-h-[80vh] overflow-hidden\",\n              className\n            )}\n          >\n            {/* Search Header */}\n            <div className=\"flex items-center gap-3 px-4 py-3 border-b border-border\">\n              <Command className=\"w-4 h-4 text-muted shrink-0\" />\n              <input\n                type=\"text\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                placeholder={placeholder}\n                className={cn(\n                  // HIVE Brand: Geist Sans font, no background, proper focus\n                  \"flex-1 bg-transparent text-foreground placeholder:text-muted\",\n                  \"font-sans text-base outline-none\",\n                  \"transition-colors duration-[90ms] ease-[cubic-bezier(0.22,0.61,0.36,1)]\"\n                )}\n                autoFocus\n              />\n              <kbd className=\"hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border border-border bg-background px-1.5 font-mono text-xs text-muted\">\n                esc\n              </kbd>\n            </div>\n\n            {/* Commands List */}\n            <div className=\"max-h-[60vh] overflow-auto py-2\">\n              {groupedCommands.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n                  {emptyState || (\n                    <>\n                      <Search className=\"w-8 h-8 text-muted mb-3\" />\n                      <h3 className=\"font-display font-semibold text-foreground mb-1\">\n                        No commands found\n                      </h3>\n                      <p className=\"text-sm text-muted\">\n                        Try a different search term or{\" \"}\n                        <button\n                          onClick={() => setQuery(\"\")}\n                          className=\"text-accent hover:text-accent-600 transition-colors duration-[90ms]\"\n                        >\n                          clear search\n                        </button>\n                      </p>\n                    </>\n                  )}\n                </div>\n              ) : (\n                <div className=\"space-y-1\">\n                  {groupedCommands.map(([category, categoryCommands]) => (\n                    <div key={category}>\n                      {/* Category Header */}\n                      <div className=\"flex items-center gap-2 px-3 py-2 text-xs font-medium text-muted\">\n                        {categoryIcons[category as CommandCategory]}\n                        {categoryLabels[category as CommandCategory]}\n                      </div>\n\n                      {/* Commands in Category */}\n                      {categoryCommands.map((command, _commandIndex) => {\n                        const globalIndex = allCommands.indexOf(command);\n                        const isSelected = globalIndex === selectedIndex;\n\n                        return (\n                          <motion.button\n                            key={command.id}\n                            onClick={() => {\n                              if (!command.disabled) {\n                                command.action();\n                                onOpenChange(false);\n                              }\n                            }}\n                            onMouseEnter={() => setSelectedIndex(globalIndex)}\n                            disabled={command.disabled}\n                            whileHover={\n                              !command.disabled ? { x: 2 } : undefined\n                            }\n                            transition={HIVE_MOTION.micro}\n                            className={cn(\n                              // HIVE Brand: Proper spacing, font, and colors\n                              \"w-full flex items-center gap-3 px-3 py-2.5 text-left rounded-lg mx-2\",\n                              \"transition-all duration-[90ms] ease-[cubic-bezier(0.22,0.61,0.36,1)]\",\n\n                              // Selection state with HIVE gold accent\n                              isSelected &&\n                                !command.disabled && [\n                                  \"bg-accent/10 text-foreground\",\n                                  \"border border-accent/20\",\n                                ],\n\n                              // Hover state\n                              !isSelected &&\n                                !command.disabled && [\n                                  \"hover:bg-muted/5 text-foreground/80 hover:text-foreground\",\n                                ],\n\n                              // Disabled state\n                              command.disabled &&\n                                \"opacity-50 cursor-not-allowed\"\n                            )}\n                          >\n                            {/* Icon */}\n                            {command.icon && (\n                              <div\n                                className={cn(\n                                  \"flex items-center justify-center w-8 h-8 rounded-md bg-background border border-border shrink-0\",\n                                  isSelected && \"border-accent/30 bg-accent/5\"\n                                )}\n                              >\n                                <div\n                                  className={cn(\n                                    \"text-muted transition-colors duration-[90ms]\",\n                                    isSelected && \"text-accent\"\n                                  )}\n                                >\n                                  {command.icon}\n                                </div>\n                              </div>\n                            )}\n\n                            {/* Content */}\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center gap-2\">\n                                <span className=\"font-sans font-medium text-sm text-foreground truncate\">\n                                  {command.title}\n                                </span>\n                                {command.shortcut && (\n                                  <div className=\"flex items-center gap-0.5\">\n                                    {command.shortcut.map((key, index) => (\n                                      <kbd\n                                        key={index}\n                                        className=\"inline-flex h-5 select-none items-center gap-1 rounded border border-border bg-background px-1.5 font-mono text-xs text-muted\"\n                                      >\n                                        {key}\n                                      </kbd>\n                                    ))}\n                                  </div>\n                                )}\n                              </div>\n                              {command.subtitle && (\n                                <p className=\"text-xs text-muted truncate mt-0.5\">\n                                  {command.subtitle}\n                                </p>\n                              )}\n                            </div>\n\n                            {/* Arrow indicator for selected */}\n                            {isSelected && !command.disabled && (\n                              <motion.div\n                                initial={{ opacity: 0, scale: 0.8 }}\n                                animate={{ opacity: 1, scale: 1 }}\n                                transition={HIVE_MOTION.micro}\n                              >\n                                <ArrowRight className=\"w-3 h-3 text-accent\" />\n                              </motion.div>\n                            )}\n                          </motion.button>\n                        );\n                      })}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Footer */}\n            <div className=\"flex items-center justify-between px-4 py-2 border-t border-border bg-background/50\">\n              <div className=\"flex items-center gap-4 text-xs text-muted\">\n                <div className=\"flex items-center gap-1\">\n                  <kbd className=\"inline-flex h-4 select-none items-center rounded border border-border bg-background px-1 font-mono text-xs\">\n                    â†‘â†“\n                  </kbd>\n                  <span>navigate</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <kbd className=\"inline-flex h-4 select-none items-center rounded border border-border bg-background px-1 font-mono text-xs\">\n                    â†µ\n                  </kbd>\n                  <span>select</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <kbd className=\"inline-flex h-4 select-none items-center rounded border border-border bg-background px-1 font-mono text-xs\">\n                    esc\n                  </kbd>\n                  <span>close</span>\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-1 text-xs text-muted\">\n                <span className=\"font-display font-semibold text-accent\">\n                  HIVE\n                </span>\n                <span>Command Palette</span>\n              </div>\n            </div>\n          </motion.div>\n        </div>\n      </AnimatePresence>\n    );\n  }\n);\n\nCommandPalette.displayName = \"CommandPalette\";\n\n// Hook for managing command palette state\nexport const useCommandPalette = () => {\n  const [open, setOpen] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"k\" && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault();\n        setOpen((prev) => !prev);\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, []);\n\n  return {\n    open,\n    setOpen,\n    toggle: () => setOpen((prev) => !prev),\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\command.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\container.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\counter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\cta-button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\empty-state.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\enhanced-cards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\event-card.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\form.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Label' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cn } from \"../../lib/utils\";\r\nimport { Label } from \"./label\";\r\n\r\n// Form Context for managing form state\r\ntype FormFieldContextValue = {\r\n  name: string;\r\n  id: string;\r\n  error?: string;\r\n  required?: boolean;\r\n};\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null);\r\n\r\nconst useFormField = () => {\r\n  const context = React.useContext(FormFieldContext);\r\n  if (!context) {\r\n    throw new Error(\"useFormField must be used within a FormField\");\r\n  }\r\n  return context;\r\n};\r\n\r\n// FormField - Root container for a form field\r\nexport interface FormFieldProps {\r\n  children: React.ReactNode;\r\n  name: string;\r\n  error?: string;\r\n  required?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst FormField = React.forwardRef<HTMLDivElement, FormFieldProps>(\r\n  ({ children, name, error, required = false, className }, ref) => {\r\n    const id = React.useId();\r\n    \r\n    return (\r\n      <FormFieldContext.Provider value={{ name, id, error, required }}>\r\n        <div ref={ref} className={cn(\"space-y-2\", className)}>\r\n          {children}\r\n        </div>\r\n      </FormFieldContext.Provider>\r\n    );\r\n  }\r\n);\r\nFormField.displayName = \"FormField\";\r\n\r\n// FormItem - Container for form field content\r\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\r\n  )\r\n);\r\nFormItem.displayName = \"FormItem\";\r\n\r\n// FormLabel - Enhanced label with HIVE styling\r\nexport interface FormLabelProps extends React.LabelHTMLAttributes<HTMLLabelElement> {\r\n  asChild?: boolean;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst FormLabel = React.forwardRef<HTMLLabelElement, FormLabelProps>(\r\n  ({ className, asChild = false, children, ...props }, ref) => {\r\n    const { required, error, id } = useFormField();\r\n    const Comp = asChild ? Slot : \"label\";\r\n\r\n    return (\r\n      <Comp\r\n        ref={ref}\r\n        className={cn(\r\n          // HIVE label styling\r\n          \"text-sm font-medium font-sans\", // Inter font\r\n          \"text-foreground\", // White text\r\n          \"transition-colors duration-fast ease-hive-smooth\",\r\n          // Error state\r\n          error && \"text-error\",\r\n          className\r\n        )}\r\n        htmlFor={id}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {required && (\r\n          <span className=\"ml-1 text-accent font-normal\" aria-label=\"required\">\r\n            *\r\n          </span>\r\n        )}\r\n      </Comp>\r\n    );\r\n  }\r\n);\r\nFormLabel.displayName = \"FormLabel\";\r\n\r\n// FormControl - Wrapper for form inputs - FIXED\r\nexport interface FormControlProps {\r\n  children: React.ReactElement;\r\n}\r\n\r\nconst FormControl = React.forwardRef<HTMLElement, FormControlProps>(\r\n  ({ children }, ref) => {\r\n    const { error, id, name } = useFormField();\r\n\r\n    return React.cloneElement(children, {\r\n      ref,\r\n      id,\r\n      name,\r\n      'aria-describedby': error ? `${id}-error` : `${id}-description`,\r\n      'aria-invalid': !!error,\r\n      ...children.props,\r\n    });\r\n  }\r\n);\r\nFormControl.displayName = \"FormControl\";\r\n\r\n// FormDescription - Helper text for form fields\r\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, ...props }, ref) => {\r\n    const { id } = useFormField();\r\n\r\n    return (\r\n      <p\r\n        ref={ref}\r\n        id={`${id}-description`}\r\n        className={cn(\r\n          \"text-xs font-sans\", // Inter font\r\n          \"text-muted\", // Muted text color\r\n          \"leading-relaxed\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nFormDescription.displayName = \"FormDescription\";\r\n\r\n// FormMessage - Error/success messages\r\nexport interface FormMessageProps extends React.HTMLAttributes<HTMLParagraphElement> {\r\n  type?: \"error\" | \"success\" | \"warning\";\r\n}\r\n\r\nconst FormMessage = React.forwardRef<HTMLParagraphElement, FormMessageProps>(\r\n  ({ className, type = \"error\", children, ...props }, ref) => {\r\n    const { error, id } = useFormField();\r\n    const body = error || children;\r\n\r\n    if (!body) return null;\r\n\r\n    return (\r\n      <p\r\n        ref={ref}\r\n        id={`${id}-message`}\r\n        className={cn(\r\n          \"text-xs font-sans font-medium\", // Inter font\r\n          \"flex items-center gap-1\",\r\n          \"transition-colors duration-fast ease-hive-smooth\",\r\n          // Type-based styling\r\n          {\r\n            \"text-error\": type === \"error\",\r\n            \"text-green-400\": type === \"success\", \r\n            \"text-yellow-400\": type === \"warning\",\r\n          },\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {/* Icon based on type */}\r\n        {type === \"error\" && (\r\n          <svg className=\"h-3 w-3 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        )}\r\n        {type === \"success\" && (\r\n          <svg className=\"h-3 w-3 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        )}\r\n        {type === \"warning\" && (\r\n          <svg className=\"h-3 w-3 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        )}\r\n        {body}\r\n      </p>\r\n    );\r\n  }\r\n);\r\nFormMessage.displayName = \"FormMessage\";\r\n\r\n// Form Group - For grouping related form fields\r\nexport interface FormGroupProps extends React.HTMLAttributes<HTMLFieldSetElement> {\r\n  legend?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst FormGroup = React.forwardRef<HTMLFieldSetElement, FormGroupProps>(\r\n  ({ className, legend, children, ...props }, ref) => (\r\n    <fieldset\r\n      ref={ref}\r\n      className={cn(\r\n        \"border border-border rounded-xl p-4\",\r\n        \"bg-surface/50\", // Subtle background\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {legend && (\r\n        <legend className=\"px-2 text-sm font-medium text-foreground font-sans\">\r\n          {legend}\r\n        </legend>\r\n      )}\r\n      <div className=\"space-y-4 mt-2\">\r\n        {children}\r\n      </div>\r\n    </fieldset>\r\n  )\r\n);\r\nFormGroup.displayName = \"FormGroup\";\r\n\r\nexport {\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormGroup,\r\n  useFormField,\r\n}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\profile-card.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\stories\\SpaceHeader.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\stories\\Typography.stories.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":94,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4206,4243],"text":"const code = &quot;JetBrains Mono (14px)\";"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4206,4243],"text":"const code = &ldquo;JetBrains Mono (14px)\";"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4206,4243],"text":"const code = &#34;JetBrains Mono (14px)\";"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4206,4243],"text":"const code = &rdquo;JetBrains Mono (14px)\";"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":94,"column":85,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4206,4243],"text":"const code = \"JetBrains Mono (14px)&quot;;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4206,4243],"text":"const code = \"JetBrains Mono (14px)&ldquo;;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4206,4243],"text":"const code = \"JetBrains Mono (14px)&#34;;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4206,4243],"text":"const code = \"JetBrains Mono (14px)&rdquo;;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from '@storybook/react';\r\nimport React from 'react';\r\n\r\n// Typography showcase component\r\nconst Typography = () => {\r\n  return (\r\n    <div className=\"space-y-8 p-6 bg-background text-foreground\">\r\n      {/* Font Families Section */}\r\n      <section className=\"space-y-4\">\r\n        <h2 className=\"text-h2 font-display text-accent mb-4\">Font Families</h2>\r\n        \r\n        <div className=\"space-y-2\">\r\n          <div className=\"font-display text-h3\">Space Grotesk Display - Headlines</div>\r\n          <div className=\"font-sans text-body\">Inter Sans - Body Text</div>\r\n          <div className=\"font-mono text-code\">JetBrains Mono - Code</div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Color System Section */}\r\n      <section className=\"space-y-4\">\r\n        <h2 className=\"text-h2 font-display text-accent mb-4\">Color System</h2>\r\n        \r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <div className=\"w-full h-12 bg-background border border-border rounded\"></div>\r\n            <div className=\"text-caption\">Background #0A0A0A</div>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <div className=\"w-full h-12 bg-surface border border-border rounded\"></div>\r\n            <div className=\"text-caption\">Surface #111111</div>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <div className=\"w-full h-12 bg-accent border border-border rounded\"></div>\r\n            <div className=\"text-caption\">Accent #FFD700</div>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <div className=\"w-full h-12 bg-muted border border-border rounded\"></div>\r\n            <div className=\"text-caption\">Muted</div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Typography Scale Section */}\r\n      <section className=\"space-y-4\">\r\n        <h2 className=\"text-h2 font-display text-accent mb-4\">Typography Scale</h2>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <div className=\"text-display font-display\">Display Text (48px)</div>\r\n            <div className=\"text-caption text-muted\">Space Grotesk Variable, 600 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-h1 font-display\">Heading 1 (32px)</div>\r\n            <div className=\"text-caption text-muted\">Space Grotesk Variable, 600 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-h2 font-display\">Heading 2 (24px)</div>\r\n            <div className=\"text-caption text-muted\">Space Grotesk Variable, 600 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-h3 font-display\">Heading 3 (20px)</div>\r\n            <div className=\"text-caption text-muted\">Space Grotesk Variable, 600 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-h4 font-display\">Heading 4 (18px)</div>\r\n            <div className=\"text-caption text-muted\">Space Grotesk Variable, 600 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-body font-sans\">Body text (16px) - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</div>\r\n            <div className=\"text-caption text-muted\">Inter, 400 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-body-sm font-sans\">Body Small (14px) - Smaller body text for supporting content and captions.</div>\r\n            <div className=\"text-caption text-muted\">Inter, 400 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-caption font-sans\">Caption (12px) - Labels, metadata, micro-copy</div>\r\n            <div className=\"text-caption text-muted\">Inter, 400 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-button font-sans font-medium\">Button Text (14px)</div>\r\n            <div className=\"text-caption text-muted\">Inter, 500 weight</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"text-code font-mono\">const code = \"JetBrains Mono (14px)\";</div>\r\n            <div className=\"text-caption text-muted\">JetBrains Mono, 400 weight</div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Interactive Elements */}\r\n      <section className=\"space-y-4\">\r\n        <h2 className=\"text-h2 font-display text-accent mb-4\">Interactive Elements</h2>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"text-body font-sans\">\r\n            This is a paragraph with <span className=\"text-accent\">accent colored text</span> and \r\n            <span className=\"text-muted\"> muted secondary text</span>. \r\n            It demonstrates how our typography works in real content scenarios.\r\n          </div>\r\n          \r\n          <div className=\"p-4 bg-surface border border-border rounded-lg\">\r\n            <h3 className=\"text-h3 font-display mb-2\">Card Title</h3>\r\n            <p className=\"text-body font-sans text-muted\">\r\n              Card content using the body text style. This shows how our typography \r\n              system works within component contexts.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst meta = {\r\n  title: 'Foundation/Typography',\r\n  component: Typography,\r\n  parameters: {\r\n    layout: 'fullscreen',\r\n    backgrounds: {\r\n      default: 'dark',\r\n    },\r\n  },\r\n  tags: ['autodocs'],\r\n} satisfies Meta<typeof Typography>;\r\n\r\nexport default meta;\r\ntype Story = StoryObj<typeof meta>;\r\n\r\nexport const Default: Story = {};\r\n\r\nexport const MobilePreviews: Story = {\r\n  parameters: {\r\n    viewport: {\r\n      defaultViewport: 'mobile1',\r\n    },\r\n  },\r\n}; ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\stories\\counter.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\stories\\timer.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\textarea.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'sizeClasses' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":17,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'shakeClass' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":24,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":21}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\n\r\nimport { cn } from \"../../lib/utils\";\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\r\n  /** Error state styling */\r\n  error?: boolean;\r\n  /** Size variant */\r\n  size?: \"sm\" | \"md\" | \"lg\";\r\n  /** Motion-based error feedback */\r\n  shake?: boolean;\r\n}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, error, size = \"md\", shake = false, ...props }, ref) => {\r\n    const sizeClasses = {\r\n      sm: \"min-h-[80px] px-3 py-2 text-body-sm\",\r\n      md: \"min-h-[100px] px-4 py-3 text-body\",\r\n      lg: \"min-h-[120px] px-5 py-4 text-body\",\r\n    };\r\n\r\n    // Shake animation class (motion-based error feedback)\r\n    const shakeClass = shake\r\n      ? \"animate-[shakeMicro_90ms_cubic-bezier(0.4,0.0,0.2,1)]\"\r\n      : \"\";\r\n\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          // Base styles with FORCE WHITE TEXT\r\n          \"flex min-h-[80px] w-full rounded-lg font-sans\",\r\n          \"bg-surface border border-[#2A2A2A]\",\r\n          \"!text-white placeholder:text-muted\", // FORCE white text\r\n          \"transition-all duration-fast ease-hive-smooth\",\r\n          \r\n          // Focus states\r\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#FFD700]\",\r\n          \"focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\r\n          \"focus-visible:border-[#FFD700]\",\r\n          \r\n          // Hover states\r\n          \"hover:border-muted hover:bg-[#181818]\",\r\n          \r\n          // Disabled states\r\n          \"disabled:cursor-not-allowed disabled:opacity-50\",\r\n          \"disabled:bg-[#0A0A0A] disabled:border-disabled\",\r\n\r\n          // Size variants\r\n          size === \"sm\" && \"min-h-[60px] px-3 py-2 text-body-sm\",\r\n          size === \"md\" && \"min-h-[80px] px-4 py-3 text-body\",\r\n          size === \"lg\" && \"min-h-[120px] px-5 py-4 text-body\",\r\n\r\n          // Error state with shake animation\r\n          error && [\r\n            \"border-muted\",\r\n            \"focus-visible:ring-foreground focus-visible:border-foreground\",\r\n            shake && \"animate-[shakeMicro_90ms_cubic-bezier(0.4,0.0,0.2,1)]\"\r\n          ],\r\n          className\r\n        )}\r\n        style={{\r\n          color: '#FFFFFF !important',\r\n          // Force white text as inline style fallback\r\n        }}\r\n        ref={ref}\r\n        aria-invalid={error}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nTextarea.displayName = \"Textarea\";\r\n\r\nexport { Textarea };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\timer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\waitlist-form.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\waitlist-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\welcome\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\welcome\\school-search-input.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\welcome\\school-search-input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\welcome\\welcome-card.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\welcome\\welcome-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\components\\welcome\\welcome-mat.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\stories\\flows\\Authentication.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleBackToStart' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":60,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":60,"endColumn":28}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from \"react\";\r\nimport type { Meta, StoryObj } from \"@storybook/react\";\r\nimport { AuthForm } from \"../../components/auth/AuthForm\";\r\nimport { CheckEmailInfo } from \"../../components/auth/CheckEmailInfo\";\r\n\r\nconst meta: Meta = {\r\n  title: \"Flows/Authentication\",\r\n  parameters: {\r\n    layout: \"fullscreen\",\r\n  },\r\n};\r\n\r\nexport default meta;\r\n\r\nconst schoolName = \"University at Buffalo\";\r\nconst schoolDomain = \"buffalo.edu\";\r\n\r\nexport const FullFlow: StoryObj = {\r\n  render: () => {\r\n    const [step, setStep] = useState(\"auth-form\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const validation = useMemo(() => {\r\n      if (!email) return { isValid: false, error: null };\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!emailRegex.test(email)) {\r\n        return { isValid: false, error: \"Please enter a valid email address\" };\r\n      }\r\n      const domain = email.split(\"@\")[1];\r\n      if (domain.toLowerCase() !== schoolDomain) {\r\n        return {\r\n          isValid: false,\r\n          error: `Please use your ${schoolName} email address`,\r\n        };\r\n      }\r\n      return { isValid: true, error: null };\r\n    }, [email]);\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n      e.preventDefault();\r\n      if (!validation.isValid) return;\r\n\r\n      setIsLoading(true);\r\n      setError(null);\r\n\r\n      setTimeout(() => {\r\n        // Simulate a successful API call\r\n        if (email === `fail@${schoolDomain}`) {\r\n          setError(\"This email address is blocked. Please contact support.\");\r\n          setIsLoading(false);\r\n        } else {\r\n          setIsLoading(false);\r\n          setStep(\"check-email\");\r\n        }\r\n      }, 1500);\r\n    };\r\n\r\n    const handleBackToStart = () => {\r\n      setEmail(\"\");\r\n      setError(null);\r\n      setStep(\"auth-form\");\r\n    };\r\n\r\n    if (step === \"check-email\") {\r\n      return <CheckEmailInfo email={email} backLinkHref=\"#\" />;\r\n      // In a real story, we'd make the back link work with an action\r\n    }\r\n\r\n    return (\r\n      <AuthForm\r\n        schoolName={schoolName}\r\n        schoolDomain={schoolDomain}\r\n        email={email}\r\n        onEmailChange={setEmail}\r\n        onSubmit={handleSubmit}\r\n        isLoading={isLoading}\r\n        error={error}\r\n        validationError={validation.error}\r\n        isSubmitDisabled={!validation.isValid}\r\n        backLinkHref=\"#\"\r\n      />\r\n    );\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\stories\\flows\\Onboarding.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\ui\\src\\types\\static.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\utilities\\src\\common.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\utilities\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\feed.schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\profile.schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\schemas\\space.schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\schemas\\user.schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\packages\\validation\\src\\user.schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\src\\components\\ui\\alert-dialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'cn' is defined but never used. Allowed unused vars must match /^_/u.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n// Create a proper alert dialog context\r\nconst AlertDialogContext = React.createContext<{\r\n  isOpen: boolean;\r\n  setIsOpen: (open: boolean) => void;\r\n}>({\r\n  isOpen: false,\r\n  setIsOpen: () => {},\r\n});\r\n\r\nAlertDialogContext.displayName = 'AlertDialogContext';\r\n\r\nconst AlertDialog = React.forwardRef<\r\n  HTMLDivElement,\r\n  AlertDialogProps\r\n>(({ children, open, onOpenChange, ...props }, ref) => {\r\n  const [internalOpen, setInternalOpen] = React.useState(false);\r\n  const isOpen = open !== undefined ? open : internalOpen;\r\n  const setIsOpen = onOpenChange || setInternalOpen;\r\n\r\n  return (\r\n    <AlertDialogContext.Provider value={{ isOpen, setIsOpen }}>\r\n      <div ref={ref} {...props}>\r\n        {children}\r\n      </div>\r\n    </AlertDialogContext.Provider>\r\n  )\r\n})\r\nAlertDialog.displayName = \"AlertDialog\" ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\src\\components\\ui\\dropdown-menu.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'cn' is defined but never used. Allowed unused vars must match /^_/u.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n// Create a proper dropdown menu context\r\nconst DropdownMenuContext = React.createContext<{\r\n  isOpen: boolean;\r\n  setIsOpen: (open: boolean) => void;\r\n}>({\r\n  isOpen: false,\r\n  setIsOpen: () => {},\r\n});\r\n\r\nDropdownMenuContext.displayName = 'DropdownMenuContext';\r\n\r\nconst DropdownMenu = React.forwardRef<\r\n  HTMLDivElement,\r\n  DropdownMenuProps\r\n>(({ children, ...props }, ref) => {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  return (\r\n    <DropdownMenuContext.Provider value={{ isOpen, setIsOpen }}>\r\n      <div ref={ref} {...props}>\r\n        {children}\r\n      </div>\r\n    </DropdownMenuContext.Provider>\r\n  )\r\n})\r\nDropdownMenu.displayName = \"DropdownMenu\" ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\src\\components\\ui\\tabs.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useTabsContext' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":15,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n// Create a proper tabs context\r\nconst TabsContext = React.createContext<{\r\n  value: string;\r\n  onValueChange: (value: string) => void;\r\n}>({\r\n  value: '',\r\n  onValueChange: () => {},\r\n});\r\n\r\nTabsContext.displayName = 'TabsContext';\r\n\r\nconst useTabsContext = () => {\r\n  const context = React.useContext(TabsContext);\r\n  return context;\r\n};\r\n\r\nconst Tabs = React.forwardRef<\r\n  HTMLDivElement,\r\n  TabsProps\r\n>(({ className, value, onValueChange, defaultValue, children, ...props }, ref) => {\r\n  const [internalValue, setInternalValue] = React.useState(defaultValue || '');\r\n  const currentValue = value !== undefined ? value : internalValue;\r\n  const handleValueChange = onValueChange || setInternalValue;\r\n\r\n  return (\r\n    <TabsContext.Provider value={{ value: currentValue, onValueChange: handleValueChange }}>\r\n      <div\r\n        ref={ref}\r\n        className={cn(\"w-full\", className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    </TabsContext.Provider>\r\n  )\r\n})\r\nTabs.displayName = \"Tabs\" ","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\src\\stories\\working-test.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rhine\\hive_ui\\src\\types\\hive-core-stub.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[211,214],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[211,214],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export interface Element {\r\n  id: string;\r\n  name: string;\r\n  category: ElementCategory;\r\n  icon: string;\r\n  description: string;\r\n  usageCount?: number;\r\n  presets?: Array<{ popularity?: number; [key: string]: any }>;\r\n  defaultConfig?: Record<string, unknown>;\r\n}\r\n\r\nexport interface Tool {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  elements: ElementInstance[];\r\n  currentVersion?: string;\r\n  status?: 'draft' | 'preview' | 'published';\r\n  updatedAt?: string;\r\n}\r\n\r\nexport interface ElementInstance {\r\n  id: string;\r\n  elementId: string;\r\n  position: { x: number; y: number; width?: number; height?: number };\r\n  config: Record<string, unknown>;\r\n  order?: number;\r\n}\r\n\r\nexport enum PostType {\r\n  TEXT = 'text',\r\n  POLL = 'poll',\r\n  EVENT = 'event'\r\n}\r\n\r\n// CreatePost interface for feed composer\r\nexport interface CreatePost {\r\n  content: string;\r\n  postType: PostType;\r\n  spaceId?: string;\r\n  attachments?: string[];\r\n  pollOptions?: string[];\r\n  eventDate?: string;\r\n  eventLocation?: string;\r\n} ","usedDeprecatedRules":[]}]