#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# HIVE Workflow Enforcement - Pre-commit Hook
echo "üîí Running HIVE workflow checks..."

# Run the workflow enforcement system
pnpm workflow-check "commit validation"

# Exit with error code if workflow check fails
if [ $? -ne 0 ]; then
  echo "‚ùå Commit blocked by workflow enforcement"
  echo "Fix the issues above before committing"
  exit 1
fi

# Run standard pre-commit checks
pnpm lint
pnpm typecheck