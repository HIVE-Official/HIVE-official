import{j as e}from"./jsx-runtime-SKoiH9zj.js";import{r as w}from"./index-DJO9vBfz.js";import{m as v,A as S}from"./framer-motion-proxy-Bzlf7Pk2.js";import{c as o}from"./utils-CytzSlOG.js";import{E as M}from"./ellipsis-D7-MrO0F.js";import{S as m}from"./settings-GFIh7SpU.js";import{M as E}from"./message-square-BYWfq8X7.js";import{c as _}from"./createLucideIcon-WpwZgzX-.js";import{P as N}from"./play-D7e6preK.js";import{T as U}from"./trash-2-D4UgS-bT.js";import{C as u}from"./circle-alert-D_Mj0ODU.js";import{C as F}from"./calendar-BPdIbUwb.js";import{B as z}from"./bar-chart-3-CRKf5MQJ.js";import{U as H}from"./users-kvqvVsnf.js";import{Z as B}from"./zap-0mfePDxG.js";import{C as G}from"./circle-check-big-DTzGNsHe.js";/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=_("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),L={productivity:{color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/20",icon:e.jsx(B,{className:"w-4 h-4"})},social:{color:"text-purple-400",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/20",icon:e.jsx(H,{className:"w-4 h-4"})},academic:{color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",icon:e.jsx(z,{className:"w-4 h-4"})},coordination:{color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/20",icon:e.jsx(F,{className:"w-4 h-4"})}},$={active:{color:"text-[var(--hive-status-success)]",bgColor:"bg-[var(--hive-status-success)]/10",borderColor:"border-[var(--hive-status-success)]/20",icon:e.jsx(G,{className:"w-4 h-4"}),label:"Active"},configured:{color:"text-[var(--hive-status-info)]",bgColor:"bg-[var(--hive-status-info)]/10",borderColor:"border-[var(--hive-status-info)]/20",icon:e.jsx(m,{className:"w-4 h-4"}),label:"Configured"},needs_setup:{color:"text-[var(--hive-status-warning)]",bgColor:"bg-[var(--hive-status-warning)]/10",borderColor:"border-[var(--hive-status-warning)]/20",icon:e.jsx(u,{className:"w-4 h-4"}),label:"Needs Setup"},error:{color:"text-[var(--hive-status-error)]",bgColor:"bg-[var(--hive-status-error)]/10",borderColor:"border-[var(--hive-status-error)]/20",icon:e.jsx(u,{className:"w-4 h-4"}),label:"Error"},disabled:{color:"text-[var(--hive-text-muted)]",bgColor:"bg-[var(--hive-background-tertiary)]/20",borderColor:"border-[var(--hive-border-primary)]/10",icon:e.jsx(C,{className:"w-4 h-4"}),label:"Disabled"}},D=({tool:r,variant:T="default",onConfigure:t,onRemove:x,onToggleStatus:b,onViewDetails:h,onViewOutputs:p,showStats:k=!0,showActions:P=!0,className:g})=>{const[y,l]=w.useState(!1),[d,f]=w.useState(!1),c=L[r.category],s=$[r.status],I=a=>{if(!a)return"Never";const A=new Date,q=new Date(a),n=Math.floor((A.getTime()-q.getTime())/(1e3*60*60));return n<1?"Just now":n<24?`${n}h ago`:n<168?`${Math.floor(n/24)}d ago`:`${Math.floor(n/168)}w ago`},j=async()=>{if(b){f(!0);try{await b(r.id,r.status!=="active")}finally{f(!1)}}},i=(()=>{switch(r.status){case"needs_setup":return{label:"Setup Required",action:()=>t==null?void 0:t(r.id),variant:"warning",icon:e.jsx(m,{className:"w-4 h-4"})};case"error":return{label:"Fix Error",action:()=>t==null?void 0:t(r.id),variant:"error",icon:e.jsx(u,{className:"w-4 h-4"})};case"configured":return{label:"Activate",action:j,variant:"success",icon:e.jsx(N,{className:"w-4 h-4"})};case"active":return{label:"Configure",action:()=>t==null?void 0:t(r.id),variant:"default",icon:e.jsx(m,{className:"w-4 h-4"})};default:return null}})();return T==="compact"?e.jsx(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{y:-2},className:o("relative group cursor-pointer overflow-hidden","bg-[var(--hive-background-secondary)]/60 backdrop-blur-xl","border border-[var(--hive-border-primary)]/20 rounded-xl p-3","hover:border-[var(--hive-brand-primary)]/30 transition-all duration-300",r.status==="error"&&"border-[var(--hive-status-error)]/30",r.status==="needs_setup"&&"border-[var(--hive-status-warning)]/30",g),onClick:()=>h==null?void 0:h(r.id),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--hive-background-tertiary)]/60 border border-[var(--hive-border-primary)]/30 flex items-center justify-center text-lg",children:r.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-[var(--hive-text-primary)] truncate text-sm",children:r.name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:o("flex items-center gap-1 px-1.5 py-0.5 rounded-full text-xs border",s.bgColor,s.borderColor,s.color),children:[s.icon,e.jsx("span",{children:s.label})]})})]})]})}):e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4},className:o("relative group cursor-pointer overflow-hidden","bg-[var(--hive-background-secondary)]/60 backdrop-blur-xl","border border-[var(--hive-border-primary)]/20 rounded-2xl p-5","hover:border-[var(--hive-brand-primary)]/30 hover:shadow-lg","transition-all duration-300",r.status==="error"&&"border-[var(--hive-status-error)]/30",r.status==="needs_setup"&&"border-[var(--hive-status-warning)]/30",g),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-[var(--hive-background-tertiary)]/60 border border-[var(--hive-border-primary)]/30 flex items-center justify-center text-2xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--hive-text-primary)] group-hover:text-[var(--hive-brand-primary)] transition-colors duration-300",children:r.name}),e.jsx("p",{className:"text-sm text-[var(--hive-text-secondary)] line-clamp-1",children:r.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("div",{className:o("flex items-center gap-1 px-2 py-0.5 rounded-full text-xs border",c.bgColor,c.borderColor,c.color),children:[c.icon,e.jsx("span",{className:"capitalize",children:r.category})]}),e.jsxs("span",{className:"text-xs text-[var(--hive-text-muted)]",children:["v",r.version]})]})]})]}),P&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),l(!y)},className:"w-8 h-8 rounded-lg flex items-center justify-center text-[var(--hive-text-muted)] hover:text-[var(--hive-text-primary)] hover:bg-[var(--hive-background-primary)]/50 transition-colors duration-200",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx(S,{children:y&&e.jsxs(v.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-10 w-48 bg-[var(--hive-background-secondary)]/95 backdrop-blur-xl border border-[var(--hive-border-primary)]/30 rounded-xl shadow-lg z-50 py-2",children:[r.canConfigure&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),t==null||t(r.id),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-[var(--hive-text-primary)] hover:bg-[var(--hive-background-primary)]/50 transition-colors duration-200 flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Configure Tool"]}),r.outputs&&r.outputs>0&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),p==null||p(r.id),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-[var(--hive-text-primary)] hover:bg-[var(--hive-background-primary)]/50 transition-colors duration-200 flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"View Posts (",r.outputs,")"]}),e.jsx("button",{onClick:a=>{a.stopPropagation(),j(),l(!1)},disabled:d,className:"w-full px-4 py-2 text-left text-sm text-[var(--hive-text-primary)] hover:bg-[var(--hive-background-primary)]/50 transition-colors duration-200 flex items-center gap-2 disabled:opacity-50",children:r.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-4 h-4"}),d?"Disabling...":"Disable Tool"]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4"}),d?"Activating...":"Activate Tool"]})}),r.canRemove&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),x==null||x(r.id),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-[var(--hive-status-error)] hover:bg-[var(--hive-background-primary)]/50 transition-colors duration-200 flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Remove Tool"]})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:o("flex items-center gap-2 px-3 py-1.5 rounded-xl border",s.bgColor,s.borderColor),children:[s.icon,e.jsx("span",{className:o("text-sm font-medium",s.color),children:s.label})]}),r.lastUsed&&e.jsxs("span",{className:"text-xs text-[var(--hive-text-muted)]",children:["Last used ",I(r.lastUsed)]})]}),r.status==="error"&&r.errorMessage&&e.jsx("div",{className:"mb-4 p-3 bg-[var(--hive-status-error)]/10 border border-[var(--hive-status-error)]/20 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-[var(--hive-status-error)] mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[var(--hive-status-error)]",children:"Tool Error"}),e.jsx("p",{className:"text-xs text-[var(--hive-text-secondary)] mt-1",children:r.errorMessage})]})]})}),k&&e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[r.outputs!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-[var(--hive-text-primary)]",children:r.outputs}),e.jsx("div",{className:"text-xs text-[var(--hive-text-muted)]",children:"Posts"})]}),r.usageCount!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-[var(--hive-text-primary)]",children:r.usageCount}),e.jsx("div",{className:"text-xs text-[var(--hive-text-muted)]",children:"Uses"})]}),r.interactions!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-[var(--hive-text-primary)]",children:r.interactions}),e.jsx("div",{className:"text-xs text-[var(--hive-text-muted)]",children:"Interactions"})]})]}),i&&e.jsxs(v.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a=>{a.stopPropagation(),i.action()},disabled:d,className:o("w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all duration-300 disabled:opacity-50",i.variant==="warning"&&"bg-[var(--hive-status-warning)]/20 text-[var(--hive-status-warning)] border border-[var(--hive-status-warning)]/40 hover:bg-[var(--hive-status-warning)]/30",i.variant==="error"&&"bg-[var(--hive-status-error)]/20 text-[var(--hive-status-error)] border border-[var(--hive-status-error)]/40 hover:bg-[var(--hive-status-error)]/30",i.variant==="success"&&"bg-[var(--hive-status-success)]/20 text-[var(--hive-status-success)] border border-[var(--hive-status-success)]/40 hover:bg-[var(--hive-status-success)]/30",i.variant==="default"&&"bg-[var(--hive-brand-primary)]/20 text-[var(--hive-brand-primary)] border border-[var(--hive-brand-primary)]/40 hover:bg-[var(--hive-brand-primary)]/30"),children:[i.icon,e.jsx("span",{children:d?"Loading...":i.label})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-[var(--hive-brand-primary)]/2 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none rounded-2xl"})]})};D.__docgenInfo={description:"",methods:[],displayName:"PlantedToolWidget",props:{tool:{required:!0,tsType:{name:"PlantedTool"},description:""},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'compact' | 'detailed'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'compact'"},{name:"literal",value:"'detailed'"}]},description:"",defaultValue:{value:"'default'",computed:!1}},onConfigure:{required:!1,tsType:{name:"signature",type:"function",raw:"(toolId: string) => void",signature:{arguments:[{type:{name:"string"},name:"toolId"}],return:{name:"void"}}},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(toolId: string) => void",signature:{arguments:[{type:{name:"string"},name:"toolId"}],return:{name:"void"}}},description:""},onToggleStatus:{required:!1,tsType:{name:"signature",type:"function",raw:"(toolId: string, active: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"toolId"},{type:{name:"boolean"},name:"active"}],return:{name:"void"}}},description:""},onViewDetails:{required:!1,tsType:{name:"signature",type:"function",raw:"(toolId: string) => void",signature:{arguments:[{type:{name:"string"},name:"toolId"}],return:{name:"void"}}},description:""},onViewOutputs:{required:!1,tsType:{name:"signature",type:"function",raw:"(toolId: string) => void",signature:{arguments:[{type:{name:"string"},name:"toolId"}],return:{name:"void"}}},description:""},showStats:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showActions:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};export{D as P};
