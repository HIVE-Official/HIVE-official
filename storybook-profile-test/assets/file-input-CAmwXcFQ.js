import{j as e}from"./jsx-runtime-B9GTzLod.js";import{R as l}from"./index-BMjrbHXN.js";import{c as d}from"./utils-CytzSlOG.js";import{U as z}from"./upload-Bikc-bYU.js";import{X}from"./x-DmZh90ps.js";import{I as Z}from"./image-CGtD2XV-.js";import{F as J}from"./file-text-B72BLrv5.js";import{c as Q}from"./createLucideIcon-DtX30ipI.js";/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=Q("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),g={sm:{dropzone:"p-4 text-sm",button:"px-3 py-2 text-sm",preview:"w-16 h-16"},md:{dropzone:"p-6 text-base",button:"px-4 py-2.5 text-sm",preview:"w-20 h-20"},lg:{dropzone:"p-8 text-lg",button:"px-6 py-3 text-base",preview:"w-24 h-24"}},L=t=>{if(t===0)return"0 Bytes";const n=1024,o=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,c)).toFixed(2))+" "+o[c]},ee=t=>t.type.startsWith("image/")?e.jsx(Z,{className:"w-full h-full"}):t.type.includes("text/")||t.type.includes("document")?e.jsx(J,{className:"w-full h-full"}):e.jsx(Y,{className:"w-full h-full"}),v=l.forwardRef(({accept:t,multiple:n=!1,maxSize:o,maxFiles:c,preview:w=!1,variant:I="default",size:h="md",error:u,label:U,helperText:_,onFileSelect:F,onFileRemove:D,showFileList:M=!0,className:$,disabled:a,...k},O)=>{const[m,R]=l.useState([]),[q,T]=l.useState(!1),[p,B]=l.useState([]),f=l.useRef(null);l.useImperativeHandle(O,()=>f.current);const V=r=>o&&r.size>o?`File size must be less than ${L(o)}`:null,j=r=>{if(!r)return;const s=Array.from(r),i=[],x=[];if(s.forEach(y=>{const b=V(y);b?x.push(`${y.name}: ${b}`):i.push(y)}),c&&m.length+i.length>c){x.push(`Maximum ${c} files allowed`);return}const N=n?[...m,...i]:i.slice(0,1);if(R(N),w){const y=N.map(b=>b.type.startsWith("image/")?URL.createObjectURL(b):"");B(y)}F==null||F(r)},A=r=>{r.preventDefault(),T(!1),a||j(r.dataTransfer.files)},E=r=>{r.preventDefault(),a||T(!0)},H=r=>{r.preventDefault(),T(!1)},W=r=>{const s=m.filter((i,x)=>x!==r);if(R(s),w){const i=p.filter((x,N)=>N!==r);p[r]&&URL.revokeObjectURL(p[r]),B(i)}D==null||D(r)},C=()=>{var r;a||(r=f.current)==null||r.click()};l.useEffect(()=>()=>{p.forEach(r=>{r&&URL.revokeObjectURL(r)})},[]);const G=()=>e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:d("relative","border-2 border-dashed border-[var(--hive-border-primary)]","rounded-xl","transition-all duration-200 ease-out",g[h].dropzone,q&&"border-[var(--hive-brand-gold)] bg-[var(--hive-brand-secondary)]/5",u&&"border-[var(--hive-status-error)]",a&&"opacity-50 cursor-not-allowed"),children:[e.jsx("input",{ref:f,type:"file",accept:t,multiple:n,disabled:a,onChange:r=>j(r.target.files),className:"sr-only",...k}),e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"mx-auto h-8 w-8 text-[var(--hive-text-secondary)] mb-2"}),e.jsx("p",{className:"text-[var(--hive-text-primary)] font-medium",children:"Click to upload or drag and drop"}),t&&e.jsx("p",{className:"text-[var(--hive-text-secondary)] text-sm mt-1",children:t.split(",").join(", ")}),o&&e.jsxs("p",{className:"text-[var(--hive-text-secondary)] text-sm",children:["Max size: ",L(o)]})]})]})}),K=()=>e.jsxs("div",{className:d("border-2 border-dashed rounded-xl","transition-all duration-200 ease-out","cursor-pointer",g[h].dropzone,q?"border-[var(--hive-brand-gold)] bg-[var(--hive-brand-secondary)]/5":"border-[var(--hive-border-primary)] hover:border-[var(--hive-brand-gold)] hover:bg-[var(--hive-background-interactive)]",u&&"border-[var(--hive-status-error)]",a&&"opacity-50 cursor-not-allowed pointer-events-none"),onDrop:A,onDragOver:E,onDragLeave:H,onClick:C,children:[e.jsx("input",{ref:f,type:"file",accept:t,multiple:n,disabled:a,onChange:r=>j(r.target.files),className:"sr-only",...k}),e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"mx-auto h-12 w-12 text-[var(--hive-text-secondary)] mb-4"}),e.jsx("p",{className:"text-[var(--hive-text-primary)] font-medium mb-2",children:q?"Drop files here":"Drag & drop files here"}),e.jsxs("p",{className:"text-[var(--hive-text-secondary)]",children:["or ",e.jsx("span",{className:"text-[var(--hive-brand-secondary)] font-medium",children:"browse"})," to choose files"]})]})]}),P=()=>e.jsxs("button",{type:"button",onClick:C,disabled:a,className:d("inline-flex items-center gap-2","border border-[var(--hive-border-primary)]","rounded-xl","bg-[var(--hive-background-secondary)]","text-[var(--hive-text-primary)]","font-medium","transition-all duration-200 ease-out","hover:bg-[var(--hive-background-interactive)] hover:border-[var(--hive-brand-gold)]","focus:outline-none focus:ring-2 focus:ring-[var(--hive-brand-gold)]/20 focus:border-[var(--hive-brand-gold)]","disabled:opacity-50 disabled:cursor-not-allowed",g[h].button,u&&"border-[var(--hive-status-error)]"),children:[e.jsx("input",{ref:f,type:"file",accept:t,multiple:n,disabled:a,onChange:r=>j(r.target.files),className:"sr-only",...k}),e.jsx(z,{className:"w-4 h-4"}),"Choose Files"]}),S=()=>!M||m.length===0?null:e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-[var(--hive-text-primary)]",children:["Selected Files (",m.length,")"]}),e.jsx("div",{className:"space-y-2",children:m.map((r,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--hive-background-secondary)] rounded-lg border border-[var(--hive-border-primary)]",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[w&&p[s]?e.jsx("img",{src:p[s],alt:r.name,className:d("object-cover rounded border border-[var(--hive-border-primary)]",g[h].preview)}):e.jsx("div",{className:d("flex items-center justify-center","bg-[var(--hive-background-tertiary)] rounded border border-[var(--hive-border-primary)]","text-[var(--hive-text-secondary)]",g[h].preview),children:ee(r)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-[var(--hive-text-primary)] truncate",children:r.name}),e.jsx("p",{className:"text-xs text-[var(--hive-text-secondary)]",children:L(r.size)})]})]}),e.jsx("button",{type:"button",onClick:()=>W(s),className:"ml-2 p-1 text-[var(--hive-text-secondary)] hover:text-[var(--hive-status-error)] transition-colors duration-200","aria-label":`Remove ${r.name}`,children:e.jsx(X,{className:"w-4 h-4"})})]},`${r.name}-${s}`))})]});return e.jsxs("div",{className:d("space-y-2",$),children:[U&&e.jsx("label",{className:"block text-sm font-medium text-[var(--hive-text-primary)]",children:U}),I==="dropzone"&&K(),I==="button"&&P(),I==="default"&&G(),(u||_)&&e.jsx("p",{className:d("text-xs",u?"text-[var(--hive-status-error)]":"text-[var(--hive-text-secondary)]"),children:u||_}),S()]})});v.displayName="FileInput";const re=t=>e.jsx(v,{accept:"image/*",preview:!0,...t}),te=t=>e.jsx(v,{accept:".pdf,.doc,.docx,.txt,.rtf",...t}),ae=t=>e.jsx(v,{variant:"dropzone",...t}),se=t=>e.jsx(v,{variant:"button",...t});v.__docgenInfo={description:"",methods:[],displayName:"FileInput",props:{accept:{required:!1,tsType:{name:"string"},description:""},multiple:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},maxSize:{required:!1,tsType:{name:"number"},description:""},maxFiles:{required:!1,tsType:{name:"number"},description:""},preview:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'dropzone' | 'button'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'dropzone'"},{name:"literal",value:"'button'"}]},description:"",defaultValue:{value:"'default'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}},error:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},helperText:{required:!1,tsType:{name:"string"},description:""},onFileSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: FileList | null) => void",signature:{arguments:[{type:{name:"union",raw:"FileList | null",elements:[{name:"FileList"},{name:"null"}]},name:"files"}],return:{name:"void"}}},description:""},onFileRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""},showFileList:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}},composes:["Omit"]};re.__docgenInfo={description:"",methods:[],displayName:"ImageInput"};te.__docgenInfo={description:"",methods:[],displayName:"DocumentInput"};ae.__docgenInfo={description:"",methods:[],displayName:"DropzoneInput"};se.__docgenInfo={description:"",methods:[],displayName:"ButtonFileInput"};export{se as B,ae as D,v as F,re as I,te as a};
