import{j as e}from"./jsx-runtime-B9GTzLod.js";import{r as f}from"./index-BMjrbHXN.js";import{m as s,A as w}from"./framer-motion-proxy-DUdIJl-L.js";import{c as n}from"./utils-CytzSlOG.js";const _={message:{icon:"ðŸ’¬",color:"from-blue-500/20 to-blue-600/10",border:"border-blue-500/30",label:"Message"},event:{icon:"ðŸ“…",color:"from-purple-500/20 to-purple-600/10",border:"border-purple-500/30",label:"Event"},announcement:{icon:"ðŸ“¢",color:"from-gold/20 to-champagne/10",border:"border-gold/30",label:"Announcement"},assignment:{icon:"ðŸ“",color:"from-red-500/20 to-red-600/10",border:"border-red-500/30",label:"Assignment"},social:{icon:"ðŸŽ‰",color:"from-pink-500/20 to-pink-600/10",border:"border-pink-500/30",label:"Social"},achievement:{icon:"ðŸ†",color:"from-gold/20 to-champagne/10",border:"border-gold/30",label:"Achievement"},space_join:{icon:"ðŸ›ï¸",color:"from-emerald-500/20 to-emerald-600/10",border:"border-emerald-500/30",label:"Space Activity"},tool_created:{icon:"ðŸ”§",color:"from-gold/20 to-champagne/10",border:"border-gold/30",label:"Tool Created"}},A=({activities:r,isLoading:m=!1,variant:T="default",showFilters:C=!1,maxItems:i=8,onActivityClick:d,onViewAll:c,onFilterChange:D,className:p})=>{const[F,k]=f.useState([]),[v,u]=f.useState(null),j=a=>{const l=new Date,o=new Date(a),t=Math.floor((l.getTime()-o.getTime())/(1e3*60));return t<1?"Just now":t<60?`${t}m ago`:t<1440?`${Math.floor(t/60)}h ago`:t<10080?`${Math.floor(t/1440)}d ago`:`${Math.floor(t/10080)}w ago`},N=(r==null?void 0:r.slice(0,i))??[],y=((r==null?void 0:r.length)??0)>i;return m?e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:n("relative overflow-hidden rounded-2xl","bg-gradient-to-br from-charcoal/90 via-charcoal/80 to-graphite/90","backdrop-blur-xl border border-steel/10","shadow-[inset_0_1px_0_0_var(--hive-interactive-hover)]","p-6",p),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-steel/20 rounded animate-pulse"}),[...Array(4)].map((a,l)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-steel/20 rounded-xl animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-steel/20 rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-steel/20 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-3 bg-steel/20 rounded animate-pulse w-1/2"})]})]},l))]})}):e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.23,1,.32,1]},className:n("relative overflow-hidden rounded-2xl","bg-gradient-to-br from-charcoal/90 via-charcoal/80 to-graphite/90","backdrop-blur-xl border border-steel/10","shadow-[inset_0_1px_0_0_var(--hive-interactive-hover)]","hover:border-steel/20 hover:shadow-[inset_0_1px_0_0_var(--hive-interactive-active)]","transition-all duration-300 ease-hive-smooth","p-6",p),children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gold/10 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-radial from-gold/20 to-transparent rounded-full blur-xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-radial from-platinum/10 to-transparent rounded-full blur-lg"})]}),e.jsxs("div",{className:"relative z-10 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-gold/20 to-champagne/10 border border-gold/20 flex items-center justify-center",children:e.jsx("span",{className:"text-gold text-lg",children:"âš¡"})}),e.jsx("h3",{className:"text-platinum font-bold text-xl tracking-tight",children:"Campus Activity"})]}),c&&e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"text-gold hover:text-champagne transition-colors duration-200 text-sm font-medium",children:"View All"})]}),e.jsx("p",{className:"text-mercury text-sm",children:"Recent campus activity from your spaces"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-px bg-gradient-to-b from-steel/30 via-steel/20 to-transparent"}),e.jsx("div",{className:"space-y-4",children:e.jsx(w,{children:N.map((a,l)=>{var t,h,x,g,b;const o=_[a.type];return e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:l*.1,duration:.4,ease:[.23,1,.32,1]},onHoverStart:()=>u(a.id),onHoverEnd:()=>u(null),onClick:()=>d==null?void 0:d(a.id),className:n("relative group cursor-pointer rounded-xl p-4 pl-16","bg-gradient-to-br from-charcoal/40 via-charcoal/30 to-graphite/40","border border-steel/10 backdrop-blur-sm","hover:border-steel/20 hover:from-charcoal/60 hover:to-graphite/60","transition-all duration-300 ease-hive-smooth","hover:shadow-lg",a.isUnread&&"ring-1 ring-gold/20"),children:[e.jsx("div",{className:n("absolute left-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-xl","flex items-center justify-center border-2 bg-gradient-to-br from-charcoal to-graphite",o.border,"group-hover:scale-110 transition-transform duration-300"),children:e.jsx("span",{className:"text-sm",children:o.icon})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:n("font-semibold truncate text-sm",a.priority==="high"?"text-gold":"text-platinum"),children:a.title}),a.isUnread&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-gold shadow-[0_0_4px_color-mix(in_srgb,var(--hive-brand-secondary)_50%,transparent)]"})]}),a.content&&e.jsx("p",{className:"text-mercury text-sm mb-2 line-clamp-2",children:a.content}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-steel",children:[a.author&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:a.author.name}),e.jsx("span",{children:"â€¢"})]}),a.space&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-mercury",children:a.space.name}),e.jsx("span",{children:"â€¢"})]}),e.jsx("span",{children:j(a.timestamp)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-steel",children:[((t=a.metadata)==null?void 0:t.replyCount)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"ðŸ’¬"}),e.jsx("span",{children:a.metadata.replyCount})]}),((h=a.metadata)==null?void 0:h.likes)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"â¤ï¸"}),e.jsx("span",{children:a.metadata.likes})]}),((x=a.metadata)==null?void 0:x.attachmentCount)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"ðŸ“Ž"}),e.jsx("span",{children:a.metadata.attachmentCount})]})]})]}),(((g=a.metadata)==null?void 0:g.dueDate)||((b=a.metadata)==null?void 0:b.eventDate))&&e.jsx("div",{className:"mt-2 pt-2 border-t border-steel/10",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-gold",children:a.metadata.dueDate?"â°":"ðŸ“…"}),e.jsxs("span",{className:"text-mercury",children:[a.metadata.dueDate?"Due":"Event",": "," ",new Date(a.metadata.dueDate||a.metadata.eventDate).toLocaleDateString()]})]})})]}),e.jsx(s.div,{className:n("absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",`bg-gradient-to-br ${o.color}`),animate:v===a.id?{scale:1.02}:{scale:1},transition:{duration:.2,ease:[.23,1,.32,1]}})]},a.id)})})}),y&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center pt-4 border-t border-steel/10 mt-4",children:e.jsxs("button",{onClick:c,className:"text-mercury hover:text-platinum transition-colors duration-200 text-sm",children:["+",((r==null?void 0:r.length)??0)-i," more activities"]})}),((r==null?void 0:r.length)??0)===0&&!m&&e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-charcoal/60 to-graphite/60 border border-steel/20 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"âš¡"})}),e.jsx("h4",{className:"text-platinum font-medium mb-2",children:"No Recent Activity"}),e.jsx("p",{className:"text-mercury text-sm",children:"Join more spaces to see campus activity here"})]})]})]})};A.__docgenInfo={description:"",methods:[],displayName:"CampusActivityFeed",props:{activities:{required:!0,tsType:{name:"Array",elements:[{name:"CampusActivity"}],raw:"CampusActivity[]"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'compact' | 'detailed'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'compact'"},{name:"literal",value:"'detailed'"}]},description:"",defaultValue:{value:"'default'",computed:!1}},showFilters:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},maxItems:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"8",computed:!1}},onActivityClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(activityId: string) => void",signature:{arguments:[{type:{name:"string"},name:"activityId"}],return:{name:"void"}}},description:""},onViewAll:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFilterChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(filters: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"filters"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{A as C};
