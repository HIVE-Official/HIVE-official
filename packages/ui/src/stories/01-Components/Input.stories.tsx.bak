import type { Meta, StoryObj } from '@storybook/react';
import { Input } from '../../components/input';
import { Search, Mail, Lock, User, Phone } from 'lucide-react';

const meta = {
  title: 'Components/Input',
  component: Input,
  parameters: {
    layout: 'centered',
    docs: {
      description: {
        component: `
# HIVE Input System

Clean chip-style inputs for tech social platform with minimal gold usage.

## Design Principles:
- **Chip Style**: Modern, rounded inputs that feel native on mobile and desktop
- **Minimal Gold**: Gold only for focus states and success feedback
- **Modular**: Easy to extend with new variants and features
- **Accessible**: Built-in support for labels, hints, errors, and states

## Core Variants:
- **Default**: Clean chip with minimal gold focus
- **Filled**: Elevated chip surface
- **Floating**: Chip with floating label animation
- **Search**: Pill-shaped for search functionality
- **Minimal**: Ghost style for subtle inputs

## Features:
- Floating labels
- Icon support (left and right)
- Password toggle
- Loading states
- Error/success states
- Helper text
        `,
      }
    }
  }
        tags: ['autodocs'],
  argTypes: {
    variant: {
      control: 'select',
      options: ['default', 'filled', 'floating', 'search', 'minimal'],
    }
    inputSize: {
      control: 'select',
      options: ['sm', 'md', 'lg'],
    }
    state: {
      control: 'select',
      options: ['default', 'error', 'success', 'loading'],
    }
    loading: {
      control: 'boolean',
    }
    disabled: {
      control: 'boolean',
    }
  }
} satisfies Meta<typeof Input>;

export default meta;
type Story = StoryObj<typeof meta>;

export const Default: Story = {
  args: {
    placeholder: 'Enter your campus email...',
    variant: 'default',
  }
};

export const WithIcon: Story = {
  args: {
    placeholder: 'Search campus...',
    variant: 'default',
    icon: <Search className="w-4 h-4" />,
  }
};

export const FloatingLabel: Story = {
  args: {
    variant: 'floating',
    label: 'Campus Email',
    icon: <Mail className="w-4 h-4" />,
  }
};

export const Password: Story = {
  args: {
    type: 'password',
    placeholder: 'Enter password...',
    showPasswordToggle: true,
    variant: 'default',
    icon: <Lock className="w-4 h-4" />,
  }
};

export const AllVariants: Story = {
  render: () => (
    <div className="min-h-screen bg-black p-8">
      <div className="max-w-4xl mx-auto space-y-12">
        <div className="text-center space-y-4 mb-12">
          <h1 className="text-4xl font-bold text-white">HIVE Input System</h1>
          <p className="text-white/70 text-lg">Chip-style inputs for tech social platform</p>
        </div>

        {/* Input Variants */}
        <div className="space-y-8">
          <div className="space-y-4">
            <h2 className="text-2xl font-semibold text-white">Input Variants</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-4">
                <div className="space-y-2">
                  <label className="text-sm font-medium text-white/80">Default</label>
                  <Input 
                    variant="primary" 
                    placeholder="Enter campus email..."
                    icon={<Mail className="w-4 h-4" />}
                  />
                </div>
                
                <div className="space-y-2">
                  <label className="text-sm font-medium text-white/80">Filled</label>
                  <Input 
                    variant="filled" 
                    placeholder="Your full name..."
                    icon={<User className="w-4 h-4" />}
                  />
                </div>
                
                <div className="space-y-2">
                  <label className="text-sm font-medium text-white/80">Search</label>
                  <Input 
                    variant="search" 
                    placeholder="Search spaces, people, events..."
                    icon={<Search className="w-4 h-4" />}
                  />
                </div>
              </div>
              
              <div className="space-y-4">
                <div className="space-y-2">
                  <label className="text-sm font-medium text-white/80">Floating Label</label>
                  <Input 
                    variant="floating" 
                    label="Campus Phone Number"
                    icon={<Phone className="w-4 h-4" />}
                  />
                </div>
                
                <div className="space-y-2">
                  <label className="text-sm font-medium text-white/80">Minimal</label>
                  <Input 
                    variant="minimal" 
                    placeholder="Bio or status..."
                  />
                </div>
                
                <div className="space-y-2">
                  <label className="text-sm font-medium text-white/80">Password</label>
                  <Input 
                    type="password" 
                    placeholder="Enter password..."
                    showPasswordToggle
                    icon={<Lock className="w-4 h-4" />}
                  />
                </div>
              </div>
            </div>
          </div>

          {/* Sizes */}
          <div className="space-y-4">
            <h2 className="text-2xl font-semibold text-white">Sizes</h2>
            <div className="space-y-3">
              <Input 
                inputSize="sm" 
                placeholder="Small input..."
                icon={<Search className="w-4 h-4" />}
              />
              <Input 
                inputSize="md" 
                placeholder="Medium input (default)..."
                icon={<Search className="w-4 h-4" />}
              />
              <Input 
                inputSize="lg" 
                placeholder="Large input..."
                icon={<Search className="w-4 h-4" />}
              />
            </div>
          </div>

          {/* States */}
          <div className="space-y-4">
            <h2 className="text-2xl font-semibold text-white">Input States</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-4">
                <Input 
                  placeholder="Normal state..."
                  hint="This is a helpful hint"
                  icon={<Mail className="w-4 h-4" />}
                />
                
                <Input 
                  placeholder="Success state..."
                  success="Email verified successfully!"
                  state="success"
                  icon={<Mail className="w-4 h-4" />}
                />
              </div>
              
              <div className="space-y-4">
                <Input 
                  placeholder="Error state..."
                  error="Please enter a valid campus email"
                  state="error"
                  icon={<Mail className="w-4 h-4" />}
                />
                
                <Input 
                  placeholder="Loading state..."
                  loading
                  state="loading"
                  icon={<Search className="w-4 h-4" />}
                />
              </div>
            </div>
          </div>

          {/* Real-world Examples */}
          <div className="space-y-4">
            <h2 className="text-2xl font-semibold text-white">Campus Use Cases</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-4">
                <h3 className="text-lg font-medium text-white/80">Authentication</h3>
                <div className="space-y-3">
                  <Input 
                    variant="floating"
                    label="Campus Email"
                    icon={<Mail className="w-4 h-4" />}
                    hint="Use your .edu email address"
                  />
                  <Input 
                    type="password"
                    variant="floating"
                    label="Password"
                    showPasswordToggle
                    icon={<Lock className="w-4 h-4" />}
                  />
                </div>
              </div>
              
              <div className="space-y-4">
                <h3 className="text-lg font-medium text-white/80">Campus Search</h3>
                <div className="space-y-3">
                  <Input 
                    variant="search"
                    placeholder="Search spaces..."
                    icon={<Search className="w-4 h-4" />}
                  />
                  <Input 
                    variant="search"
                    placeholder="Find study groups..."
                    icon={<Search className="w-4 h-4" />}
                  />
                </div>
              </div>
            </div>
          </div>

          {/* Floating Label Demo */}
          <div className="space-y-4">
            <h2 className="text-2xl font-semibold text-white">Floating Label Animation</h2>
            <p className="text-white/60">Click or type to see labels animate</p>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <Input 
                variant="floating"
                label="Your Full Name"
                icon={<User className="w-4 h-4" />}
              />
              <Input 
                variant="floating"
                label="Campus Email"
                icon={<Mail className="w-4 h-4" />}
              />
              <Input 
                variant="floating"
                label="Phone Number"
                icon={<Phone className="w-4 h-4" />}
              />
              <Input 
                variant="floating"
                label="Create Password"
                type="password"
                showPasswordToggle
                icon={<Lock className="w-4 h-4" />}
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  ),
};

export const AuthenticationForm: Story = {
  render: () => (
    <div className="min-h-screen bg-black p-8 flex items-center justify-center">
      <div className="w-full max-w-md space-y-6">
        <div className="text-center space-y-2">
          <h1 className="text-3xl font-bold text-white">Join HIVE</h1>
          <p className="text-white/60">Enter your campus credentials</p>
        </div>
        
        <div className="space-y-4">
          <Input 
            variant="floating"
            label="Campus Email"
            icon={<Mail className="w-4 h-4" />}
            hint="Use your .edu email address"
          />
          <Input 
            variant="floating"
            label="Full Name"
            icon={<User className="w-4 h-4" />}
          />
          <Input 
            type="password"
            variant="floating"
            label="Create Password"
            showPasswordToggle
            icon={<Lock className="w-4 h-4" />}
            hint="At least 8 characters"
          />
        </div>
      </div>
    </div>
  ),
};

export const SearchExamples: Story = {
  render: () => (
    <div className="min-h-screen bg-black p-8">
      <div className="max-w-2xl mx-auto space-y-8">
        <div className="text-center space-y-4">
          <h1 className="text-3xl font-bold text-white">Campus Search</h1>
          <p className="text-white/60">Find anything on your campus</p>
        </div>
        
        <div className="space-y-4">
          <Input 
            variant="search"
            placeholder="Search spaces, people, events..."
            icon={<Search className="w-4 h-4" />}
            inputSize="lg"
          />
          
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <Input 
              variant="search"
              placeholder="Find study groups..."
              icon={<Search className="w-4 h-4" />}
            />
            <Input 
              variant="search"
              placeholder="Search events..."
              icon={<Search className="w-4 h-4" />}
            />
          </div>
        </div>
      </div>
    </div>
  ),
};