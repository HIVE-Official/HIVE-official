/* Import HIVE Design System Tokens - Single Source of Truth */
@import "../../tokens/hive-tokens-generated.css";

@import "tailwindcss";
@import "tailwindcss/preflight";

@layer base {
  /* === RADIX UI CSS VARIABLES ===
   * Required for Radix UI components compatibility
   * Maps HIVE tokens to expected CSS variables
   */
  :root {
    --background: var(--hive-background-primary);
    --foreground: var(--hive-text-primary);
    --card: var(--hive-background-secondary);
    --card-foreground: var(--hive-text-primary);
    --popover: var(--hive-background-secondary);
    --popover-foreground: var(--hive-text-primary);
    --primary: var(--hive-brand-primary);
    --primary-foreground: var(--hive-text-inverse);
    --secondary: var(--hive-background-interactive);
    --secondary-foreground: var(--hive-text-primary);
    --muted: var(--hive-background-tertiary);
    --muted-foreground: var(--hive-text-muted);
    --accent: var(--hive-brand-accent);
    --accent-foreground: var(--hive-text-inverse);
    --destructive: var(--hive-status-error);
    --destructive-foreground: var(--hive-text-primary);
    --border: var(--hive-border-primary);
    --input: var(--hive-border-primary);
    --ring: var(--hive-interactive-focus);
  }

  /* === GLOBAL STYLES === */
  * {
    border-color: var(--hive-border-default);
  }

  body {
    background-color: var(--hive-background-primary);
    color: var(--hive-text-primary);
    font-family: var(--hive-font-family-sans, 'Geist Sans', system-ui, sans-serif);
  }

  /* === UTILITY CLASSES INHERITANCE === */
  /* Import utility classes from tokens package */
  .hive-glass {
    background: var(--hive-overlay-glass);
    backdrop-filter: blur(12px) saturate(180%);
    border: 1px solid var(--hive-overlay-glass);
  }

  .hive-interactive {
    transition: all var(--hive-duration-smooth, 200ms) var(--hive-easing-liquid, ease);
    will-change: transform, box-shadow;
  }

  .hive-interactive:hover {
    transform: translateY(-1px) scale(1.02);
  }

  /* === WCAG 2.2 FOCUS INDICATORS === */
  /* Enhanced focus appearance for keyboard navigation */
  *:focus {
    outline: none; /* Remove default outline */
  }

  *:focus-visible {
    outline: 2px solid var(--hive-brand-primary);
    outline-offset: 2px;
    border-radius: 4px;
    /* WCAG 2.2: Focus Appearance (Enhanced) - minimum 2px solid */
  }

  /* High contrast focus for interactive elements */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [role="button"]:focus-visible,
  [role="link"]:focus-visible,
  [tabindex]:focus-visible {
    outline: 2px solid var(--hive-brand-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.2);
  }

  /* === REDUCED MOTION SUPPORT === */
  /* WCAG 2.1: Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }

    /* Keep focus indicators visible */
    *:focus-visible {
      transition: outline 0ms, box-shadow 0ms;
    }
  }

  /* === SCREEN READER UTILITIES === */
  /* Visually hidden but accessible to screen readers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Show on focus (for skip links) */
  .sr-only:focus,
  .sr-only:focus-visible,
  .focus\:not-sr-only:focus,
  .focus\:not-sr-only:focus-visible {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}