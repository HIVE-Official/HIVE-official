/* Import HIVE Design System Tokens - Single Source of Truth */
@import "../../tokens/hive-tokens-generated.css";

@import "tailwindcss";
@import "tailwindcss/preflight";

@layer base {
  /* === RADIX UI + SHADCN CSS VARIABLES ===
   * Vercel Geist-inspired: Monochrome base + selective gold accent
   * True black (#000) for OLED optimization
   * Minimal borders, high contrast, clean hierarchy
   */
  :root {
    /* Base colors - True black foundation */
    --background: #000000;
    --foreground: #FFFFFF;

    /* Cards & surfaces - Subtle elevation */
    --card: #171717;
    --card-foreground: #FFFFFF;
    --popover: #171717;
    --popover-foreground: #FFFFFF;

    /* Primary brand - Gold accent (selective use) */
    --primary: #FFD700;
    --primary-foreground: #000000;

    /* Secondary - Minimal gray interactive states */
    --secondary: #262626;
    --secondary-foreground: #FFFFFF;

    /* Muted - Lower hierarchy content */
    --muted: #262626;
    --muted-foreground: #A3A3A3;

    /* Accent - Reserved for interactive highlights */
    --accent: #262626;
    --accent-foreground: #FFFFFF;

    /* Destructive - Error states */
    --destructive: #FF3737;
    --destructive-foreground: #FFFFFF;

    /* Borders - Subtle, minimal chrome (Geist principle) */
    --border: rgba(255, 255, 255, 0.08);
    --input: rgba(255, 255, 255, 0.12);

    /* Focus ring - Gold accent for accessibility */
    --ring: #FFD700;

    /* Radius - Consistent, minimal */
    --radius: 0.5rem;
  }

  /* === GLOBAL STYLES === */
  * {
    border-color: var(--hive-border-default);
  }

  body {
    background-color: var(--hive-background-primary);
    color: var(--hive-text-primary);
    font-family: var(--hive-font-family-sans, 'Geist Sans', system-ui, sans-serif);
  }

  /* === UTILITY CLASSES INHERITANCE === */
  /* Import utility classes from tokens package */
  .hive-glass {
    background: var(--hive-overlay-glass);
    backdrop-filter: blur(12px) saturate(180%);
    border: 1px solid var(--hive-overlay-glass);
  }

  .hive-interactive {
    transition: all var(--hive-duration-smooth, 200ms) var(--hive-easing-liquid, ease);
    will-change: transform, box-shadow;
  }

  .hive-interactive:hover {
    transform: translateY(-1px) scale(1.02);
  }

  /* === WCAG 2.2 FOCUS INDICATORS === */
  /* Enhanced focus appearance for keyboard navigation */
  *:focus {
    outline: none; /* Remove default outline */
  }

  *:focus-visible {
    outline: 2px solid var(--hive-brand-primary);
    outline-offset: 2px;
    border-radius: 4px;
    /* WCAG 2.2: Focus Appearance (Enhanced) - minimum 2px solid */
  }

  /* High contrast focus for interactive elements */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [role="button"]:focus-visible,
  [role="link"]:focus-visible,
  [tabindex]:focus-visible {
    outline: 2px solid var(--hive-brand-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.2);
  }

  /* === REDUCED MOTION SUPPORT === */
  /* WCAG 2.1: Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }

    /* Keep focus indicators visible */
    *:focus-visible {
      transition: outline 0ms, box-shadow 0ms;
    }
  }

  /* === SCREEN READER UTILITIES === */
  /* Visually hidden but accessible to screen readers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Show on focus (for skip links) */
  .sr-only:focus,
  .sr-only:focus-visible,
  .focus\:not-sr-only:focus,
  .focus\:not-sr-only:focus-visible {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}