import type { Meta, StoryObj } from '@storybook/react';
import { 
  DropdownMenu, 
  DropdownMenuContent, 
  DropdownMenuItem, 
  DropdownMenuLabel, 
  DropdownMenuSeparator, 
  DropdownMenuShortcut, 
  DropdownMenuTrigger,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuGroup
} from '../../components/dropdown-menu';
import { Button } from '../../atomic/atoms/button-enhanced';
import { Avatar } from '../../components/avatar';
import { Badge } from '../../components/badge';
import { MoreHorizontal, Settings, User, LogOut, Plus, Edit, Trash2, Share, Copy, Archive, Download, Upload, Bell, Shield, Palette, Moon, Sun, Monitor, Users, Calendar, BookOpen, MessageCircle, Star, Flag, Eye, EyeOff } from 'lucide-react';

const meta = {
  title: 'Components/DropdownMenu',
  component: DropdownMenu,
  parameters: {
    layout: 'centered',
    docs: {
      description: {
        component: `
# HIVE Dropdown Menu System

Clean, accessible dropdown menus for tech social platform with minimal gold usage.

## Design Principles:
- **Tech Social Feel**: Clean, modern dropdown styling
- **Minimal Gold**: Gold only for accent items and focus states
- **Rich Interactions**: Support for checkboxes, radio groups, and submenus
- **Accessible**: Full keyboard navigation and screen reader support

## Variants:
- **Default**: Standard dropdown with white border
- **Elevated**: Enhanced shadow and border for important menus
- **Minimal**: Subtle styling with backdrop blur

## Features:
- Keyboard shortcuts display
- Checkbox and radio item support
- Nested submenus
- Separators and labels
- Icon support
- Custom styling variants

## Use Cases:
- Context menus
- User profile actions
- Settings panels
- Quick actions
- Content management
        `,
      }
    }
  }
        tags: ['autodocs'],
} satisfies Meta<typeof DropdownMenu>;

export default meta;
type Story = StoryObj<typeof meta>;

export const Default: Story = {
  render: () => (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="secondary">
          <Settings className="w-4 h-4 mr-2" />
          Options
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent>
        <DropdownMenuLabel>Campus Actions</DropdownMenuLabel>
        <DropdownMenuSeparator />
        <DropdownMenuItem>
          <User className="mr-2 h-4 w-4" />
          <span>Profile</span>
          <DropdownMenuShortcut>⇧⌘P</DropdownMenuShortcut>
        </DropdownMenuItem>
        <DropdownMenuItem>
          <Settings className="mr-2 h-4 w-4" />
          <span>Settings</span>
          <DropdownMenuShortcut>⌘,</DropdownMenuShortcut>
        </DropdownMenuItem>
        <DropdownMenuSeparator />
        <DropdownMenuItem variant="destructive">
          <LogOut className="mr-2 h-4 w-4" />
          <span>Log out</span>
          <DropdownMenuShortcut>⇧⌘Q</DropdownMenuShortcut>
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  ),
};

export const AllVariants: Story = {
  render: () => (
    <div className="min-h-screen bg-black p-8">
      <div className="max-w-6xl mx-auto space-y-12">
        <div className="text-center space-y-4">
          <h1 className="text-3xl font-bold text-white">HIVE Dropdown Menu System</h1>
          <p className="text-white/60">Rich context menus for campus interactions</p>
        </div>

        {/* Basic Variants */}
        <div className="space-y-8">
          <div>
            <h2 className="text-xl font-semibold text-white mb-4">Menu Variants</h2>
            <div className="flex flex-wrap gap-4">
              
              {/* Default */}
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="secondary">Default Menu</Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="primary">
                  <DropdownMenuLabel>Campus Options</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>View Profile</DropdownMenuItem>
                  <DropdownMenuItem>Edit Settings</DropdownMenuItem>
                  <DropdownMenuItem variant="destructive">Sign Out</DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>

              {/* Elevated */}
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="secondary">Elevated Menu</Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="elevated">
                  <DropdownMenuLabel>Important Actions</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>Critical Action</DropdownMenuItem>
                  <DropdownMenuItem>Important Task</DropdownMenuItem>
                  <DropdownMenuItem variant="secondary">Special Feature</DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>

              {/* Minimal */}
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost">Minimal Menu</Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="minimal">
                  <DropdownMenuItem>Quick Action</DropdownMenuItem>
                  <DropdownMenuItem>Simple Task</DropdownMenuItem>
                  <DropdownMenuItem>Basic Option</DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>
          </div>
        </div>

        {/* Campus Use Cases */}
        <div className="space-y-8">
          <h2 className="text-xl font-semibold text-white">Campus Use Cases</h2>
          
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            
            {/* User Profile Menu */}
            <div className="space-y-2">
              <h3 className="text-lg font-medium text-white">User Profile Menu</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost" className="h-auto p-2">
                    <div className="flex items-center gap-3">
                      <Avatar className="w-8 h-8" />
                      <div className="text-left">
                        <div className="font-medium text-white">Alex Chen</div>
                        <div className="text-white/60 text-sm">CS Senior</div>
                      </div>
                    </div>
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="elevated" className="w-56">
                  <DropdownMenuLabel>My Account</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <User className="mr-2 h-4 w-4" />
                    <span>View Profile</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Edit className="mr-2 h-4 w-4" />
                    <span>Edit Profile</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Settings className="mr-2 h-4 w-4" />
                    <span>Account Settings</span>
                    <DropdownMenuShortcut>⌘S</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <Bell className="mr-2 h-4 w-4" />
                    <span>Notifications</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Shield className="mr-2 h-4 w-4" />
                    <span>Privacy</span>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem variant="destructive">
                    <LogOut className="mr-2 h-4 w-4" />
                    <span>Sign Out</span>
                    <DropdownMenuShortcut>⇧⌘Q</DropdownMenuShortcut>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>

            {/* Space Management Menu */}
            <div className="space-y-2">
              <h3 className="text-lg font-medium text-white">Space Actions</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost">
                    <MoreHorizontal className="w-4 h-4" />
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="primary" className="w-48">
                  <DropdownMenuLabel>CS Study Hub</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <Eye className="mr-2 h-4 w-4" />
                    <span>View Space</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Edit className="mr-2 h-4 w-4" />
                    <span>Edit Details</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Users className="mr-2 h-4 w-4" />
                    <span>Manage Members</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Share className="mr-2 h-4 w-4" />
                    <span>Share Space</span>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <Archive className="mr-2 h-4 w-4" />
                    <span>Archive</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem variant="destructive">
                    <Trash2 className="mr-2 h-4 w-4" />
                    <span>Delete Space</span>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>

            {/* Content Actions Menu */}
            <div className="space-y-2">
              <h3 className="text-lg font-medium text-white">Post Actions</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost" size="sm">
                    <MoreHorizontal className="w-4 h-4" />
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="minimal" className="w-44">
                  <DropdownMenuItem>
                    <Star className="mr-2 h-4 w-4" />
                    <span>Save Post</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Copy className="mr-2 h-4 w-4" />
                    <span>Copy Link</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Share className="mr-2 h-4 w-4" />
                    <span>Share</span>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <Flag className="mr-2 h-4 w-4" />
                    <span>Report</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <EyeOff className="mr-2 h-4 w-4" />
                    <span>Hide Post</span>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>

            {/* Quick Create Menu */}
            <div className="space-y-2">
              <h3 className="text-lg font-medium text-white">Create New</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="secondary">
                    <Plus className="w-4 h-4 mr-2" />
                    Create
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="elevated" className="w-48">
                  <DropdownMenuLabel>Campus Content</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem variant="secondary">
                    <MessageCircle className="mr-2 h-4 w-4" />
                    <span>Discussion Post</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Calendar className="mr-2 h-4 w-4" />
                    <span>Study Session</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Users className="mr-2 h-4 w-4" />
                    <span>Study Group</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <BookOpen className="mr-2 h-4 w-4" />
                    <span>Resource Share</span>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <Upload className="mr-2 h-4 w-4" />
                    <span>Upload File</span>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>

            {/* Settings with Submenus */}
            <div className="space-y-2">
              <h3 className="text-lg font-medium text-white">Settings Menu</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="secondary">
                    <Settings className="w-4 h-4 mr-2" />
                    Settings
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="elevated" className="w-56">
                  <DropdownMenuLabel>Campus Settings</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  
                  <DropdownMenuSub>
                    <DropdownMenuSubTrigger>
                      <Palette className="mr-2 h-4 w-4" />
                      <span>Appearance</span>
                    </DropdownMenuSubTrigger>
                    <DropdownMenuSubContent>
                      <DropdownMenuRadioGroup value="dark">
                        <DropdownMenuRadioItem value="light">
                          <Sun className="mr-2 h-4 w-4" />
                          Light
                        </DropdownMenuRadioItem>
                        <DropdownMenuRadioItem value="dark">
                          <Moon className="mr-2 h-4 w-4" />
                          Dark
                        </DropdownMenuRadioItem>
                        <DropdownMenuRadioItem value="system">
                          <Monitor className="mr-2 h-4 w-4" />
                          System
                        </DropdownMenuRadioItem>
                      </DropdownMenuRadioGroup>
                    </DropdownMenuSubContent>
                  </DropdownMenuSub>

                  <DropdownMenuItem>
                    <Bell className="mr-2 h-4 w-4" />
                    <span>Notifications</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <Shield className="mr-2 h-4 w-4" />
                    <span>Privacy & Security</span>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <Download className="mr-2 h-4 w-4" />
                    <span>Export Data</span>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>

            {/* Notification Preferences */}
            <div className="space-y-2">
              <h3 className="text-lg font-medium text-white">Notification Settings</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost">
                    <Bell className="w-4 h-4 mr-2" />
                    Notifications
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="primary" className="w-64">
                  <DropdownMenuLabel>Campus Notifications</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  <DropdownMenuCheckboxItem checked>
                    <span>Space Activity</span>
                  </DropdownMenuCheckboxItem>
                  <DropdownMenuCheckboxItem checked>
                    <span>Study Sessions</span>
                  </DropdownMenuCheckboxItem>
                  <DropdownMenuCheckboxItem>
                    <span>Campus Rituals</span>
                  </DropdownMenuCheckboxItem>
                  <DropdownMenuCheckboxItem checked>
                    <span>Direct Messages</span>
                  </DropdownMenuCheckboxItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuLabel>Email Digest</DropdownMenuLabel>
                  <DropdownMenuRadioGroup value="daily">
                    <DropdownMenuRadioItem value="never">Never</DropdownMenuRadioItem>
                    <DropdownMenuRadioItem value="daily">Daily</DropdownMenuRadioItem>
                    <DropdownMenuRadioItem value="weekly">Weekly</DropdownMenuRadioItem>
                  </DropdownMenuRadioGroup>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>
          </div>
        </div>

        {/* Feature Demonstrations */}
        <div className="space-y-8">
          <h2 className="text-xl font-semibold text-white">Advanced Features</h2>
          
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            
            {/* Keyboard Shortcuts */}
            <div className="space-y-4">
              <h3 className="text-lg font-medium text-white">Keyboard Shortcuts</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="secondary">Shortcuts Demo</Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="elevated" className="w-64">
                  <DropdownMenuLabel>Campus Shortcuts</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <span>Quick Search</span>
                    <DropdownMenuShortcut>⌘K</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <span>New Post</span>
                    <DropdownMenuShortcut>⌘N</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <span>Campus Feed</span>
                    <DropdownMenuShortcut>⌘F</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <span>My Spaces</span>
                    <DropdownMenuShortcut>⌘S</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem>
                    <span>Settings</span>
                    <DropdownMenuShortcut>⌘,</DropdownMenuShortcut>
                  </DropdownMenuItem>
                  <DropdownMenuItem variant="destructive">
                    <span>Sign Out</span>
                    <DropdownMenuShortcut>⇧⌘Q</DropdownMenuShortcut>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>

            {/* Complex Nested Menu */}
            <div className="space-y-4">
              <h3 className="text-lg font-medium text-white">Nested Menus</h3>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="secondary">Nested Demo</Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent variant="elevated" className="w-56">
                  <DropdownMenuLabel>Campus Management</DropdownMenuLabel>
                  <DropdownMenuSeparator />
                  
                  <DropdownMenuSub>
                    <DropdownMenuSubTrigger>
                      <Users className="mr-2 h-4 w-4" />
                      <span>Manage Spaces</span>
                    </DropdownMenuSubTrigger>
                    <DropdownMenuSubContent>
                      <DropdownMenuItem>Create New Space</DropdownMenuItem>
                      <DropdownMenuItem>Browse All Spaces</DropdownMenuItem>
                      <DropdownMenuSeparator />
                      <DropdownMenuItem>My Active Spaces</DropdownMenuItem>
                      <DropdownMenuItem>Archived Spaces</DropdownMenuItem>
                    </DropdownMenuSubContent>
                  </DropdownMenuSub>

                  <DropdownMenuSub>
                    <DropdownMenuSubTrigger>
                      <Calendar className="mr-2 h-4 w-4" />
                      <span>Events & Sessions</span>
                    </DropdownMenuSubTrigger>
                    <DropdownMenuSubContent>
                      <DropdownMenuItem>Schedule Study Session</DropdownMenuItem>
                      <DropdownMenuItem>Campus Events</DropdownMenuItem>
                      <DropdownMenuSeparator />
                      <DropdownMenuItem>My Calendar</DropdownMenuItem>
                      <DropdownMenuItem>Upcoming Events</DropdownMenuItem>
                    </DropdownMenuSubContent>
                  </DropdownMenuSub>

                  <DropdownMenuItem>
                    <BookOpen className="mr-2 h-4 w-4" />
                    <span>Resources</span>
                  </DropdownMenuItem>
                  <DropdownMenuItem>
                    <MessageCircle className="mr-2 h-4 w-4" />
                    <span>Discussion Forum</span>
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>
          </div>
        </div>

        {/* Status and Context */}
        <div className="space-y-6">
          <h2 className="text-xl font-semibold text-white">Context Menus</h2>
          <p className="text-white/60 text-sm">Right-click simulation for various campus elements</p>
          
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            {/* Study Group Card Context */}
            <div className="bg-white/5 border border-white/10 rounded-xl p-4">
              <div className="flex items-center justify-between mb-3">
                <h4 className="font-semibold text-white">Algorithm Study Group</h4>
                <DropdownMenu>
                  <DropdownMenuTrigger asChild>
                    <Button variant="ghost" size="sm">
                      <MoreHorizontal className="w-4 h-4" />
                    </Button>
                  </DropdownMenuTrigger>
                  <DropdownMenuContent variant="minimal">
                    <DropdownMenuItem>Join Group</DropdownMenuItem>
                    <DropdownMenuItem>View Details</DropdownMenuItem>
                    <DropdownMenuItem>Share Group</DropdownMenuItem>
                    <DropdownMenuSeparator />
                    <DropdownMenuItem>Report Group</DropdownMenuItem>
                  </DropdownMenuContent>
                </DropdownMenu>
              </div>
              <p className="text-white/60 text-sm">24 members • Active now</p>
              <div className="flex items-center gap-2 mt-3">
                <Badge variant="secondary">CS</Badge>
                <Badge variant="secondary">Study</Badge>
              </div>
            </div>

            {/* Campus Event Context */}
            <div className="bg-white/5 border border-white/10 rounded-xl p-4">
              <div className="flex items-center justify-between mb-3">
                <h4 className="font-semibold text-white">ML Workshop</h4>
                <DropdownMenu>
                  <DropdownMenuTrigger asChild>
                    <Button variant="ghost" size="sm">
                      <MoreHorizontal className="w-4 h-4" />
                    </Button>
                  </DropdownMenuTrigger>
                  <DropdownMenuContent variant="primary">
                    <DropdownMenuItem variant="secondary">Register</DropdownMenuItem>
                    <DropdownMenuItem>Add to Calendar</DropdownMenuItem>
                    <DropdownMenuItem>Share Event</DropdownMenuItem>
                    <DropdownMenuSeparator />
                    <DropdownMenuItem>Event Details</DropdownMenuItem>
                    <DropdownMenuItem>Contact Organizer</DropdownMenuItem>
                  </DropdownMenuContent>
                </DropdownMenu>
              </div>
              <p className="text-white/60 text-sm">Tomorrow 7:00 PM</p>
              <p className="text-white/80 text-xs mt-1">CS Building Room 101</p>
            </div>

            {/* Resource Context */}
            <div className="bg-white/5 border border-white/10 rounded-xl p-4">
              <div className="flex items-center justify-between mb-3">
                <h4 className="font-semibold text-white">Study Notes.pdf</h4>
                <DropdownMenu>
                  <DropdownMenuTrigger asChild>
                    <Button variant="ghost" size="sm">
                      <MoreHorizontal className="w-4 h-4" />
                    </Button>
                  </DropdownMenuTrigger>
                  <DropdownMenuContent variant="minimal">
                    <DropdownMenuItem>
                      <Download className="mr-2 h-4 w-4" />
                      Download
                    </DropdownMenuItem>
                    <DropdownMenuItem>
                      <Share className="mr-2 h-4 w-4" />
                      Share Link
                    </DropdownMenuItem>
                    <DropdownMenuItem>
                      <Copy className="mr-2 h-4 w-4" />
                      Copy Link
                    </DropdownMenuItem>
                    <DropdownMenuSeparator />
                    <DropdownMenuItem>
                      <Star className="mr-2 h-4 w-4" />
                      Add to Favorites
                    </DropdownMenuItem>
                  </DropdownMenuContent>
                </DropdownMenu>
              </div>
              <p className="text-white/60 text-sm">Shared by Alex Chen</p>
              <p className="text-white/80 text-xs mt-1">2.3 MB • PDF</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  ),
};