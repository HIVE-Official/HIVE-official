import type { Meta, StoryObj } from '@storybook/react';
import { EmailGate } from '../../../components/auth/email-gate';

const meta: Meta<typeof EmailGate> = {
  title: 'üîê Auth/Components/EmailGate',
  component: EmailGate,
  parameters: {
    docs: {
      description: {
        component: 'University email verification component for HIVE auth flow.',
      }
    }
  }
};

export default meta;
type Story = StoryObj<typeof EmailGate>;

export const Default: Story = {
  args: {
    university: 'University at Buffalo',
    domain: 'buffalo.edu',
  }
};

export const WithError: Story = {
  args: {
    university: 'University at Buffalo',
    domain: 'buffalo.edu',
    error: 'Please use a valid @buffalo.edu email address',
  }
};

export const Loading: Story = {
  args: {
    university: 'University at Buffalo',
    domain: 'buffalo.edu',
    isLoading: true,
  }
};

export const UBFlow: Story = {
  name: 'UB Student Flow',
  render: () => (
    <div className="max-w-md mx-auto p-6">
      <div className="text-center mb-8">
        <h1 className="text-2xl font-bold mb-2">Welcome to HIVE</h1>
        <p className="text-gray-600">The social utility platform for UB students</p>
      </div>
      
      <EmailGate
        university="University at Buffalo"
        domain="buffalo.edu"
        placeholder="your.name@buffalo.edu"
        submitText="Continue to HIVE"
        helpText="We only support @buffalo.edu emails during our beta launch"
      />
      
      <div className="mt-6 text-center">
        <p className="text-xs text-gray-500">
          By continuing, you agree to HIVE's Terms of Service and Privacy Policy
        </p>
      </div>
    </div>
  ),
};

export const MultiUniversity: Story = {
  name: 'Multiple Universities (Future)',
  render: () => (
    <div className="space-y-6 p-4">
      <h3 className="font-bold text-lg">Future Multi-University Support</h3>
      
      <div className="space-y-4">
        <EmailGate
          university="University at Buffalo"
          domain="buffalo.edu"
          placeholder="your.name@buffalo.edu"
          variant="primary"
        />
        
        <EmailGate
          university="Syracuse University"
          domain="syr.edu"
          placeholder="your.name@syr.edu"
          variant="secondary"
          disabled
        />
        
        <EmailGate
          university="Cornell University"
          domain="cornell.edu"
          placeholder="your.name@cornell.edu"
          variant="secondary"
          disabled
        />
      </div>
      
      <p className="text-sm text-gray-600">
        Additional universities coming soon! Join the waitlist at each school.
      </p>
    </div>
  ),
};