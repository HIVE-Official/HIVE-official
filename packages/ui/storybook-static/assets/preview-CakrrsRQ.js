import{r as t,R as A}from"./index-GiUgBvb1.js";import{j}from"./jsx-runtime-CDt2p4po.js";var R=(e,s,o,u,m,i,d,h)=>{let c=document.documentElement,v=["light","dark"];function f(r){(Array.isArray(e)?e:[e]).forEach(y=>{let E=y==="class",C=E&&i?m.map(b=>i[b]||b):m;E?(c.classList.remove(...C),c.classList.add(i&&i[r]?i[r]:r)):c.setAttribute(y,r)}),T(r)}function T(r){h&&v.includes(r)&&(c.style.colorScheme=r)}function l(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)f(u);else try{let r=localStorage.getItem(s)||o,y=d&&r==="system"?l():r;f(y)}catch{}},P=["light","dark"],I="(prefers-color-scheme: dark)",$=typeof window>"u",M=t.createContext(void 0),H=e=>t.useContext(M)?t.createElement(t.Fragment,null,e.children):t.createElement(V,{...e}),K=["light","dark"],V=({forcedTheme:e,disableTransitionOnChange:s=!1,enableSystem:o=!0,enableColorScheme:u=!0,storageKey:m="theme",themes:i=K,defaultTheme:d=o?"system":"light",attribute:h="data-theme",value:c,children:v,nonce:f,scriptProps:T})=>{let[l,r]=t.useState(()=>D(m,d)),[y,E]=t.useState(()=>l==="system"?x():l),C=c?Object.values(c):i,b=t.useCallback(n=>{let a=n;if(!a)return;n==="system"&&o&&(a=x());let g=c?c[a]:a,L=s?J(f):null,w=document.documentElement,F=p=>{p==="class"?(w.classList.remove(...C),g&&w.classList.add(g)):p.startsWith("data-")&&(g?w.setAttribute(p,g):w.removeAttribute(p))};if(Array.isArray(h)?h.forEach(F):F(h),u){let p=P.includes(d)?d:null,_=P.includes(a)?a:p;w.style.colorScheme=_}L==null||L()},[f]),S=t.useCallback(n=>{let a=typeof n=="function"?n(l):n;r(a);try{localStorage.setItem(m,a)}catch{}},[l]),k=t.useCallback(n=>{let a=x(n);E(a),l==="system"&&o&&!e&&b("system")},[l,e]);t.useEffect(()=>{let n=window.matchMedia(I);return n.addListener(k),k(n),()=>n.removeListener(k)},[k]),t.useEffect(()=>{let n=a=>{a.key===m&&(a.newValue?r(a.newValue):S(d))};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[S]),t.useEffect(()=>{b(e??l)},[e,l]);let O=t.useMemo(()=>({theme:l,setTheme:S,forcedTheme:e,resolvedTheme:l==="system"?y:l,themes:o?[...i,"system"]:i,systemTheme:o?y:void 0}),[l,S,e,y,o,i]);return t.createElement(M.Provider,{value:O},t.createElement(W,{forcedTheme:e,storageKey:m,attribute:h,enableSystem:o,enableColorScheme:u,defaultTheme:d,value:c,themes:i,nonce:f,scriptProps:T}),v)},W=t.memo(({forcedTheme:e,storageKey:s,attribute:o,enableSystem:u,enableColorScheme:m,defaultTheme:i,value:d,themes:h,nonce:c,scriptProps:v})=>{let f=JSON.stringify([o,s,i,e,h,d,u,m]).slice(1,-1);return t.createElement("script",{...v,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${R.toString()})(${f})`}})}),D=(e,s)=>{if($)return;let o;try{o=localStorage.getItem(e)||void 0}catch{}return o||s},J=e=>{let s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},x=e=>(e||(e=window.matchMedia(I)),e.matches?"dark":"light");function N({children:e,...s}){return j.jsx(H,{...s,children:e})}N.__docgenInfo={description:"",methods:[],displayName:"ThemeProvider"};const q={decorators:[e=>A.createElement(N,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0},A.createElement("div",{className:"bg-bg-canvas text-text-primary h-screen w-screen"},A.createElement(e,null)))],parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},backgrounds:{default:"dark",values:[{name:"dark",value:"#0A0A0A"},{name:"light",value:"#FFFFFF"}]}}};export{q as default};
