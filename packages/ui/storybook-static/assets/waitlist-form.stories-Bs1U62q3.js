import{j as o}from"./jsx-runtime-CDt2p4po.js";import{R as p}from"./index-GiUgBvb1.js";import{C as M,a as W,d as K,e as F}from"./card-DjkyhoT6.js";import{B as N}from"./button-GqeBBbqz.js";import{I as V}from"./input-VO8katut.js";import{S as Y,H as S,T as k,M as U}from"./design-canvas-D-j6oFw3.js";import{m as H}from"./proxy-Bec6Vc3j.js";import{à¤— as b}from"./motion-CZ1bbh1z.js";import"./badge-E1dQhR_G.js";import"./grid-BjptKGNo.js";import"./space-card-CrIRh5ZE.js";import"./element-picker-BZEJXByV.js";import{A as z}from"./welcome-mat-DxZ7I1ZQ.js";import{C as G}from"./analytics-dashboard-D6Bgel0L.js";import{v as $}from"./v4-CtRu48qb.js";import"./utils-CytzSlOG.js";import"./index-BwobEAja.js";import"./loader-circle-BzTvcBo1.js";import"./createLucideIcon-DlCdiEX6.js";import"./users-BnPOFdzp.js";import"./zap-DCkLN-xk.js";const v=H.div,D=({onSubmit:t})=>{const[e,r]=p.useState(""),[i,s]=p.useState(!1),[a,n]=p.useState(!1),[c,l]=p.useState(null),f=async m=>{m.preventDefault(),l(null),s(!0);try{await t(e),n(!0)}catch{l("An error occurred. Please try again.")}finally{s(!1)}};return o.jsx(M,{className:"w-[400px] overflow-hidden",radius:"lg",children:o.jsx(z,{mode:"wait",children:a?o.jsx(v,{variants:b.fadeIn,initial:"initial",animate:"animate",exit:"exit",className:"p-6",children:o.jsxs(Y,{align:"center",gap:4,children:[o.jsx(G,{className:"w-12 h-12 text-success"}),o.jsx(S,{level:3,children:"You're on the list!"}),o.jsxs(k,{children:["We'll notify you at ",e," when HIVE is ready."]})]})},"success"):o.jsxs(v,{variants:b.fadeIn,initial:"initial",animate:"animate",exit:"exit",children:[o.jsxs(W,{children:[o.jsx(S,{level:2,children:"Join the Waitlist"}),o.jsx(U,{children:"Be the first to know when HIVE launches at your campus."})]}),o.jsxs("form",{onSubmit:f,children:[o.jsx(K,{children:o.jsx(V,{type:"email",placeholder:"Enter your .edu email address",value:e,onChange:m=>r(m.target.value),disabled:i})}),o.jsx(F,{children:o.jsx(N,{className:"w-full",type:"submit",loading:i,children:"Get Early Access"})})]})]},"form")})})};D.__docgenInfo={description:"",methods:[],displayName:"WaitlistForm",props:{onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(email: string) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"email"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};const{addons:q}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:J}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:w}=__STORYBOOK_MODULE_GLOBAL__;var Q=Object.defineProperty,X=(t,e)=>{for(var r in e)Q(t,r,{get:e[r],enumerable:!0})},Z="storybook/actions",ee=`${Z}/action-event`,te={depth:10,clearOnStoryChange:!0,limit:50},B=(t,e)=>{let r=Object.getPrototypeOf(t);return!r||e(r)?r:B(r,e)},re=t=>!!(typeof t=="object"&&t&&B(t,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof t.persist=="function"),ie=t=>{if(re(t)){let e=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));e.persist();let r=Object.getOwnPropertyDescriptor(e,"view"),i=r==null?void 0:r.value;return typeof i=="object"&&(i==null?void 0:i.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...r,value:Object.create(i.constructor.prototype)}),e}return t},se=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?$():Date.now().toString(36)+Math.random().toString(36).substring(2);function u(t,e={}){let r={...te,...e},i=function(...s){var O,y;if(e.implicit){let x=(O="__STORYBOOK_PREVIEW__"in w?w.__STORYBOOK_PREVIEW__:void 0)==null?void 0:O.storyRenders.find(d=>d.phase==="playing"||d.phase==="rendering");if(x){let d=!((y=globalThis==null?void 0:globalThis.FEATURES)!=null&&y.disallowImplicitActionsInRenderV8),E=new J({phase:x.phase,name:t,deprecated:d});if(d)console.warn(E);else throw E}}let a=q.getChannel(),n=se(),c=5,l=s.map(ie),f=s.length>1?l:l[0],m={id:n,count:0,data:{name:t,args:f},options:{...r,maxDepth:c+(r.depth||3),allowFunction:r.allowFunction||!1}};a.emit(ee,m)};return i.isAction=!0,i.implicit=e.implicit,i}const{definePreview:Ce}=__STORYBOOK_MODULE_PREVIEW_API__,{global:h}=__STORYBOOK_MODULE_GLOBAL__;var ae={};X(ae,{argsEnhancers:()=>ce,loaders:()=>me});var L=(t,e)=>typeof e[t]>"u"&&!(t in e),oe=t=>{let{initialArgs:e,argTypes:r,id:i,parameters:{actions:s}}=t;if(!s||s.disable||!s.argTypesRegex||!r)return{};let a=new RegExp(s.argTypesRegex);return Object.entries(r).filter(([n])=>!!a.test(n)).reduce((n,[c,l])=>(L(c,e)&&(n[c]=u(c,{implicit:!0,id:i})),n),{})},ne=t=>{let{initialArgs:e,argTypes:r,parameters:{actions:i}}=t;return i!=null&&i.disable||!r?{}:Object.entries(r).filter(([s,a])=>!!a.action).reduce((s,[a,n])=>(L(a,e)&&(s[a]=u(typeof n.action=="string"?n.action:a)),s),{})},ce=[ne,oe],R=!1,le=t=>{let{parameters:{actions:e}}=t;if(!(e!=null&&e.disable)&&!R&&"__STORYBOOK_TEST_ON_MOCK_CALL__"in h&&typeof h.__STORYBOOK_TEST_ON_MOCK_CALL__=="function"){let r=h.__STORYBOOK_TEST_ON_MOCK_CALL__;r((i,s)=>{let a=i.getMockName();a!=="spy"&&(!/^next\/.*::/.test(a)||["next/router::useRouter()","next/navigation::useRouter()","next/navigation::redirect","next/cache::","next/headers::cookies().set","next/headers::cookies().delete","next/headers::headers().set","next/headers::headers().delete"].some(n=>a.startsWith(n)))&&u(a)(s)}),R=!0}},me=[le];const De={title:"Features/Waitlist/WaitlistForm",component:D,tags:["autodocs"],argTypes:{onSubmit:{action:"submitted"}}},_={args:{onSubmit:async t=>{u("submitted")(t),await new Promise(e=>setTimeout(e,1500))}}},g={args:{onSubmit:async t=>{throw u("submitted")(t),await new Promise(e=>setTimeout(e,1500)),new Error("Failed to submit")}}};var T,j,A;_.parameters={..._.parameters,docs:{...(T=_.parameters)==null?void 0:T.docs,source:{originalSource:`{
  args: {
    onSubmit: async email => {
      action('submitted')(email);
      // Simulate network delay
      await new Promise(resolve => setTimeout(resolve, 1500));
    }
  }
}`,...(A=(j=_.parameters)==null?void 0:j.docs)==null?void 0:A.source}}};var P,I,C;g.parameters={...g.parameters,docs:{...(P=g.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    onSubmit: async email => {
      action('submitted')(email);
      // Simulate network delay
      await new Promise(resolve => setTimeout(resolve, 1500));
      throw new Error('Failed to submit');
    }
  }
}`,...(C=(I=g.parameters)==null?void 0:I.docs)==null?void 0:C.source}}};const Be=["Default","ErrorState"];export{_ as Default,g as ErrorState,Be as __namedExportsOrder,De as default};
