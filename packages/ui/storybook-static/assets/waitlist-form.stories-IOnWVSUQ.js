import{j as n}from"./jsx-runtime-CDt2p4po.js";import{R as p}from"./index-GiUgBvb1.js";import{C as M,a as W,d as K,e as F}from"./card-DjkyhoT6.js";import{B as N}from"./button-GqeBBbqz.js";import{I as V}from"./input-VO8katut.js";import{H as S,T as Y,M as k}from"./typography-Dyxsx_Hk.js";import{à¤— as b}from"./motion-CZ1bbh1z.js";import{S as U}from"./stack-DBI1tmaE.js";import{A as H}from"./index-Cx_XmxjP.js";import{m as v}from"./proxy-Bec6Vc3j.js";import{C as z}from"./circle-check-big-BtFDMETh.js";import{v as G}from"./v4-CtRu48qb.js";import"./utils-CytzSlOG.js";import"./index-BwobEAja.js";import"./loader-circle-BzTvcBo1.js";import"./createLucideIcon-DlCdiEX6.js";const D=({onSubmit:t})=>{const[e,r]=p.useState(""),[i,s]=p.useState(!1),[a,o]=p.useState(!1),[c,l]=p.useState(null),f=async m=>{m.preventDefault(),l(null),s(!0);try{await t(e),o(!0)}catch{l("An error occurred. Please try again.")}finally{s(!1)}};return n.jsx(M,{className:"w-[400px] overflow-hidden",radius:"lg",children:n.jsx(H,{mode:"wait",children:a?n.jsx(v.div,{variants:b.fadeIn,initial:"initial",animate:"animate",exit:"exit",className:"p-6",children:n.jsxs(U,{align:"center",gap:4,children:[n.jsx(z,{className:"w-12 h-12 text-success"}),n.jsx(S,{level:3,children:"You're on the list!"}),n.jsxs(Y,{children:["We'll notify you at ",e," when HIVE is ready."]})]})},"success"):n.jsxs(v.div,{variants:b.fadeIn,initial:"initial",animate:"animate",exit:"exit",children:[n.jsxs(W,{children:[n.jsx(S,{level:2,children:"Join the Waitlist"}),n.jsx(k,{children:"Be the first to know when HIVE launches at your campus."})]}),n.jsxs("form",{onSubmit:f,children:[n.jsx(K,{children:n.jsx(V,{type:"email",placeholder:"Enter your .edu email address",value:e,onChange:m=>r(m.target.value),disabled:i})}),n.jsx(F,{children:n.jsx(N,{className:"w-full",type:"submit",loading:i,children:"Get Early Access"})})]})]},"form")})})};D.__docgenInfo={description:"",methods:[],displayName:"WaitlistForm",props:{onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(email: string) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"email"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};const{addons:$}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:q}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:w}=__STORYBOOK_MODULE_GLOBAL__;var J=Object.defineProperty,Q=(t,e)=>{for(var r in e)J(t,r,{get:e[r],enumerable:!0})},X="storybook/actions",Z=`${X}/action-event`,ee={depth:10,clearOnStoryChange:!0,limit:50},B=(t,e)=>{let r=Object.getPrototypeOf(t);return!r||e(r)?r:B(r,e)},te=t=>!!(typeof t=="object"&&t&&B(t,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof t.persist=="function"),re=t=>{if(te(t)){let e=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));e.persist();let r=Object.getOwnPropertyDescriptor(e,"view"),i=r==null?void 0:r.value;return typeof i=="object"&&(i==null?void 0:i.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...r,value:Object.create(i.constructor.prototype)}),e}return t},ie=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?G():Date.now().toString(36)+Math.random().toString(36).substring(2);function u(t,e={}){let r={...ee,...e},i=function(...s){var O,y;if(e.implicit){let x=(O="__STORYBOOK_PREVIEW__"in w?w.__STORYBOOK_PREVIEW__:void 0)==null?void 0:O.storyRenders.find(d=>d.phase==="playing"||d.phase==="rendering");if(x){let d=!((y=globalThis==null?void 0:globalThis.FEATURES)!=null&&y.disallowImplicitActionsInRenderV8),E=new q({phase:x.phase,name:t,deprecated:d});if(d)console.warn(E);else throw E}}let a=$.getChannel(),o=ie(),c=5,l=s.map(re),f=s.length>1?l:l[0],m={id:o,count:0,data:{name:t,args:f},options:{...r,maxDepth:c+(r.depth||3),allowFunction:r.allowFunction||!1}};a.emit(Z,m)};return i.isAction=!0,i.implicit=e.implicit,i}const{definePreview:Re}=__STORYBOOK_MODULE_PREVIEW_API__,{global:h}=__STORYBOOK_MODULE_GLOBAL__;var se={};Q(se,{argsEnhancers:()=>oe,loaders:()=>le});var L=(t,e)=>typeof e[t]>"u"&&!(t in e),ae=t=>{let{initialArgs:e,argTypes:r,id:i,parameters:{actions:s}}=t;if(!s||s.disable||!s.argTypesRegex||!r)return{};let a=new RegExp(s.argTypesRegex);return Object.entries(r).filter(([o])=>!!a.test(o)).reduce((o,[c,l])=>(L(c,e)&&(o[c]=u(c,{implicit:!0,id:i})),o),{})},ne=t=>{let{initialArgs:e,argTypes:r,parameters:{actions:i}}=t;return i!=null&&i.disable||!r?{}:Object.entries(r).filter(([s,a])=>!!a.action).reduce((s,[a,o])=>(L(a,e)&&(s[a]=u(typeof o.action=="string"?o.action:a)),s),{})},oe=[ne,ae],R=!1,ce=t=>{let{parameters:{actions:e}}=t;if(!(e!=null&&e.disable)&&!R&&"__STORYBOOK_TEST_ON_MOCK_CALL__"in h&&typeof h.__STORYBOOK_TEST_ON_MOCK_CALL__=="function"){let r=h.__STORYBOOK_TEST_ON_MOCK_CALL__;r((i,s)=>{let a=i.getMockName();a!=="spy"&&(!/^next\/.*::/.test(a)||["next/router::useRouter()","next/navigation::useRouter()","next/navigation::redirect","next/cache::","next/headers::cookies().set","next/headers::cookies().delete","next/headers::headers().set","next/headers::headers().delete"].some(o=>a.startsWith(o)))&&u(a)(s)}),R=!0}},le=[ce];const Te={title:"Features/Waitlist/WaitlistForm",component:D,tags:["autodocs"],argTypes:{onSubmit:{action:"submitted"}}},_={args:{onSubmit:async t=>{u("submitted")(t),await new Promise(e=>setTimeout(e,1500))}}},g={args:{onSubmit:async t=>{throw u("submitted")(t),await new Promise(e=>setTimeout(e,1500)),new Error("Failed to submit")}}};var T,j,A;_.parameters={..._.parameters,docs:{...(T=_.parameters)==null?void 0:T.docs,source:{originalSource:`{
  args: {
    onSubmit: async email => {
      action('submitted')(email);
      // Simulate network delay
      await new Promise(resolve => setTimeout(resolve, 1500));
    }
  }
}`,...(A=(j=_.parameters)==null?void 0:j.docs)==null?void 0:A.source}}};var P,I,C;g.parameters={...g.parameters,docs:{...(P=g.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    onSubmit: async email => {
      action('submitted')(email);
      // Simulate network delay
      await new Promise(resolve => setTimeout(resolve, 1500));
      throw new Error('Failed to submit');
    }
  }
}`,...(C=(I=g.parameters)==null?void 0:I.docs)==null?void 0:C.source}}};const je=["Default","ErrorState"];export{_ as Default,g as ErrorState,je as __namedExportsOrder,Te as default};
