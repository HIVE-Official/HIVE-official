import{j as e}from"./jsx-runtime-CDt2p4po.js";import{r as s}from"./index-GiUgBvb1.js";import{c as v}from"./utils-CytzSlOG.js";import{M as $,i as A,u as R,P as T,a as q,b as D,L as U,m as E}from"./proxy-Bec6Vc3j.js";import{c as I}from"./createLucideIcon-DlCdiEX6.js";import{U as H}from"./users-BnPOFdzp.js";/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=I("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class _ extends s.Component{getSnapshotBeforeUpdate(a){const t=this.props.childRef.current;if(t&&a.isPresent&&!this.props.isPresent){const i=t.offsetParent,u=A(i)&&i.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=u-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function F({children:o,isPresent:a,anchorX:t}){const i=s.useId(),u=s.useRef(null),n=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=s.useContext($);return s.useInsertionEffect(()=>{const{width:y,height:r,top:x,left:l,right:h}=n.current;if(a||!u.current||!y||!r)return;const m=t==="left"?`left: ${l}`:`right: ${h}`;u.current.dataset.motionPopId=i;const d=document.createElement("style");return f&&(d.nonce=f),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${r}px !important;
            ${m}px !important;
            top: ${x}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[a]),e.jsx(_,{isPresent:a,childRef:u,sizeRef:n,children:s.cloneElement(o,{ref:u})})}const G=({children:o,initial:a,isPresent:t,onExitComplete:i,custom:u,presenceAffectsLayout:n,mode:f,anchorX:y})=>{const r=R(K),x=s.useId();let l=!0,h=s.useMemo(()=>(l=!1,{id:x,initial:a,isPresent:t,custom:u,onExitComplete:m=>{r.set(m,!0);for(const d of r.values())if(!d)return;i&&i()},register:m=>(r.set(m,!1),()=>r.delete(m))}),[t,r,i]);return n&&l&&(h={...h}),s.useMemo(()=>{r.forEach((m,d)=>r.set(d,!1))},[t]),s.useEffect(()=>{!t&&!r.size&&i&&i()},[t]),f==="popLayout"&&(o=e.jsx(F,{isPresent:t,anchorX:y,children:o})),e.jsx(T.Provider,{value:h,children:o})};function K(){return new Map}const j=o=>o.key||"";function P(o){const a=[];return s.Children.forEach(o,t=>{s.isValidElement(t)&&a.push(t)}),a}const O=({children:o,custom:a,initial:t=!0,onExitComplete:i,presenceAffectsLayout:u=!0,mode:n="sync",propagate:f=!1,anchorX:y="left"})=>{const[r,x]=q(f),l=s.useMemo(()=>P(o),[o]),h=f&&!r?[]:l.map(j),m=s.useRef(!0),d=s.useRef(l),w=R(()=>new Map),[S,L]=s.useState(l),[g,z]=s.useState(l);D(()=>{m.current=!1,d.current=l;for(let p=0;p<g.length;p++){const c=j(g[p]);h.includes(c)?w.delete(c):w.get(c)!==!0&&w.set(c,!1)}},[g,h.length,h.join("-")]);const C=[];if(l!==S){let p=[...l];for(let c=0;c<g.length;c++){const b=g[c],k=j(b);h.includes(k)||(p.splice(c,0,b),C.push(b))}return n==="wait"&&C.length&&(p=C),z(P(p)),L(l),null}const{forceRender:N}=s.useContext(U);return e.jsx(e.Fragment,{children:g.map(p=>{const c=j(p),b=f&&!r?!1:l===g||h.includes(c),k=()=>{if(w.has(c))w.set(c,!0);else return;let M=!0;w.forEach(W=>{W||(M=!1)}),M&&(N==null||N(),z(d.current),f&&(x==null||x()),i&&i())};return e.jsx(G,{isPresent:b,initial:!m.current||t?void 0:!1,custom:a,presenceAffectsLayout:u,mode:n,onExitComplete:b?void 0:k,anchorX:y,children:p},c)})})},B=({isVisible:o,onDismiss:a,userName:t,className:i})=>{const[u,n]=s.useState(!1),f=()=>{n(!0),setTimeout(()=>{a(),n(!1)},300)},y=()=>{window.location.href="/spaces"},r=()=>{window.location.href="/profile"};return s.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[o]),e.jsx(O,{children:o&&!u&&e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},className:v("fixed inset-0 z-50 flex items-center justify-center","bg-black/80 backdrop-blur-sm",i),onClick:f,children:e.jsxs(E.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.4,ease:"easeOut",delay:.1},className:v("relative mx-4 w-full max-w-md","rounded-2xl border border-white/10","bg-gradient-to-br from-zinc-900/95 to-black/95","p-8 shadow-2xl backdrop-blur-xl","ring-1 ring-white/5"),onClick:x=>x.stopPropagation(),children:[e.jsx("button",{onClick:f,className:v("absolute right-4 top-4 rounded-full p-2","text-zinc-400 transition-colors duration-200","hover:bg-white/10 hover:text-white","focus:outline-none focus:ring-2 focus:ring-yellow-500/50"),"aria-label":"Dismiss welcome message",children:e.jsx(X,{className:"h-4 w-4"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.3,type:"spring"},className:"mb-4 text-4xl",children:"ðŸš€"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"You're in â€” welcome to HIVE!"}),t&&e.jsxs("p",{className:"mt-2 text-zinc-400",children:["Great to have you here, ",t]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 rounded-lg bg-white/5 p-3",children:[e.jsx("div",{className:"mt-0.5 h-2 w-2 rounded-full bg-yellow-500"}),e.jsx("p",{className:"text-sm text-zinc-300",children:"Scroll the Feed to see what's buzzing."})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-lg bg-white/5 p-3",children:[e.jsx("div",{className:"mt-0.5 h-2 w-2 rounded-full bg-yellow-500"}),e.jsx("p",{className:"text-sm text-zinc-300",children:"Spin up a Space to rally your group."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:y,className:v("flex w-full items-center justify-center gap-2 rounded-lg","bg-gradient-to-r from-yellow-500 to-yellow-600","px-6 py-3 font-semibold text-black","transition-all duration-200","hover:from-yellow-400 hover:to-yellow-500","hover:shadow-lg hover:shadow-yellow-500/25","focus:outline-none focus:ring-2 focus:ring-yellow-500/50","active:scale-[0.98]"),children:[e.jsx(H,{className:"h-4 w-4"}),"Explore Spaces"]}),e.jsxs("button",{onClick:r,className:v("flex w-full items-center justify-center gap-2","text-sm text-zinc-400 transition-colors duration-200","hover:text-white focus:outline-none focus:text-white"),children:["View your profile",e.jsx(V,{className:"h-3 w-3"})]})]})]}),e.jsx("div",{className:"absolute -top-px left-1/2 h-px w-1/2 -translate-x-1/2 bg-gradient-to-r from-transparent via-yellow-500/50 to-transparent"}),e.jsx("div",{className:"absolute -bottom-px left-1/2 h-px w-1/3 -translate-x-1/2 bg-gradient-to-r from-transparent via-yellow-500/30 to-transparent"})]})})})};B.__docgenInfo={description:"",methods:[],displayName:"WelcomeMat",props:{isVisible:{required:!0,tsType:{name:"boolean"},description:"Whether to show the welcome mat"},onDismiss:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback when the welcome mat is dismissed"},userName:{required:!1,tsType:{name:"string"},description:"User's name for personalization"},className:{required:!1,tsType:{name:"string"},description:"Custom className for styling"}}};export{O as A,B as W};
