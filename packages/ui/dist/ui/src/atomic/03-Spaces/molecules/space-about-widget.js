'use client';
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import * as React from 'react';
import { cn } from '@/lib/utils';
import { Badge, Button, UsersIcon, ShieldIcon, ChevronDownIcon, ChevronUpIcon, } from '../../00-Global/atoms/index.js';
export const SpaceAboutWidget = React.forwardRef(({ data, collapsible = true, defaultCollapsed = false, onJoin, onLeave, onLeaderClick, className, ...props }, ref) => {
    const [isCollapsed, setIsCollapsed] = React.useState(defaultCollapsed);
    const { memberCount, leaders, category, createdDate, isPublic, isMember } = data;
    const handleToggle = () => {
        if (collapsible) {
            setIsCollapsed(!isCollapsed);
        }
    };
    const handleJoinLeave = () => {
        if (isMember) {
            onLeave?.(data.spaceId);
        }
        else {
            onJoin?.(data.spaceId);
        }
    };
    return (_jsxs("aside", { ref: ref, className: cn('flex flex-col overflow-hidden rounded-2xl border border-[color-mix(in_srgb,var(--hive-border-default) 65%,transparent)] bg-[color-mix(in_srgb,var(--hive-background-secondary) 98%,transparent)]', className), ...props, children: [_jsxs("header", { className: cn('flex items-center justify-between gap-3 border-b border-[color-mix(in_srgb,var(--hive-border-default) 50%,transparent)] px-5 py-4', collapsible && 'cursor-pointer'), onClick: handleToggle, children: [_jsx("h3", { className: "text-sm font-semibold uppercase tracking-[0.18em] text-[var(--hive-text-secondary)]", children: "About" }), collapsible && (_jsx("button", { className: "text-[var(--hive-text-tertiary)] transition-colors hover:text-[var(--hive-text-secondary)]", "aria-label": isCollapsed ? 'Expand' : 'Collapse', children: isCollapsed ? (_jsx(ChevronDownIcon, { className: "h-4 w-4" })) : (_jsx(ChevronUpIcon, { className: "h-4 w-4" })) }))] }), !isCollapsed && (_jsxs("div", { className: "flex flex-col gap-5 p-5", children: [_jsx("p", { className: "text-sm leading-relaxed text-[var(--hive-text-secondary)]", children: data.description }), _jsxs("div", { className: "grid grid-cols-2 gap-3", children: [_jsxs("div", { className: "flex flex-col gap-1 rounded-xl border border-[color-mix(in_srgb,var(--hive-border-default) 40%,transparent)] bg-[var(--hive-background-tertiary)] p-3", children: [_jsxs("div", { className: "flex items-center gap-2 text-[var(--hive-text-tertiary)]", children: [_jsx(UsersIcon, { className: "h-4 w-4" }), _jsx("span", { className: "text-[11px] uppercase tracking-[0.16em]", children: "Members" })] }), _jsx("span", { className: "text-2xl font-bold text-[var(--hive-text-primary)]", children: memberCount.toLocaleString() })] }), _jsxs("div", { className: "flex flex-col gap-1 rounded-xl border border-[color-mix(in_srgb,var(--hive-border-default) 40%,transparent)] bg-[var(--hive-background-tertiary)] p-3", children: [_jsxs("div", { className: "flex items-center gap-2 text-[var(--hive-text-tertiary)]", children: [_jsx(ShieldIcon, { className: "h-4 w-4" }), _jsx("span", { className: "text-[11px] uppercase tracking-[0.16em]", children: "Leaders" })] }), _jsx("span", { className: "text-2xl font-bold text-[var(--hive-text-primary)]", children: leaders.length })] })] }), leaders.length > 0 && (_jsxs("div", { className: "flex flex-col gap-3", children: [_jsx("h4", { className: "text-xs font-semibold uppercase tracking-[0.16em] text-[var(--hive-text-tertiary)]", children: "Space Leaders" }), _jsx("div", { className: "flex flex-col gap-2", children: leaders.map((leader) => (_jsxs("button", { onClick: () => onLeaderClick?.(leader.id), className: "group flex items-center gap-3 rounded-lg border border-transparent p-2 transition-colors hover:border-[color-mix(in_srgb,var(--hive-border-default) 40%,transparent)] hover:bg-[var(--hive-background-tertiary)]", children: [_jsx("div", { className: "flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-[var(--hive-brand-primary)]/10 text-xs font-bold text-[var(--hive-brand-primary)]", children: leader.name.slice(0, 2).toUpperCase() }), _jsxs("div", { className: "flex flex-1 flex-col items-start gap-0.5 min-w-0", children: [_jsx("span", { className: "text-sm font-medium text-[var(--hive-text-primary)] truncate w-full", children: leader.name }), _jsx("span", { className: "text-[11px] uppercase tracking-[0.16em] text-[var(--hive-text-tertiary)]", children: leader.role })] })] }, leader.id))) })] })), _jsxs("div", { className: "flex flex-wrap gap-2 border-t border-[color-mix(in_srgb,var(--hive-border-default) 40%,transparent)] pt-4", children: [category && (_jsx(Badge, { variant: "outline", className: "text-[var(--hive-text-tertiary)]", children: category })), _jsx(Badge, { variant: "outline", className: "text-[var(--hive-text-tertiary)]", children: isPublic ? 'Public' : 'Private' }), createdDate && (_jsxs("span", { className: "text-[11px] uppercase tracking-[0.16em] text-[var(--hive-text-tertiary)]", children: ["Est. ", createdDate] }))] }), !isMember && (_jsx(Button, { variant: "brand", size: "md", onClick: handleJoinLeave, className: "w-full", children: "Join Space" })), isMember && (_jsx(Button, { variant: "ghost", size: "sm", onClick: handleJoinLeave, className: "w-full text-[var(--hive-text-tertiary)] hover:text-red-400", children: "Leave Space" }))] }))] }));
});
SpaceAboutWidget.displayName = 'SpaceAboutWidget';
//# sourceMappingURL=space-about-widget.js.map