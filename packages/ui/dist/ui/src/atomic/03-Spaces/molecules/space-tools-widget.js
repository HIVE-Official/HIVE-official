'use client';
import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import * as React from 'react';
import { cn } from '../../lib/utils';
import { Badge, Button, ZapIcon, ClockIcon, ChevronRightIcon, ChevronDownIcon, ChevronUpIcon, } from '../atoms';
export const SpaceToolsWidget = React.forwardRef(({ data, maxVisible = 3, collapsible = true, defaultCollapsed = false, onToolClick, onViewAll, className, ...props }, ref) => {
    const [isCollapsed, setIsCollapsed] = React.useState(defaultCollapsed);
    const visibleTools = data.tools.slice(0, maxVisible);
    const hiddenCount = Math.max(0, data.tools.length - maxVisible);
    const handleToggle = () => {
        if (collapsible) {
            setIsCollapsed(!isCollapsed);
        }
    };
    return (_jsxs("aside", { ref: ref, className: cn('flex flex-col overflow-hidden rounded-2xl border border-[color-mix(in_srgb,var(--hive-border-default) 65%,transparent)] bg-[color-mix(in_srgb,var(--hive-background-secondary) 98%,transparent)]', className), ...props, children: [_jsxs("header", { className: cn('flex items-center justify-between gap-3 border-b border-[color-mix(in_srgb,var(--hive-border-default) 50%,transparent)] px-5 py-4', collapsible && 'cursor-pointer'), onClick: handleToggle, children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("h3", { className: "text-sm font-semibold uppercase tracking-[0.18em] text-[var(--hive-text-secondary)]", children: "Active Tools" }), data.tools.length > 0 && (_jsx(Badge, { variant: "outline", className: "text-[var(--hive-brand-primary)] border-[var(--hive-brand-primary)]/30", children: data.tools.length }))] }), collapsible && (_jsx("button", { className: "text-[var(--hive-text-tertiary)] transition-colors hover:text-[var(--hive-text-secondary)]", "aria-label": isCollapsed ? 'Expand' : 'Collapse', children: isCollapsed ? (_jsx(ChevronDownIcon, { className: "h-4 w-4" })) : (_jsx(ChevronUpIcon, { className: "h-4 w-4" })) }))] }), !isCollapsed && (_jsx("div", { className: "flex flex-col p-3", children: data.tools.length === 0 ? (_jsxs("div", { className: "flex flex-col items-center justify-center gap-3 py-8 text-center", children: [_jsx("div", { className: "flex h-12 w-12 items-center justify-center rounded-full bg-[var(--hive-background-tertiary)]", children: _jsx(ZapIcon, { className: "h-6 w-6 text-[var(--hive-text-tertiary)]" }) }), _jsxs("div", { className: "space-y-1", children: [_jsx("p", { className: "text-sm font-medium text-[var(--hive-text-secondary)]", children: "No active tools" }), _jsx("p", { className: "text-xs text-[var(--hive-text-tertiary)]", children: "Leaders can create tools in HiveLab" })] })] })) : (_jsxs(_Fragment, { children: [_jsx("div", { className: "flex flex-col gap-2", children: visibleTools.map((tool) => (_jsxs("button", { onClick: () => onToolClick?.(tool.id), className: "group flex items-start gap-3 rounded-xl border border-transparent p-3 text-left transition-colors hover:border-[color-mix(in_srgb,var(--hive-border-default) 40%,transparent)] hover:bg-[var(--hive-background-tertiary)]", children: [_jsx("div", { className: "flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[var(--hive-brand-primary)]/10 text-lg", children: tool.icon ? (_jsx("span", { children: tool.icon })) : (_jsx(ZapIcon, { className: "h-5 w-5 text-[var(--hive-brand-primary)]" })) }), _jsxs("div", { className: "flex flex-1 flex-col gap-2 min-w-0", children: [_jsxs("div", { className: "space-y-1", children: [_jsx("h4", { className: "text-sm font-semibold text-[var(--hive-text-primary)] truncate", children: tool.name }), _jsxs("div", { className: "flex flex-wrap items-center gap-2", children: [_jsx(Badge, { variant: "outline", className: "text-[10px] text-[var(--hive-text-tertiary)]", children: tool.type }), tool.responseCount !== undefined && tool.responseCount > 0 && (_jsxs("span", { className: "text-[11px] text-[var(--hive-text-tertiary)]", children: [tool.responseCount, " responses"] }))] })] }), tool.closeTime && (_jsxs("div", { className: "flex items-center gap-1.5 text-xs text-[var(--hive-text-secondary)]", children: [_jsx(ClockIcon, { className: "h-3.5 w-3.5 text-[var(--hive-brand-primary)]" }), _jsx("span", { children: tool.closeTime })] }))] }), _jsx(ChevronRightIcon, { className: "h-4 w-4 shrink-0 text-[var(--hive-text-tertiary)] transition-colors group-hover:text-[var(--hive-text-secondary)]" })] }, tool.id))) }), (hiddenCount > 0 || data.hasMore) && (_jsxs(Button, { variant: "ghost", size: "sm", onClick: () => onViewAll?.(data.spaceId), className: "mt-3 w-full text-[var(--hive-text-secondary)]", children: ["View all tools", hiddenCount > 0 && ` (+${hiddenCount} more)`, _jsx(ChevronRightIcon, { className: "ml-1 h-4 w-4" })] }))] })) }))] }));
});
SpaceToolsWidget.displayName = 'SpaceToolsWidget';
//# sourceMappingURL=space-tools-widget.js.map