"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { Beaker, Lock, Sparkles, Zap, Code, Layers, Box, Rocket, Crown, ChevronRight, Star, TrendingUp, Users, Plus } from 'lucide-react';
import { cn } from '../../lib/utils';
import { Card } from '../atoms/card';
import { Button } from '../atoms/button';
import { Badge } from '../atoms/badge';
/**
 * HiveLab Widget - Build Anything
 *
 * SPEC Requirements:
 * - Space leaders get full access
 * - Non-leaders see teaser with examples
 * - Shows what weird things students actually build
 * - Creates FOMO for becoming a space leader
 */
export const HiveLabWidget = ({ isSpaceLeader, hasAccess, toolsCreated = 0, toolsUsed = [], leadingSpaces = [], onRequestAccess, onOpenStudio, className = '' }) => {
    const [showExamples, setShowExamples] = useState(false);
    // SPEC: Examples of unexpected tools students build
    const teaserExamples = [
        { name: "Hot or Not: Dining Hall Edition", icon: "ðŸ•", users: 342 },
        { name: "Professor Bingo", icon: "ðŸŽ¯", users: 189 },
        { name: "Dorm Dash Delivery", icon: "ðŸƒ", users: 267 },
        { name: "Confession Booth", icon: "ðŸ¤«", users: 523 },
        { name: "Wingman AI", icon: "ðŸ’˜", users: 145 },
        { name: "Walk of Shame Tracker", icon: "ðŸŒ…", users: 98 }
    ];
    // Leader access view
    if (hasAccess && isSpaceLeader) {
        return (_jsxs(Card, { className: cn('p-6 bg-gradient-to-br from-hive-background to-hive-background-secondary', 'border-2 border-hive-brand-gold/20', className), children: [_jsxs("div", { className: "flex items-start justify-between mb-6", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "w-12 h-12 rounded-xl bg-gradient-to-br from-hive-brand-gold to-hive-brand-gold-light flex items-center justify-center shadow-lg", children: _jsx(Beaker, { className: "w-6 h-6 text-black" }) }), _jsxs("div", { children: [_jsxs("h3", { className: "text-lg font-semibold text-hive-foreground flex items-center gap-2", children: ["HiveLab Studio", _jsxs(Badge, { className: "bg-hive-brand-gold text-black text-xs", children: [_jsx(Crown, { className: "w-3 h-3 mr-1" }), "Leader Access"] })] }), _jsx("p", { className: "text-sm text-hive-text-secondary", children: "Build anything for your spaces" })] })] }), _jsxs(Button, { onClick: onOpenStudio, size: "sm", className: "bg-gradient-to-r from-hive-brand-gold to-hive-brand-gold-light text-black hover:shadow-lg", children: [_jsx(Rocket, { className: "w-4 h-4 mr-1" }), "Open Studio"] })] }), _jsxs("div", { className: "grid grid-cols-2 gap-4 mb-6", children: [_jsxs("div", { className: "bg-hive-background-secondary rounded-lg p-4 border border-hive-border", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-sm text-hive-text-secondary", children: "Tools Created" }), _jsx(Code, { className: "w-4 h-4 text-hive-brand-gold" })] }), _jsx("div", { className: "text-2xl font-bold text-hive-foreground", children: toolsCreated }), _jsx("div", { className: "text-xs text-hive-text-tertiary mt-1", children: "Across all your spaces" })] }), _jsxs("div", { className: "bg-hive-background-secondary rounded-lg p-4 border border-hive-border", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-sm text-hive-text-secondary", children: "Total Usage" }), _jsx(TrendingUp, { className: "w-4 h-4 text-green-500" })] }), _jsx("div", { className: "text-2xl font-bold text-hive-foreground", children: toolsUsed.reduce((sum, tool) => sum + tool.usageCount, 0) }), _jsx("div", { className: "text-xs text-hive-text-tertiary mt-1", children: "Members using your tools" })] })] }), leadingSpaces.length > 0 && (_jsxs("div", { className: "mb-6", children: [_jsx("h4", { className: "text-sm font-medium text-hive-text-secondary mb-3", children: "Your Spaces" }), _jsx("div", { className: "space-y-2", children: leadingSpaces.map(space => (_jsxs("div", { className: "flex items-center justify-between p-3 bg-hive-background-secondary rounded-lg border border-hive-border hover:border-hive-brand-gold/30 transition-colors", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "w-8 h-8 rounded-lg bg-hive-brand-gold/10 flex items-center justify-center", children: _jsx(Users, { className: "w-4 h-4 text-hive-brand-gold" }) }), _jsxs("div", { children: [_jsx("p", { className: "text-sm font-medium text-hive-foreground", children: space.name }), _jsxs("p", { className: "text-xs text-hive-text-tertiary", children: [space.memberCount, " members"] })] })] }), _jsx(ChevronRight, { className: "w-4 h-4 text-hive-text-tertiary" })] }, space.id))) })] })), toolsUsed.length > 0 && (_jsxs("div", { children: [_jsx("h4", { className: "text-sm font-medium text-hive-text-secondary mb-3", children: "Active Tools" }), _jsx("div", { className: "grid grid-cols-2 gap-2", children: toolsUsed.slice(0, 4).map(tool => (_jsxs("div", { className: "p-3 bg-hive-background-secondary rounded-lg border border-hive-border hover:border-hive-brand-gold/30 transition-all hover:scale-[1.02] cursor-pointer", children: [_jsxs("div", { className: "flex items-center gap-2 mb-1", children: [_jsx(Box, { className: "w-4 h-4 text-hive-brand-gold" }), _jsx("span", { className: "text-sm font-medium text-hive-foreground truncate", children: tool.name })] }), _jsxs("div", { className: "flex items-center gap-2 text-xs text-hive-text-tertiary", children: [_jsx(Users, { className: "w-3 h-3" }), _jsxs("span", { children: [tool.usageCount, " uses"] }), _jsx("span", { className: "text-hive-text-tertiary/50", children: "\u2022" }), _jsx("span", { className: "truncate", children: tool.spaceName })] })] }, tool.id))) })] })), _jsx("div", { className: "mt-6 p-4 bg-gradient-to-r from-hive-brand-gold/10 to-transparent rounded-lg border border-hive-brand-gold/20", children: _jsxs("p", { className: "text-sm text-hive-foreground flex items-center gap-2", children: [_jsx(Sparkles, { className: "w-4 h-4 text-hive-brand-gold" }), "Build tools that solve your space's unique problems"] }) })] }));
    }
    // Non-leader teaser view
    return (_jsxs(Card, { className: cn('p-6 relative overflow-hidden', 'bg-gradient-to-br from-hive-background-secondary/50 to-hive-background', 'border border-hive-border', className), children: [_jsx("div", { className: "absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none" }), _jsx("div", { className: "flex items-start justify-between mb-6 relative", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "w-12 h-12 rounded-xl bg-hive-background-secondary flex items-center justify-center border border-hive-border", children: _jsx(Lock, { className: "w-6 h-6 text-hive-text-tertiary" }) }), _jsxs("div", { children: [_jsxs("h3", { className: "text-lg font-semibold text-hive-foreground flex items-center gap-2", children: ["HiveLab Studio", _jsxs(Badge, { variant: "secondary", className: "text-xs", children: [_jsx(Lock, { className: "w-3 h-3 mr-1" }), "Leaders Only"] })] }), _jsx("p", { className: "text-sm text-hive-text-secondary", children: "Build anything for your space" })] })] }) }), _jsxs("div", { className: "space-y-4 relative", children: [_jsxs("div", { className: "p-4 bg-hive-background-secondary/50 rounded-lg border border-hive-border", children: [_jsx("p", { className: "text-sm font-medium text-hive-text-secondary mb-3", children: "What space leaders are building:" }), _jsx(AnimatePresence, { children: showExamples ? (_jsx(motion.div, { initial: { opacity: 0, height: 0 }, animate: { opacity: 1, height: 'auto' }, exit: { opacity: 0, height: 0 }, className: "space-y-2", children: teaserExamples.map((example, index) => (_jsxs(motion.div, { initial: { opacity: 0, x: -20 }, animate: { opacity: 1, x: 0 }, transition: { delay: index * 0.05 }, className: "flex items-center justify-between p-2 bg-hive-background/50 rounded-lg", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("span", { className: "text-lg", children: example.icon }), _jsx("span", { className: "text-sm text-hive-foreground", children: example.name })] }), _jsxs("div", { className: "flex items-center gap-1 text-xs text-hive-text-tertiary", children: [_jsx(Users, { className: "w-3 h-3" }), _jsx("span", { children: example.users })] })] }, example.name))) })) : (_jsx("div", { className: "grid grid-cols-3 gap-2", children: teaserExamples.slice(0, 3).map(example => (_jsxs("div", { className: "flex flex-col items-center p-3 bg-hive-background/30 rounded-lg opacity-60", children: [_jsx("span", { className: "text-2xl mb-1", children: example.icon }), _jsxs("span", { className: "text-xs text-hive-text-tertiary text-center line-clamp-1", children: [example.users, " using"] })] }, example.name))) })) }), !showExamples && (_jsxs(Button, { variant: "ghost", size: "sm", onClick: () => setShowExamples(true), className: "w-full mt-3 text-hive-text-secondary hover:text-hive-foreground", children: [_jsx(ChevronRight, { className: "w-4 h-4 mr-1" }), "See what students are building"] }))] }), _jsxs("div", { className: "space-y-3", children: [_jsxs("div", { className: "flex items-start gap-3", children: [_jsx(Zap, { className: "w-5 h-5 text-hive-brand-gold mt-0.5" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm font-medium text-hive-foreground", children: "Build custom tools" }), _jsx("p", { className: "text-xs text-hive-text-secondary", children: "Solve your space's unique coordination problems" })] })] }), _jsxs("div", { className: "flex items-start gap-3", children: [_jsx(Layers, { className: "w-5 h-5 text-hive-brand-gold mt-0.5" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm font-medium text-hive-foreground", children: "No coding required" }), _jsx("p", { className: "text-xs text-hive-text-secondary", children: "Drag and drop elements to create anything" })] })] }), _jsxs("div", { className: "flex items-start gap-3", children: [_jsx(Star, { className: "w-5 h-5 text-hive-brand-gold mt-0.5" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm font-medium text-hive-foreground", children: "Members love it" }), _jsx("p", { className: "text-xs text-hive-text-secondary", children: "Make your space more organized and fun" })] })] })] }), _jsxs("div", { className: "mt-6 p-4 bg-gradient-to-r from-hive-brand-gold/10 to-transparent rounded-lg border border-hive-brand-gold/20", children: [_jsx("p", { className: "text-sm font-medium text-hive-foreground mb-2", children: "\uD83D\uDE80 Unlock HiveLab by becoming a space leader" }), _jsx("p", { className: "text-xs text-hive-text-secondary mb-3", children: "Create or lead a space to get instant access to the tool builder" }), _jsxs(Button, { onClick: onRequestAccess, size: "sm", className: "w-full bg-gradient-to-r from-hive-brand-gold to-hive-brand-gold-light text-black hover:shadow-lg", children: [_jsx(Plus, { className: "w-4 h-4 mr-1" }), "Create a Space"] })] })] })] }));
};
//# sourceMappingURL=hivelab-widget.js.map