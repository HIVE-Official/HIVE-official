"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { User, Settings, LogOut, Moon, Bell, HelpCircle, Zap, Users, Code, Calendar, Shield, Star } from 'lucide-react';
import { Avatar, AvatarImage, AvatarFallback } from '../ui/avatar.js';
import { Button } from '../../atomic/atoms/button-enhanced.js';
import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuTrigger, DropdownMenuGroup, } from '../ui/dropdown-menu.js';
export function UserMenu({ user, onSignOut }) {
    const initials = user.name
        .split(' ')
        .map(n => n[0])
        .join('')
        .toUpperCase()
        .slice(0, 2);
    const handleNavigation = (path) => {
        window.location.href = path;
    };
    const getRoleBadge = () => {
        if (user.role === 'admin')
            return _jsx(Shield, { className: "h-3 w-3 text-[var(--hive-brand-secondary)]" });
        if (user.role === 'faculty')
            return _jsx(Star, { className: "h-3 w-3 text-[var(--hive-brand-secondary)]" });
        return null;
    };
    const getBuilderStatus = () => {
        if (user.builderStatus === 'active')
            return 'Active Builder';
        if (user.builderStatus === 'pending')
            return 'Builder Pending';
        return null;
    };
    return (_jsxs(DropdownMenu, { children: [_jsx(DropdownMenuTrigger, { asChild: true, children: _jsxs(Button, { variant: "ghost", className: "relative h-8 w-8 rounded-full hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", children: [_jsxs(Avatar, { className: "h-8 w-8", children: [_jsx(AvatarImage, { src: user.avatar, alt: user.name }), _jsx(AvatarFallback, { className: "bg-[var(--hive-brand-secondary)] text-[var(--hive-background-primary)] text-sm font-medium", children: initials })] }), user.builderStatus === 'active' && (_jsx("div", { className: "absolute -top-1 -right-1 w-3 h-3 bg-[var(--hive-brand-secondary)] rounded-full border-2 border-[var(--hive-background-primary)]" }))] }) }), _jsxs(DropdownMenuContent, { className: "w-64 bg-[color-mix(in_srgb,var(--hive-background-primary)_95%,transparent)] backdrop-blur-xl border-[color-mix(in_srgb,var(--hive-border-hover)_60%,transparent)] text-[var(--hive-text-primary)] shadow-2xl", align: "end", children: [_jsx(DropdownMenuLabel, { className: "font-normal", children: _jsxs("div", { className: "flex flex-col space-y-1", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("p", { className: "text-sm font-medium leading-none text-[var(--hive-text-primary)]", children: user.name }), getRoleBadge()] }), _jsxs("p", { className: "text-xs leading-none text-[var(--hive-text-tertiary)]", children: ["@", user.handle] }), getBuilderStatus() && (_jsxs("div", { className: "inline-flex items-center gap-1 mt-1", children: [_jsx(Zap, { className: "h-3 w-3 text-[var(--hive-brand-secondary)]" }), _jsx("span", { className: "text-xs text-[var(--hive-brand-secondary)] font-medium", children: getBuilderStatus() })] }))] }) }), _jsx(DropdownMenuSeparator, { className: "bg-[color-mix(in_srgb,var(--hive-border-hover)_60%,transparent)]" }), _jsxs(DropdownMenuGroup, { children: [_jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", onClick: () => handleNavigation('/profile'), children: [_jsx(User, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "Profile" }), _jsx("span", { className: "ml-auto text-xs text-[var(--hive-text-tertiary)]", children: "\u2318P" })] }), _jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", onClick: () => handleNavigation('/spaces/my'), children: [_jsx(Users, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "My Spaces" })] }), _jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", onClick: () => handleNavigation('/tools'), children: [_jsx(Code, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "My Tools" })] })] }), _jsx(DropdownMenuSeparator, { className: "bg-[color-mix(in_srgb,var(--hive-border-hover)_60%,transparent)]" }), _jsxs(DropdownMenuGroup, { children: [user.builderStatus === 'active' && (_jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", onClick: () => handleNavigation('/build'), children: [_jsx(Zap, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "HiveLab Builder" })] })), _jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", onClick: () => handleNavigation('/calendar'), children: [_jsx(Calendar, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "Calendar" })] }), _jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", children: [_jsx(Bell, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "Notifications" })] })] }), _jsx(DropdownMenuSeparator, { className: "bg-[color-mix(in_srgb,var(--hive-border-hover)_60%,transparent)]" }), _jsxs(DropdownMenuGroup, { children: [_jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", onClick: () => handleNavigation('/settings'), children: [_jsx(Settings, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "Settings" }), _jsx("span", { className: "ml-auto text-xs text-[var(--hive-text-tertiary)]", children: "\u2318," })] }), _jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", children: [_jsx(HelpCircle, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "Help & Support" })] }), _jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-interactive-active)_80%,transparent)]", children: [_jsx(Moon, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "Dark mode" }), _jsx("span", { className: "ml-auto text-xs text-[var(--hive-text-tertiary)]", children: "\u2318D" })] })] }), _jsx(DropdownMenuSeparator, { className: "bg-[color-mix(in_srgb,var(--hive-border-hover)_60%,transparent)]" }), _jsxs(DropdownMenuItem, { className: "hover:bg-[color-mix(in_srgb,var(--hive-status-error)_10%,transparent)] focus:bg-[color-mix(in_srgb,var(--hive-status-error)_10%,transparent)] text-[var(--hive-status-error)]", onClick: onSignOut, children: [_jsx(LogOut, { className: "mr-2 h-4 w-4" }), _jsx("span", { children: "Sign out" })] })] })] }));
}
//# sourceMappingURL=user-menu.js.map