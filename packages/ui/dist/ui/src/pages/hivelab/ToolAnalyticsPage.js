import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Button, Card, Grid } from '../../atomic';
import { ArrowLeft, Download, Star, Users, Activity, Share, MessageSquare, TrendingUp } from 'lucide-react';
const MetricCard = ({ title, value, change, icon: Icon, format = 'number' }) => {
    const formatValue = (val) => {
        switch (format) {
            case 'rating':
                return val.toFixed(1);
            case 'percentage':
                return `${val}%`;
            default:
                return val.toLocaleString();
        }
    };
    return (_jsxs(Card, { className: "p-6 bg-[rgba(255,255,255,0.02)] border-[rgba(255,255,255,0.06)] hover:bg-[rgba(255,255,255,0.04)] transition-all", children: [_jsxs("div", { className: "flex items-center justify-between mb-4", children: [_jsx("div", { className: "w-12 h-12 bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] rounded-xl flex items-center justify-center", children: _jsx(Icon, { className: "h-6 w-6 text-[var(--hive-brand-primary)]" }) }), change !== undefined && (_jsxs("div", { className: `text-sm font-medium ${change >= 0 ? 'text-green-400' : 'text-red-400'}`, children: [change >= 0 ? '+' : '', change, "%"] }))] }), _jsx("div", { className: "text-2xl font-bold text-white mb-1", children: formatValue(value) }), _jsx("div", { className: "text-sm text-hive-text-tertiary", children: title })] }));
};
const SimpleChart = ({ data, title }) => {
    const maxValue = Math.max(...data.map(d => d.value), 1);
    return (_jsxs(Card, { className: "p-6 bg-white/5 border-hive-border-default", children: [_jsx("h3", { className: "text-lg font-semibold text-white mb-4", children: title }), _jsx("div", { className: "space-y-2", children: data.map((item, index) => (_jsxs("div", { className: "space-y-1", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-hive-text-tertiary", children: item.label }), _jsx("span", { className: "text-white font-medium", children: item.value })] }), _jsx("div", { className: "w-full bg-white/10 rounded-full h-2", children: _jsx("div", { className: "bg-gradient-to-r from-[var(--hive-brand-primary)] to-hive-brand-hover h-2 rounded-full transition-all duration-700", style: { width: `${(item.value / maxValue) * 100}%` } }) })] }, index))) })] }));
};
const FeedbackCard = ({ comment }) => (_jsxs(Card, { className: "p-4 bg-white/5 border-hive-border-default", children: [_jsxs("div", { className: "flex items-center justify-between mb-3", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("div", { className: "w-8 h-8 bg-gradient-to-br from-[var(--hive-brand-primary)] to-hive-brand-hover rounded-lg flex items-center justify-center text-hive-brand-on-gold font-semibold text-xs", children: comment.user.charAt(0) }), _jsx("span", { className: "text-white font-medium text-sm", children: comment.user })] }), _jsxs("div", { className: "flex items-center gap-1", children: [_jsx(Star, { className: "h-3 w-3 fill-[var(--hive-brand-primary)] text-[var(--hive-brand-primary)]" }), _jsx("span", { className: "text-xs text-hive-text-tertiary", children: comment.rating })] })] }), _jsxs("p", { className: "text-sm text-hive-text-tertiary mb-2", children: ["\"", comment.comment, "\""] }), _jsx("div", { className: "text-xs text-hive-text-tertiary opacity-60", children: comment.date })] }));
export function ToolAnalyticsPage({ toolName, analytics, timeRange = '7d', onTimeRangeChange, onBack, onExport, }) {
    const dailyUsageData = analytics.usage.daily.map(d => ({
        label: new Date(d.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
        value: d.usage,
    }));
    const spaceUsageData = analytics.usage.spaces.map(s => ({ label: s.name, value: s.usage }));
    const featureUsageData = analytics.usage.features.map(f => ({ label: f.feature, value: f.usage }));
    return (_jsxs("div", { className: "min-h-screen bg-gradient-to-br from-hive-background-primary via-hive-background-tertiary to-hive-background-secondary", children: [_jsx("div", { className: "border-b border-[rgba(255,255,255,0.1)] bg-[rgba(0,0,0,0.8)] backdrop-blur-lg sticky top-0 z-50", children: _jsx("div", { className: "max-w-7xl mx-auto px-6 py-4", children: _jsxs("div", { className: "flex items-center justify-between", children: [_jsxs("div", { className: "flex items-center gap-4", children: [_jsxs(Button, { size: "sm", variant: "ghost", onClick: onBack, className: "text-hive-text-tertiary hover:text-white", children: [_jsx(ArrowLeft, { className: "h-4 w-4 mr-2" }), "Back"] }), _jsxs("div", { children: [_jsxs("h1", { className: "text-xl font-semibold text-white", children: [toolName, " Analytics"] }), _jsx("p", { className: "text-sm text-hive-text-tertiary", children: "Usage insights and performance metrics" })] })] }), _jsxs("div", { className: "flex items-center gap-3", children: [_jsxs("select", { value: timeRange, onChange: (e) => onTimeRangeChange?.(e.target.value), className: "p-2 bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] rounded text-white text-sm focus:border-[var(--hive-brand-primary)]/50 focus:outline-none", children: [_jsx("option", { value: "7d", children: "Last 7 days" }), _jsx("option", { value: "30d", children: "Last 30 days" }), _jsx("option", { value: "90d", children: "Last 3 months" })] }), _jsxs(Button, { size: "sm", variant: "secondary", onClick: onExport, className: "border-[rgba(255,255,255,0.2)] text-hive-text-tertiary hover:text-white", children: [_jsx(Share, { className: "h-4 w-4 mr-2" }), "Export"] })] })] }) }) }), _jsxs("div", { className: "max-w-7xl mx-auto px-6 py-8 space-y-8", children: [_jsxs("div", { children: [_jsx("h2", { className: "text-2xl font-bold text-white mb-6", children: "Overview" }), _jsxs(Grid, { columns: 4, gap: "lg", children: [_jsx(MetricCard, { title: "Total Usage", value: analytics.overview.totalUsage, change: 12, icon: Activity }), _jsx(MetricCard, { title: "Active Users", value: analytics.overview.activeUsers, change: 8, icon: Users }), _jsx(MetricCard, { title: "Average Rating", value: analytics.overview.avgRating, change: 5, icon: Star, format: "rating" }), _jsx(MetricCard, { title: "Total Downloads", value: analytics.overview.downloads, change: -2, icon: Download })] })] }), _jsxs("div", { children: [_jsx("h2", { className: "text-2xl font-bold text-white mb-6", children: "Usage Analytics" }), _jsxs(Grid, { columns: 2, gap: "lg", children: [_jsx(SimpleChart, { data: dailyUsageData, title: "Daily Usage" }), _jsx(SimpleChart, { data: spaceUsageData, title: "Usage by Space" })] })] }), _jsxs(Grid, { columns: 2, gap: "xl", children: [_jsxs("div", { children: [_jsx("h2", { className: "text-2xl font-bold text-white mb-6", children: "Feature Usage" }), _jsx(SimpleChart, { data: featureUsageData, title: "Most Used Features" })] }), _jsxs("div", { children: [_jsx("h2", { className: "text-2xl font-bold text-white mb-6", children: "User Feedback" }), _jsxs(Card, { className: "p-6 bg-white/5 border-hive-border-default mb-6", children: [_jsx("h3", { className: "text-lg font-semibold text-white mb-4", children: "Rating Distribution" }), _jsx("div", { className: "space-y-3", children: analytics.feedback.ratings.map((rating, index) => (_jsxs("div", { className: "flex items-center gap-3", children: [_jsxs("div", { className: "flex items-center gap-1 w-16", children: [_jsx("span", { className: "text-sm text-hive-text-tertiary", children: rating.rating }), _jsx(Star, { className: "h-3 w-3 fill-[var(--hive-brand-primary)] text-[var(--hive-brand-primary)]" })] }), _jsx("div", { className: "flex-1 bg-white/10 rounded-full h-2", children: _jsx("div", { className: "bg-gradient-to-r from-[var(--hive-brand-primary)] to-hive-brand-hover h-2 rounded-full", style: { width: `${(rating.count / Math.max(analytics.feedback.ratings[0]?.count || 1, 1)) * 100}%` } }) }), _jsx("span", { className: "text-sm text-hive-text-tertiary w-8", children: rating.count })] }, index))) })] }), _jsxs("div", { children: [_jsx("h3", { className: "text-lg font-semibold text-white mb-4", children: "Recent Comments" }), _jsx("div", { className: "space-y-4", children: analytics.feedback.comments.map((comment, index) => (_jsx(FeedbackCard, { comment: comment }, index))) }), _jsxs(Button, { variant: "secondary", className: "w-full mt-4 border-[rgba(255,255,255,0.2)] text-hive-text-tertiary hover:text-white", children: [_jsx(MessageSquare, { className: "h-4 w-4 mr-2" }), "View All Feedback"] })] })] })] }), _jsx(Card, { className: "p-8 bg-gradient-to-r from-[rgba(255,215,0,0.05)] to-[rgba(255,215,0,0.02)] border-[rgba(255,215,0,0.1)]", children: _jsxs("div", { className: "flex items-start gap-4", children: [_jsx("div", { className: "w-12 h-12 bg-[var(--hive-brand-primary)]/20 rounded-xl flex items-center justify-center flex-shrink-0", children: _jsx(TrendingUp, { className: "h-6 w-6 text-[var(--hive-brand-primary)]" }) }), _jsxs("div", { children: [_jsx("h3", { className: "text-xl font-semibold text-white mb-2", children: "Performance Insights" }), _jsx("div", { className: "text-hive-text-tertiary mb-4", children: "Your tool is performing well with strong user engagement and positive feedback." }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4 text-sm", children: [_jsxs("div", { className: "bg-[rgba(255,255,255,0.05)] p-4 rounded-lg", children: [_jsx("div", { className: "text-green-400 font-medium", children: "\uD83D\uDCC8 Growing" }), _jsx("div", { className: "text-hive-text-tertiary", children: "Usage increased this period" })] }), _jsxs("div", { className: "bg-[rgba(255,255,255,0.05)] p-4 rounded-lg", children: [_jsx("div", { className: "text-[var(--hive-brand-primary)] font-medium", children: "\u2B50 High Rated" }), _jsx("div", { className: "text-hive-text-tertiary", children: "Consistently high user ratings" })] }), _jsxs("div", { className: "bg-[rgba(255,255,255,0.05)] p-4 rounded-lg", children: [_jsx("div", { className: "text-blue-400 font-medium", children: "\uD83D\uDD25 Popular" }), _jsx("div", { className: "text-hive-text-tertiary", children: "Top performer in category" })] })] })] })] }) })] })] }));
}
ToolAnalyticsPage.displayName = 'ToolAnalyticsPage';
//# sourceMappingURL=ToolAnalyticsPage.js.map