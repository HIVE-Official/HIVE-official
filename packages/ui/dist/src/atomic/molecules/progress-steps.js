import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { motion, useReducedMotion } from "framer-motion";
import { cn } from "../../lib/utils";
export function ProgressSteps({ steps, currentIndex, onStepClick, variant = "stepper", className, ...props }) {
    const shouldReduce = useReducedMotion();
    if (variant === "segmented") {
        const pct = steps.length > 1 ? Math.round(((currentIndex + 1) / steps.length) * 100) : 100;
        return (_jsxs("div", { className: cn("w-full", className), ...props, children: [_jsxs("div", { className: "mb-2 flex items-center justify-between text-xs text-[var(--hive-text-secondary)]", children: [_jsx("span", { children: steps[currentIndex]?.label ?? "" }), _jsxs("span", { className: "tabular-nums", children: [currentIndex + 1, "/", steps.length] })] }), _jsx("div", { className: "h-2 w-full overflow-hidden rounded-full bg-[color-mix(in_srgb,var(--hive-border-subtle,#2E2F39) 50%,transparent)]", children: _jsx(motion.div, { className: "h-full rounded-full bg-[color-mix(in_srgb,var(--hive-brand-primary,#FACC15) 85%,transparent)]", initial: false, animate: { width: `${pct}%` }, transition: { duration: shouldReduce ? 0 : 0.22, ease: [0.16, 1, 0.3, 1] } }) })] }));
    }
    return (_jsx("ol", { className: cn("grid grid-flow-col auto-cols-fr gap-3", className), ...props, children: steps.map((step, i) => {
            const state = i < currentIndex ? "complete" : i === currentIndex ? "current" : "upcoming";
            return (_jsx("li", { className: "flex items-center gap-3", children: _jsxs(motion.button, { type: "button", className: cn("flex min-w-0 flex-1 items-center gap-3 rounded-xl border px-3 py-2 text-left transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--hive-interactive-focus)]", state === "complete" && "border-transparent bg-[color-mix(in_srgb,var(--hive-brand-primary,#FACC15) 16%,transparent)] text-[var(--hive-text-primary)]", state === "current" && "border-[var(--hive-border-default)] bg-[var(--hive-background-secondary)] text-[var(--hive-text-primary)]", state === "upcoming" && "border-[var(--hive-border-default)] bg-[var(--hive-background-secondary)]/60 text-[var(--hive-text-secondary)] hover:bg-[var(--hive-background-tertiary)]/70"), onClick: () => onStepClick?.(i), "aria-current": state === "current" ? "step" : undefined, whileTap: { scale: 0.98 }, children: [_jsx(motion.span, { "aria-hidden": true, className: cn("inline-flex h-6 w-6 items-center justify-center rounded-full border text-xs font-semibold", state === "complete" && "border-transparent bg-[var(--hive-brand-primary)] text-[var(--hive-background-primary)]", state === "current" && "border-[var(--hive-border-default)] bg-[var(--hive-background-primary)] text-[var(--hive-text-primary)]", state === "upcoming" && "border-[var(--hive-border-default)] bg-[var(--hive-background-secondary)] text-[var(--hive-text-secondary)]"), animate: state === "current" ? { scale: 1.05 } : { scale: 1 }, transition: { duration: shouldReduce ? 0 : 0.15 }, children: i + 1 }), _jsxs("span", { className: "min-w-0 flex-1", children: [_jsx("span", { className: "block truncate text-sm font-medium", children: step.label }), step.description ? (_jsx("span", { className: "block truncate text-xs text-[var(--hive-text-tertiary)]", children: step.description })) : null] })] }) }, step.id));
        }) }));
}
//# sourceMappingURL=progress-steps.js.map