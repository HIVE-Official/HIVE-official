"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import * as React from "react";
import { Card, CardContent, CardHeader, CardTitle } from "../atoms/card";
import { Badge } from "../atoms/badge";
import { Button } from "../atoms/button";
import { cn } from "../../lib/utils";
const SpaceAboutSection = React.forwardRef(({ className, description, tags = [], createdAt, createdBy, rules = [], category, type, memberCount, postCount, eventCount, onEditDescription, onEditRules, isLeader = false, defaultExpanded = true, ...props }, ref) => {
    const [isExpanded, setIsExpanded] = React.useState(defaultExpanded);
    const [showAllRules, setShowAllRules] = React.useState(false);
    // Format date
    const formattedDate = createdAt
        ? new Intl.DateTimeFormat("en-US", {
            month: "long",
            day: "numeric",
            year: "numeric",
        }).format(createdAt)
        : null;
    // Truncate rules if too many
    const displayedRules = showAllRules ? rules : rules.slice(0, 3);
    return (_jsxs(Card, { ref: ref, className: cn("transition-all duration-[400ms]", className), ...props, children: [_jsx(CardHeader, { className: "pb-4", children: _jsxs("div", { className: "flex items-center justify-between", children: [_jsx(CardTitle, { className: "text-lg font-semibold tracking-tight leading-tight", children: "About" }), isLeader && onEditDescription && (_jsx(Button, { variant: "ghost", size: "sm", onClick: onEditDescription, className: "h-8 px-2 transition-all duration-fast", children: _jsx("svg", { className: "h-3.5 w-3.5", fill: "none", strokeWidth: "2", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" }) }) }))] }) }), _jsxs(CardContent, { className: "space-y-6", children: [_jsx("div", { children: _jsx("p", { className: "text-sm text-white/70 leading-normal whitespace-pre-wrap", children: description }) }), tags.length > 0 && (_jsx("div", { className: "flex flex-wrap gap-2", children: tags.map((tag, index) => (_jsxs(Badge, { variant: "secondary", className: "text-xs", children: ["#", tag] }, index))) })), (category || type) && (_jsxs("div", { className: "flex items-center gap-2 pt-2 border-t border-white/8", children: [_jsxs("svg", { className: "h-4 w-4 text-white/70", fill: "none", strokeWidth: "2", stroke: "currentColor", viewBox: "0 0 24 24", children: [_jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" }), _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M6 6h.008v.008H6V6z" })] }), _jsxs("div", { className: "flex items-center gap-2 flex-wrap", children: [category && (_jsx("span", { className: "text-sm font-medium text-white", children: category })), type && (_jsx(Badge, { variant: "outline", className: "text-xs capitalize", children: type }))] })] })), (memberCount !== undefined || postCount !== undefined || eventCount !== undefined) && (_jsxs("div", { className: "grid grid-cols-3 gap-3 pt-3 border-t border-white/8", children: [memberCount !== undefined && (_jsxs("div", { className: "flex flex-col items-center p-3 rounded-lg bg-white/5 transition-colors duration-fast hover:bg-white/10", children: [_jsx("span", { className: "text-lg font-semibold tracking-tight leading-tight text-white", children: memberCount }), _jsx("span", { className: "text-xs text-white/70", children: "Members" })] })), postCount !== undefined && (_jsxs("div", { className: "flex flex-col items-center p-3 rounded-lg bg-white/5 transition-colors duration-fast hover:bg-white/10", children: [_jsx("span", { className: "text-lg font-semibold tracking-tight leading-tight text-white", children: postCount }), _jsx("span", { className: "text-xs text-white/70", children: "Posts" })] })), eventCount !== undefined && (_jsxs("div", { className: "flex flex-col items-center p-3 rounded-lg bg-white/5 transition-colors duration-fast hover:bg-white/10", children: [_jsx("span", { className: "text-lg font-semibold tracking-tight leading-tight text-white", children: eventCount }), _jsx("span", { className: "text-xs text-white/70", children: "Events" })] }))] })), rules.length > 0 && (_jsxs("div", { className: "pt-3 border-t border-white/8", children: [_jsxs("div", { className: "flex items-center justify-between mb-3", children: [_jsxs("h4", { className: "text-sm font-semibold tracking-tight leading-tight text-white flex items-center gap-2", children: [_jsx("svg", { className: "h-4 w-4", fill: "none", strokeWidth: "2", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" }) }), "Community Rules"] }), isLeader && onEditRules && (_jsx(Button, { variant: "ghost", size: "sm", onClick: onEditRules, className: "h-8 px-2 transition-all duration-fast", children: _jsx("svg", { className: "h-3.5 w-3.5", fill: "none", strokeWidth: "2", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" }) }) }))] }), _jsx("ol", { className: "space-y-2", children: displayedRules.map((rule, index) => (_jsxs("li", { className: "flex gap-2 text-xs text-white/70 leading-normal", children: [_jsxs("span", { className: "shrink-0 font-medium text-white", children: [index + 1, "."] }), _jsx("span", { children: rule })] }, index))) }), rules.length > 3 && (_jsx("button", { onClick: () => setShowAllRules(!showAllRules), className: "mt-3 text-xs text-[#FFD700] transition-colors duration-fast hover:underline", children: showAllRules ? "Show less" : `Show ${rules.length - 3} more rules` }))] })), (createdAt || createdBy) && (_jsx("div", { className: "pt-3 border-t border-white/8", children: _jsxs("div", { className: "flex items-start gap-3", children: [createdBy?.avatar ? (_jsx("div", { className: "h-10 w-10 overflow-hidden rounded-lg border border-white/8 bg-white/10 shrink-0", children: _jsx("img", { src: createdBy.avatar, alt: createdBy.name, className: "h-full w-full object-cover" }) })) : createdBy ? (_jsx("div", { className: "h-10 w-10 flex items-center justify-center rounded-lg border border-white/8 bg-[#FFD700]/10 shrink-0", children: _jsx("span", { className: "text-xs font-semibold text-[#FFD700]", children: createdBy.name.split(" ").map((n) => n[0]).join("").slice(0, 2) }) })) : null, _jsxs("div", { className: "flex-1 min-w-0", children: [createdBy && (_jsxs("div", { className: "flex flex-col gap-0.5", children: [_jsx("span", { className: "text-xs text-white/70", children: "Created by" }), _jsx("span", { className: "text-sm font-medium tracking-tight leading-tight text-white truncate", children: createdBy.name }), _jsx("span", { className: "text-xs text-white/70 truncate", children: createdBy.handle })] })), createdAt && (_jsx("span", { className: "text-xs text-white/70 mt-1 block", children: formattedDate }))] })] }) }))] })] }));
});
SpaceAboutSection.displayName = "SpaceAboutSection";
export { SpaceAboutSection };
//# sourceMappingURL=space-about-section.js.map